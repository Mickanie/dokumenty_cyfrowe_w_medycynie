(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},27:function(e,t,a){e.exports=a(52)},32:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(24),c=a.n(r),o=(a(32),a(2)),i=a(3),u=a(5),m=a(4),s=a(6),p=a(13),d=a(7),h=a.n(d),E=a(9),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={accountType:"patient",generatedLogin:""},a.chooseAccountType=function(e){a.setState({accountType:e.target.value})},a.goBack=function(){a.props.history.push("/")},a.validatePassword=function(){var e=document.getElementById("password"),t=document.getElementById("confirm-password");e.value!==t.value?t.setCustomValidity("Has\u0142a nie s\u0105 jednakowe"):t.setCustomValidity("")},a.registerUser=function(){var e=Object(E.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"doctor"!==a.state.accountType){e.next=7;break}return fetch("https://medical-documentation.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountType:a.state.accountType,name:t.target.name.value,surname:t.target.surname.value,pesel:t.target.pesel.value,PWZ:t.target.PWZ.value,specialization:t.target.specialization.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){a.setState({generatedLogin:e.login})}),e.next=5,localStorage.setItem("generatedLogin",a.state.generatedLogin);case 5:e.next=11;break;case 7:return e.next=9,fetch("https://medical-documentation.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountType:a.state.accountType,name:t.target.name.value,surname:t.target.surname.value,pesel:t.target.pesel.value,dob:t.target.dob.value,sex:t.target.sex.value,address:t.target.address.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){a.setState({generatedLogin:e.login})});case 9:return e.next=11,localStorage.setItem("generatedLogin",a.state.generatedLogin);case 11:a.props.history.push("/");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container register-container"},l.a.createElement("h2",null,"Zarejestruj si\u0119"),l.a.createElement("button",{className:"backButton",onClick:this.goBack},"Powr\xf3t do logowania"),l.a.createElement("form",{onSubmit:this.registerUser},l.a.createElement("span",null,l.a.createElement("label",null,"Typ konta: "),l.a.createElement("select",{name:"accountType",onChange:this.chooseAccountType},l.a.createElement("option",{value:"patient"},"Pacjent"),l.a.createElement("option",{value:"doctor"},"Lekarz"),l.a.createElement("option",{value:"lab"},"Laborant"))),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"name"},"Imi\u0119 "),l.a.createElement("input",{type:"text",name:"name",required:!0})),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"surname"},"Nazwisko "),l.a.createElement("input",{type:"text",name:"surname",required:!0})),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"surname"},"P\u0142e\u0107 "),l.a.createElement("input",{type:"text",name:"sex",required:!0})),"doctor"!==this.state.accountType&&l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"dob"},"Data urodzenia "),l.a.createElement("input",{type:"date",name:"dob",required:!0})),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"pesel"},"PESEL "),l.a.createElement("input",{type:"text",name:"pesel",id:"pesel",required:!0,pattern:"[0-9]{11}"})),"doctor"===this.state.accountType&&l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",null,l.a.createElement("label",null,"Numer PWZ"),l.a.createElement("input",{type:"text",name:"PWZ",required:!0})),l.a.createElement("span",null,l.a.createElement("label",null,"Specjalizacja"),l.a.createElement("input",{type:"text",name:"specialization",required:!0}))),"doctor"!==this.state.accountType&&l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"surname"},"Adres "),l.a.createElement("input",{type:"text",name:"address",required:!0})),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"password"},"Has\u0142o "),l.a.createElement("input",{type:"password",required:!0,id:"password"})),l.a.createElement("span",null,l.a.createElement("label",{htmlFor:"password"},"Powt\xf3rz has\u0142o "),l.a.createElement("input",{type:"password",required:!0,id:"confirm-password",onChange:this.validatePassword})),l.a.createElement("input",{type:"submit",value:"Zarejestruj si\u0119"})))}}]),t}(n.Component),v=a(1),g=(a(35),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={documents:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(t){return e.setState({documents:t})})}},{key:"render",value:function(){var e,t=this;return this.state.documents.length?(this.state.documents.forEach(function(a){console.log(a),a._id===t.props.match.params.documentId&&(e=a)}),console.log(e),l.a.createElement("div",{className:"container document-container"},l.a.createElement(v.c,{to:"/documentation",className:"backButton"},l.a.createElement("button",null,"Powr\xf3t")),l.a.createElement("p",{style:{fontWeight:"700"}},e.title),!e.title.includes("Badanie krwi")&&l.a.createElement("p",null,e.content),e.title.includes("Badanie krwi")&&l.a.createElement("div",{className:"table"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Lp"),l.a.createElement("th",null,"Parametr"),l.a.createElement("th",null,"Warto\u015b\u0107"),l.a.createElement("th",null,"Zakres"),l.a.createElement("th",null,"Jednostka"))),e.results.map(function(t,a){return l.a.createElement("tbody",{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,a+1),l.a.createElement("td",null,e.results[a].name),l.a.createElement("td",null,e.results[a].value),l.a.createElement("td",null,e.results[a].range),l.a.createElement("td",null,e.results[a].unit)))}))),l.a.createElement("button",null,"Zapisz do PDF"))):null}}]),t}(n.Component)),f=(a(44),a(22),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={tasks:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container medical-process-container"},"doctor"===this.props.activeAccount&&l.a.createElement("form",{onSubmit:this.props.addTask},l.a.createElement("input",{type:"text",placeholder:"Tytu\u0142",name:"title"}),l.a.createElement("select",{name:"completed"},l.a.createElement("option",{value:"done"},"Wykonane"),l.a.createElement("option",{value:"todo"},"Do zrobienia")),"Data: ",l.a.createElement("input",{type:"datetime-local",name:"date"}),l.a.createElement("textarea",{placeholder:"Szczeg\xf3\u0142y",name:"details"}),l.a.createElement("input",{type:"submit",value:"Dodaj zadanie"})),l.a.createElement("div",{className:"content"},l.a.createElement("h3",null,"Do zrobienia"),l.a.createElement("ul",null,this.props.tasks.filter(function(e){return!1===e.completed}).map(function(t,a){return l.a.createElement("li",{key:a},l.a.createElement("strong",null,t.title),"doctor"===e.props.activeAccount&&l.a.createElement("button",{className:"set-done",id:t._id,onClick:e.props.setCompleted},"\u2713"),l.a.createElement("button",{className:"edit",id:a},"\ud83d\udd89"),l.a.createElement("br",null),t.details,l.a.createElement("span",{style:{float:"right"}},t.date))})),l.a.createElement("hr",null),l.a.createElement("h3",null,"Wykonane"),l.a.createElement("ul",null,this.props.tasks.filter(function(e){return!0===e.completed}).map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("strong",null,e.title),l.a.createElement("button",{className:"edit",id:t},"\ud83d\udd89"),l.a.createElement("br",null),e.details,l.a.createElement("span",{style:{float:"right"}},e.date))}))))}}]),t}(n.Component)),y=(a(45),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={documents:[]},a.sort=function(e,t){return e.date=e.date.split("-").join(""),t.date=t.date.split("-").join(""),e.date>t.date?1:e.date<t.date?-1:0},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(t){return e.setState({documents:t})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container documentation-container"},"doctor"===this.props.activeAccount&&l.a.createElement(v.c,{to:"documentation/create-new"},l.a.createElement("button",null,"Dodaj wynik badania")),l.a.createElement("form",{className:"filterForm"},l.a.createElement("label",null,"Filtruj po tagu:"," ",l.a.createElement("select",{name:"tags"},l.a.createElement("option",{value:"all"},"Wszystko"),l.a.createElement("option",{value:"blood-test"},"Badanie krwi"),l.a.createElement("option",{value:"usg"},"Badanie USG"),l.a.createElement("option",{value:"ekg"},"Badanie EKG"),l.a.createElement("option",{value:"echo"},"Echo serca"),l.a.createElement("option",{value:"imaging"},"Obrazowanie medyczne (TK/MRI)"),l.a.createElement("option",{value:"angiography"},"Angiografia / Koronarografia"),l.a.createElement("option",{value:"cardiology"},"Kardiologiczne"))),l.a.createElement("label",null,"Filtruj po dacie: od ",l.a.createElement("input",{type:"date"})," do ",l.a.createElement("input",{type:"date"})),l.a.createElement("input",{type:"submit",value:"Filtruj"})),l.a.createElement("div",{className:"documents content"},l.a.createElement("ul",null,this.state.documents.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement(v.c,{style:{fontWeight:"600",textDecoration:"underline"},to:"/documentation/document".concat(e._id)},e.title))}))))}}]),t}(n.Component)),k=(a(46),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={recommendations:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/recommendations").then(function(e){return e.json()}).then(function(t){return e.setState({recommendations:t})})}},{key:"render",value:function(){return l.a.createElement("div",{className:"container recommendations-container"},"doctor"===this.props.activeAccount&&l.a.createElement(v.c,{to:"/recommendations/create-new"},l.a.createElement("button",null,"Dodaj zalecenie")),l.a.createElement("div",{className:"content"},this.state.recommendations.map(function(e,t){return l.a.createElement("div",{className:"recommendation",key:t},l.a.createElement("p",null,"Data: ",e.date," "),l.a.createElement("p",null,"Lekarz: ",e.doctor," "),l.a.createElement("p",null,"Tre\u015b\u0107: ",e.content),l.a.createElement("p",null,"Za\u0142\u0105czone dokumenty:"," ",e.attachedDocuments.map(function(e,t){return l.a.createElement(v.c,{key:t,style:{margin:"10px",color:"white",textDecoration:"underline"},to:"/recommendations/attached-document-:".concat(e.id)},e.title)})))})))}}]),t}(n.Component)),j=(a(47),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={patient:[],tasks:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/patient").then(function(e){return e.json()}).then(function(t){return e.setState({patient:t})})}},{key:"render",value:function(){var e=this,t=this.state.patient;return l.a.createElement("div",{className:"side-bar"},l.a.createElement("div",{className:"patient-info"},l.a.createElement("h3",null,"Dane osobowe"),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Imi\u0119 i nazwisko: "),l.a.createElement("td",null," ",t.name," ",t.surname," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"P\u0142e\u0107: "),l.a.createElement("td",null," ",t.sex," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Wiek: "),l.a.createElement("td",null," ",t.age," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"PESEL: "),l.a.createElement("td",null," ",t.PESEL," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Data urodzenia: "),l.a.createElement("td",null," ",t.dateOfBirth," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Adres: "),l.a.createElement("td",null," ",t.address," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"Telefon: "),l.a.createElement("td",null," ",t.telephone," ")),l.a.createElement("tr",null,l.a.createElement("td",null,"ICD10: "),l.a.createElement("td",null," ",t.icd10," ")))),"doctor"===this.props.activeAccount&&l.a.createElement("button",null,"Edytuj")),l.a.createElement("div",{className:"todo-list"},l.a.createElement("h3",null,"Zadania do wykonania"),l.a.createElement("ul",null,this.props.tasks.map(function(t,a){return l.a.createElement("li",{key:a},l.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:e.props.toggleComplete,id:t._id,disabled:"doctor"!==e.props.activeAccount})," ",t.title)})),"doctor"===this.props.activeAccount&&l.a.createElement("form",{onSubmit:this.props.addTask},l.a.createElement("input",{type:"text",placeholder:"Wpisz nowe zadanie",name:"title"}),l.a.createElement("input",{type:"submit",value:"Dodaj"}))))}}]),t}(n.Component)),w=(a(23),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={patientID:"",tasks:[]},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(t){return e.setState({tasks:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(j,{tasks:this.state.tasks}),l.a.createElement(v.b,null,l.a.createElement("nav",null,l.a.createElement(v.d,{to:"/documentation",activeClassName:"active"},"Dokumentacja"),l.a.createElement(v.d,{to:"/recommendations",activeClassName:"active"},"Zalecenia lekarskie"),l.a.createElement(v.d,{to:"/medical-process",activeClassName:"active"},"Proces medyczny")),l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/documentation",component:y}),l.a.createElement(p.b,{exact:!0,path:"/recommendations",component:k}),l.a.createElement(p.b,{path:"/medical-process",render:function(t){return l.a.createElement(f,Object.assign({},t,{tasks:e.state.tasks}))}}),l.a.createElement(p.b,{exact:!0,path:"/documentation/document:documentId",component:g}),l.a.createElement(p.a,{from:"/",to:"/documentation"}))))}}]),t}(n.Component)),D=(a(48),function(e){var t="".concat(1===e.getDate().toString().length?"0":"").concat(e.getDate()),a="".concat(1===e.getMonth().toString().length?"0":"").concat(e.getMonth()+1),n=e.getYear()-100;return"20".concat(n,"-").concat(a,"-").concat(t)}),O=D(new Date),S=D(new Date(Date.now()-2592e5)),x=(function(e){var t="".concat(1===e.getDate().toString().length?"0":"").concat(e.getDate()),a="".concat(1===e.getMonth().toString().length?"0":"").concat(e.getMonth()+1),n=e.getYear()-100,l="".concat(1===e.getHours().toString().length?"0":"").concat(e.getHours()),r="".concat(1===e.getMinutes().toString().length?"0":"").concat(e.getMinutes());"20".concat(n,"-").concat(a,"-").concat(t," ").concat(l,":").concat(r)}(new Date),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={documentType:""},a.chooseDocumentType=function(e){a.setState({documentType:e.target.value})},a.createDocument=function(e){e.preventDefault();var t="".concat(a.state.documentType,": ").concat(e.target.region?e.target.region.value:"","  ").concat(e.target.testDate.value.split("T")[0]);console.log(t),fetch("https://medical-documentation.herokuapp.com/new-document",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentType:a.state.documentType,title:t,testDate:e.target.testDate.value.split("T").join(" "),orderingDoctor:e.target.orderingDoctor.value,performingDoctor:e.target.performingDoctor.value,content:e.target.content.value})}),a.props.history.push("/documentation")},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement(v.c,{to:"/documentation",className:"backButton",style:{position:"absolute",top:"2%",left:"30px"}},l.a.createElement("button",null,"Powr\xf3t")),l.a.createElement("div",{className:"new-document"},l.a.createElement("h2",{style:{textAlign:"center"}},"Nowy dokument"),l.a.createElement("label",{style:{width:"70%",margin:"auto"}},"Typ dokumentu:",l.a.createElement("select",{name:"documentType",onChange:this.chooseDocumentType,defaultValue:"default"},l.a.createElement("option",{value:"default",disabled:!0},"Wybierz typ"),l.a.createElement("option",{value:"Badanie USG"},"Badanie USG"),l.a.createElement("option",{value:"Badanie EKG"},"Badanie EKG"),l.a.createElement("option",{value:"Echokardiografia"},"Echokardiografia"),l.a.createElement("option",{value:"Tomografia komputerowa"},"Tomografia komputerowa"),l.a.createElement("option",{value:"Rezonans magnetyczny"},"Rezonans magnetyczny"),l.a.createElement("option",{value:"Angiografia"},"Angiografia / Koronarografia"))),this.state.documentType&&l.a.createElement("form",{className:"document-form",onSubmit:this.createDocument},("Rezonans magnetyczny"===this.state.documentType||"Tomografia komputerowa"===this.state.documentType)&&l.a.createElement("label",null," ","Badany obszar: ",l.a.createElement("input",{type:"text",name:"region",required:!0})),l.a.createElement("label",null," ","Data badania:"," ",l.a.createElement("input",{type:"datetime-local",name:"testDate",min:S,max:O,defaultValue:O,required:!0})),l.a.createElement("label",null," ","Lekarz zlecaj\u0105cy:"," ",l.a.createElement("input",{type:"text",name:"orderingDoctor",required:!0})),l.a.createElement("label",null," ","Lekarz wykonuj\u0105cy:"," ",l.a.createElement("input",{type:"text",name:"performingDoctor",required:!0})),l.a.createElement("label",null," ","Tre\u015b\u0107: ",l.a.createElement("textarea",{required:!0,name:"content"})),l.a.createElement("label",null," ","Za\u0142\u0105czniki: ",l.a.createElement("input",{type:"file",multiple:"multiple"})),l.a.createElement("input",{type:"submit",value:"Dodaj dokument"}))))}}]),t}(n.Component)),N=(a(49),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={dataSaved:JSON.parse(localStorage.getItem("saved")),data:JSON.parse(localStorage.getItem("recommendationData"))||{},attachments:JSON.parse(localStorage.getItem("attachments"))||[]},a.toggleSave=function(){var e=Object(E.a)(h.a.mark(function e(t){var n,l,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target.parentElement,l=n.date,r=n.content,a.state.dataSaved){e.next=7;break}return e.next=5,a.setState({dataSaved:!0,data:{content:r.value,date:l.value}});case 5:e.next=9;break;case 7:return e.next=9,a.setState({dataSaved:!1,data:{content:"",date:""}});case 9:return e.next=11,localStorage.setItem("recommendationData",JSON.stringify(a.state.data));case 11:return e.next=13,localStorage.setItem("saved",JSON.stringify(a.state.dataSaved));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.submitRecommendation=function(){fetch("https://medical-documentation.herokuapp.com/new-recommendation",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:document.getElementById("date").value,content:document.getElementById("content").value,attachments:a.state.attachments})}),localStorage.removeItem("saved"),localStorage.removeItem("recommendationData"),localStorage.removeItem("attachments"),a.props.history.push("/recommendations")},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"container form-container"},l.a.createElement("h2",null,"Nowe zalecenie"),l.a.createElement(v.c,{to:"/recommendations",className:"backButton"},l.a.createElement("button",null,"Powr\xf3t")),l.a.createElement("form",null,l.a.createElement("label",null,"Data:",l.a.createElement("input",{type:"date",disabled:this.state.dataSaved,name:"date",id:"date",min:S,max:O,defaultValue:this.state.data.date||O})),l.a.createElement("label",null,"Tre\u015b\u0107:"," ",l.a.createElement("textarea",{id:"content",disabled:this.state.dataSaved,name:"content",defaultValue:this.state.data.content||""})),l.a.createElement("input",{type:"submit",value:this.state.dataSaved?"Edytuj":"Zapisz",onClick:this.toggleSave})),this.state.attachments&&l.a.createElement("p",{className:"attachments-info"},"Za\u0142\u0105czniki:",this.state.attachments.map(function(e,t){return l.a.createElement(v.c,{key:t,className:"attachments",to:"/recommendations/attachments/:document"},e.title)})),l.a.createElement("p",null,"Wygeneruj za\u0142\u0105cznik:"," ",l.a.createElement(v.c,{to:"/recommendations/create-new/generate-prescription"},l.a.createElement("button",{className:"attachment-button"},"Recepta")),l.a.createElement(v.c,{to:"/recommendations/create-new/generate-sickleave"},l.a.createElement("button",{className:"attachment-button"},"Zwolnienie")),l.a.createElement(v.c,{to:"/recommendations/create-new/generate-referral"},l.a.createElement("button",{className:"attachment-button"},"Skierowanie")),l.a.createElement(v.c,{to:"/recommendations/create-new/generate-lab-order"},l.a.createElement("button",{className:"attachment-button"},"Zlecenie badania"))),l.a.createElement("button",{className:"submit-button",onClick:this.submitRecommendation},"Dodaj zalecenie"))}}]),t}(n.Component)),T=a(15),z=(a(50),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).submitAttachment=function(){var e=Object(E.a)(h.a.mark(function e(t){var n,l,r,c,o,i,u,m,s,p,d,E,b,v,g,f,y,k;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={},l=t.target,r=l.date,c=l.startDate,e.t0=a.props.documentType,e.next="prescription"===e.t0?6:"sickleave"===e.t0?9:"referral"===e.t0?12:"lab-order"===e.t0?15:20;break;case 6:return o=t.target,i=o.medicine,u=o.payment,n={title:"Recepta ".concat(i.value),medicine:i.value,payment:u.value,issueDate:r.value,startDate:c.value,type:"recepta"},e.abrupt("break",21);case 9:return m=t.target,s=m.placeOfWork,p=m.endDate,n={title:"Zwolnienie ".concat(c.value,"-").concat(p.value),issueDate:r.value,placeOfWork:s.value,startDate:c.value,endDate:p.value,type:"zwolnienie"},e.abrupt("break",21);case 12:return d=t.target,E=d.place,b=d.examination,v=d.diagnosis,g=d.aim,n={title:"Skierowanie do ".concat(E.value),issueDate:r.value,place:E.value,examination:b.value,diagnosis:v.value,aim:g.value,type:"skierowanie"},e.abrupt("break",21);case 15:return f=Object(T.a)(t.target.test),y=f.filter(function(e){return!0===e.checked}).map(function(e){return e.value}),console.log(y),n={title:"Zlecenie bada\u0144 laboratoryjnych ".concat(r.value),labTests:y,type:"zlecenie bada\u0144"},e.abrupt("break",21);case 20:return e.abrupt("return");case 21:return e.next=23,fetch("https://medical-documentation.herokuapp.com/attach-document",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){return n.id=e});case 23:console.log(n.id),(k=JSON.parse(localStorage.getItem("attachments"))||[]).push(n),localStorage.setItem("attachments",JSON.stringify(k)),a.props.history.push("/recommendations/create-new");case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.documentType;return l.a.createElement("div",{className:"container"},l.a.createElement(v.c,{to:"/recommendations/create-new",className:"backButton"},l.a.createElement("button",null,"Powr\xf3t")),"prescription"===e&&l.a.createElement("div",null,l.a.createElement("h2",null,"Nowa recepta"),l.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},l.a.createElement("label",null,"Data:",l.a.createElement("input",{type:"date",name:"date",min:S,max:O,defaultValue:O})),l.a.createElement("label",null,"Informacje o leku:"," ",l.a.createElement("input",{type:"text",placeholder:"Nazwa, ilo\u015b\u0107, dawkowanie",name:"medicine",required:!0})),l.a.createElement("label",null,"Odp\u0142atno\u015b\u0107: ",l.a.createElement("input",{type:"text",name:"payment",required:!0})),l.a.createElement("label",null,"Data od dnia: ",l.a.createElement("input",{type:"date",name:"startDate"})),l.a.createElement("input",{type:"submit",value:"Dodaj"}))),"sickleave"===e&&l.a.createElement("div",null,l.a.createElement("h2",null,"Nowe zwolnienie lekarskie"),l.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},l.a.createElement("label",null,"Data:",l.a.createElement("input",{type:"date",name:"date",min:S,max:O,defaultValue:O})),l.a.createElement("label",null,"Miejsce pracy: ",l.a.createElement("input",{type:"text",name:"placeOfWork",required:!0})),l.a.createElement("label",null,"od:"," ",l.a.createElement("input",{type:"date",name:"startDate",min:S,required:!0})),l.a.createElement("label",null,"do: ",l.a.createElement("input",{type:"date",name:"endDate",required:!0})),l.a.createElement("input",{type:"submit",value:"Dodaj"}))),"referral"===e&&l.a.createElement("div",null,l.a.createElement("h2",null,"Nowe skierowanie"),l.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},l.a.createElement("label",null,"Data:",l.a.createElement("input",{type:"date",name:"date",min:S,max:O,defaultValue:O})),l.a.createElement("label",null,"Skierowanie do:"," ",l.a.createElement("input",{type:"text",name:"place",placeholder:"poradni specjalistycznej, pracowni diagnostycznej",required:!0})),l.a.createElement("label",null,"Badanie:"," ",l.a.createElement("input",{type:"text",name:"examination",placeholder:"konsultacja, badanie USG",required:!0})),l.a.createElement("label",null,"Rozpoznanie: ",l.a.createElement("input",{type:"text",name:"diagnosis",required:!0})),l.a.createElement("label",null,"Cel: ",l.a.createElement("input",{type:"text",name:"aim",required:!0})),l.a.createElement("input",{type:"submit",value:"Dodaj"}))),"lab-order"===e&&l.a.createElement("div",null,l.a.createElement("h2",null,"Nowe zlecenie na badanie"),l.a.createElement("form",{className:"lab-order-form",onSubmit:this.submitAttachment},l.a.createElement("label",null,"Data:",l.a.createElement("input",{type:"date",name:"date",min:S,max:O,defaultValue:O})),l.a.createElement("div",{className:"tests"},l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"OB"}),"OB"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"Glukoza"}),"Glukoza"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"LDL"}),"LDL"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"HDL"}),"HDL"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"TG"}),"Tr\xf3jglicerydy"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"Morfologia"}),"Morfologia"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"Magnez"}),"Magnez"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"S\xf3d"}),"S\xf3d"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"Potas"}),"Potas"),l.a.createElement("label",null,l.a.createElement("input",{type:"checkbox",name:"test",value:"\u017belazo"}),"\u017belazo")),l.a.createElement("input",{type:"submit",value:"Dodaj"}))))}}]),t}(n.Component)),I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={patientID:"",tasks:[]},a.addTask=function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n="done"===t.target.completed.value,fetch("https://medical-documentation.herokuapp.com/new-task",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.target.title.value,date:t.target.date.value.split("T").join(" "),completed:n,details:t.target.details.value})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e})}),t.target.title.value="",t.target.details.value="",t.target.date.value="";case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setCompleted=function(e){console.log(e.target.id);var t=e.target.id;a.setState({tasks:a.state.tasks.map(function(e,a){return e._id===t&&(e.completed=!0),e})}),fetch("https://medical-documentation.herokuapp.com/complete-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})},a.addTaskFromSideBar=function(e){e.preventDefault(),fetch("https://medical-documentation.herokuapp.com/new-task",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e.target.title.value,date:"",completed:!1,details:""})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e})}),e.target.title.value=""},a.toggleComplete=function(e){var t=e.target.id,n="";a.setState({tasks:a.state.tasks.map(function(e,a){return e._id===t&&(e.completed=!e.completed,n=e.completed),e})}),fetch("https://medical-documentation.herokuapp.com/complete-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,completed:n})})},a.searchPatient=function(){var e=Object(E.a)(h.a.mark(function e(t){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.state.patientID){e.next=10;break}return t.preventDefault(),n=t.target.patientID.value,e.next=6,fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:n})}).then(function(e){return e.json()}).then(function(e){return a.setState({patientID:e})});case 6:return e.next=8,fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(e){console.log(e),a.setState({tasks:e})});case 8:e.next=13;break;case 10:a.setState({patientID:""}),t.target.patientID.value="",fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:""})});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(t){return e.setState({tasks:t})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("form",{className:"ID-form",onSubmit:this.searchPatient},l.a.createElement("label",null,"Testowe ID pacjent\xf3w: 11111 i 12345",l.a.createElement("input",{type:"text",placeholder:"Wpisz ID pacjenta",name:"patientID",pattern:"[0-9]{5}"})),l.a.createElement("input",{type:"submit",value:this.state.patientID?"Zmie\u0144 pacienta":"Znajd\u017a pacjenta"})),this.state.patientID&&l.a.createElement("div",null,l.a.createElement(j,{activeAccount:"doctor",patient:this.state.patientID,tasks:this.state.tasks,addTask:this.addTaskFromSideBar,toggleComplete:this.toggleComplete}),l.a.createElement(v.b,null,l.a.createElement("nav",null,l.a.createElement(v.d,{to:"/documentation",activeClassName:"active"},"Dokumentacja"),l.a.createElement(v.d,{to:"/recommendations",activeClassName:"active"},"Zalecenia lekarskie"),l.a.createElement(v.d,{to:"/medical-process",activeClassName:"active"},"Proces medyczny")),l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/recommendations/create-new/generate-prescription",render:function(e){return l.a.createElement(z,Object.assign({},e,{documentType:"prescription"}))}}),l.a.createElement(p.b,{exact:!0,path:"/recommendations/create-new/generate-sickleave",render:function(e){return l.a.createElement(z,Object.assign({},e,{documentType:"sickleave"}))}}),l.a.createElement(p.b,{exact:!0,path:"/recommendations/create-new/generate-referral",render:function(e){return l.a.createElement(z,Object.assign({},e,{documentType:"referral"}))}}),l.a.createElement(p.b,{exact:!0,path:"/recommendations/create-new/generate-lab-order",render:function(e){return l.a.createElement(z,Object.assign({},e,{documentType:"lab-order"}))}}),l.a.createElement(p.b,{exact:!0,path:"/documentation/document:documentId",component:g}),l.a.createElement(p.b,{exact:!0,path:"/recommendations/create-new",component:N}),l.a.createElement(p.b,{exact:!0,path:"/documentation/create-new",component:x}),l.a.createElement(p.b,{path:"/documentation",render:function(e){return l.a.createElement(y,Object.assign({},e,{activeAccount:"doctor"}))}}),l.a.createElement(p.b,{path:"/recommendations",render:function(e){return l.a.createElement(k,Object.assign({},e,{activeAccount:"doctor"}))}}),l.a.createElement(p.b,{path:"/medical-process",render:function(t){return l.a.createElement(f,Object.assign({},t,{activeAccount:"doctor",tasks:e.state.tasks,addTask:e.addTask,setCompleted:e.setCompleted}))}}),l.a.createElement(p.a,{from:"/",to:"/documentation"}))),l.a.createElement("div",null)))}}]),t}(n.Component),C=(a(51),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={resultType:"",results:[]},a.chooseResultType=function(e){console.log(e.target.value),a.setState({resultType:e.target.value})},a.addParameter=function(e){e.preventDefault();var t=document.querySelector("#parameter").value,n=document.querySelector("#result").value;if(n){var l={name:t,value:n,type:a.state.resultType};a.setState({results:[].concat(Object(T.a)(a.state.results),[l])}),document.querySelector("#result").value=""}},a.submitResult=function(e){e.preventDefault();var t=e.target.collectionDate.value.split("T"),n="Badanie krwi ".concat(t[0]),l=O;console.log(n,t.join(" ")),fetch("https://medical-documentation.herokuapp.com/lab-result",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({labPatientID:e.target.patientID.value,title:n,collectionDate:t.join(" "),issueDate:l,results:a.state.results})}),a.setState({resultType:"",results:[]}),window.location.reload()},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"container lab-container"},l.a.createElement("h2",null,"Dodaj wynik badania krwi"),l.a.createElement("form",{className:"form",onSubmit:this.submitResult},l.a.createElement("label",{htmlFor:"patientID"},"ID pacjenta"," ",l.a.createElement("input",{name:"patientID",type:"text",required:!0,pattern:"[0-9]{5}"})),l.a.createElement("label",{htmlFor:"collectionDate"},"Data pobrania ",l.a.createElement("input",{name:"collectionDate",type:"datetime-local"})),l.a.createElement("label",null,"Typ badania",l.a.createElement("select",{name:"result-type",onChange:this.chooseResultType,defaultValue:"default"},l.a.createElement("option",{value:"default",disabled:!0},"Wybierz typ badania"),l.a.createElement("option",{value:"morfologia"},"Morfologia krwi"),l.a.createElement("option",{value:"biochemia"},"Biochemia krwi"))),this.state.resultType&&l.a.createElement("div",null,l.a.createElement("div",{className:"inner-form"},l.a.createElement("label",null,"Wybierz parametr","morfologia"===this.state.resultType&&l.a.createElement("select",{name:"parameter",id:"parameter"},l.a.createElement("option",{value:"HGB"},"HGB"),l.a.createElement("option",{value:"WGB"},"WGB"),l.a.createElement("option",{value:"RGB"},"RGB")),"biochemia"===this.state.resultType&&l.a.createElement("select",{name:"parameter",id:"parameter"},l.a.createElement("option",{value:"LDL"},"LDL"),l.a.createElement("option",{value:"HDL"},"HDL"),l.a.createElement("option",{value:"Glukoza"},"Glukoza"),l.a.createElement("option",{value:"Kwas moczowy"},"Kwas moczowy"),l.a.createElement("option",{value:"Homocysteina"},"Homocysteina"))),l.a.createElement("label",null,"Warto\u015b\u0107",l.a.createElement("input",{type:"text",name:"result",id:"result"})),l.a.createElement("input",{type:"submit",value:"Dodaj parametr",onClick:this.addParameter})),this.state.results.length>0&&l.a.createElement("div",{className:"table"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Lp"),l.a.createElement("th",null,"Parametr"),l.a.createElement("th",null,"Warto\u015b\u0107"),l.a.createElement("th",null,"Zakres"),l.a.createElement("th",null,"Jednostka"))),this.state.results.map(function(t,a){return l.a.createElement("tbody",{key:a},l.a.createElement("tr",null,l.a.createElement("td",null,a+1),l.a.createElement("td",null,e.state.results[a].name),l.a.createElement("td",null,e.state.results[a].value),l.a.createElement("td",null,"zakres"),l.a.createElement("td",null,"jednostka")))})),l.a.createElement("input",{type:"submit",value:"Zapisz i prze\u015blij"})))))}}]),t}(n.Component)),A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={activeAccount:localStorage.getItem("account")||"",isLoggedIn:!1},a.changeAccount=function(e){a.setState({activeAccount:e.target.value})},a.logIn=function(){var e=Object(E.a)(h.a.mark(function e(t){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://medical-documentation.herokuapp.com/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t.target.login.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){console.log(e),"FAIL"===e?document.querySelector("#login-info").innerHTML="Niepoprawny login i has\u0142o":a.setState({activeAccount:e.accountType,isLoggedIn:!0})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logOut=function(){a.setState({activeAccount:"",isLoggedIn:!1}),a.props.history.push("/")},a}return Object(s.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){localStorage.setItem("loggedIn",this.state.isLoggedIn),localStorage.setItem("account",this.state.activeAccount)}},{key:"render",value:function(){var e;return localStorage.getItem("generatedLogin")?(e="Tw\xf3j wygenerowany login: ".concat(localStorage.getItem("generatedLogin")),localStorage.removeItem("generatedLogin")):e=l.a.createElement("br",null),l.a.createElement("div",null,this.state.isLoggedIn?l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"radio-buttons"},l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"account",id:"Patient",value:"patient",checked:"patient"===this.state.activeAccount,onChange:this.changeAccount})," ","Pacjent"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"account",id:"Doctor",value:"doctor",checked:"doctor"===this.state.activeAccount,onChange:this.changeAccount})," ","Lekarz"),l.a.createElement("label",null,l.a.createElement("input",{type:"radio",name:"account",id:"Lab",value:"lab",checked:"lab"===this.state.activeAccount,onChange:this.changeAccount})," ","Laborant")),l.a.createElement("button",{className:"log-out",onClick:this.logOut},"Wyloguj si\u0119"),"patient"===this.state.activeAccount?l.a.createElement(w,null):"doctor"===this.state.activeAccount?l.a.createElement(I,null):l.a.createElement(C,null)):l.a.createElement("div",{className:"container login-container"},l.a.createElement("h2",null,"Zaloguj si\u0119"),l.a.createElement("p",{id:"login-info"},e),l.a.createElement("form",{onSubmit:this.logIn},l.a.createElement("label",{htmlFor:"login"},"U\u017cytkownik: "),l.a.createElement("input",{type:"text",name:"login",pattern:"[PDL]\\d{5}",placeholder:"np. P12345, D12345, L12345",required:!0}),l.a.createElement("label",{htmlFor:"password"},"Has\u0142o: "),l.a.createElement("input",{type:"password",name:"password",required:!0}),l.a.createElement("input",{type:"submit",value:"Zaloguj"})),l.a.createElement("p",null,"Nie masz konta?"),l.a.createElement(v.c,{to:"/register"},l.a.createElement("button",null,"Zarejestruj si\u0119"))))}}]),t}(n.Component),L=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(p.d,null,l.a.createElement(p.b,{exact:!0,path:"/register",component:b}),l.a.createElement(p.b,{exact:!0,path:"/",component:A})))}}]),t}(n.Component);c.a.render(l.a.createElement(v.a,{basename:"/dokumenty_cyfrowe_w_medycynie"},l.a.createElement(L,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d98e2cdd.chunk.js.map