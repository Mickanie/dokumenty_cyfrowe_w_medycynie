{"version":3,"sources":["Register.js","Patient-Doctor/Document.js","Patient-Doctor/MedicalProcess.js","Patient-Doctor/Documentation.js","Patient-Doctor/Recommendations.js","Patient-Doctor/SideBar.js","Patient-Doctor/Report.js","Patient-Doctor/PatientPage.js","DateParser.js","Patient-Doctor/Doctor/NewDocument.js","Patient-Doctor/Doctor/NewRecommendation.js","Patient-Doctor/Doctor/NewAttachment.js","Patient-Doctor/Doctor/DoctorPage.js","LabTechnician/LabTechnicianPage.js","Main.js","App.js","index.js"],"names":["Register","state","accountType","generatedLogin","chooseAccountType","e","_this","setState","target","value","goBack","props","history","push","validatePassword","password","document","getElementById","confirmPassword","setCustomValidity","registerUser","_callee","regenerator_default","a","wrap","_context","prev","next","preventDefault","fetch","method","headers","Content-Type","body","JSON","stringify","name","surname","PWZ","specialization","then","result","json","data","login","sessionStorage","setItem","pesel","dob","sex","address","telephone","stop","react_default","createElement","className","onClick","this","onSubmit","onChange","htmlFor","type","required","placeholder","pattern","Fragment","id","defaultValue","disabled","Component","Document","images","documents","concat","patientID","response","console","log","_this2","resources","filter","image","public_id","includes","match","params","documentId","currentDocument","_this3","length","forEach","_id","react_router_dom","to","style","fontWeight","title","testDate","referral","orderingDoctor","performingDoctor","describingDoctor","content","map","file","i","filePath","version","key","src","issueDate","labTechnician","border","results","item","range","unit","href","MedicalProcess","tasks","editMode","view","details","date","querySelector","trim","checkValidity","editTask","changeView","_callee2","_context2","toggleActive","parentElement","classList","toggle","checked","activeAccount","addTask","task","completed","setCompleted","previousTask","color","visibility","background","nextTasks","MedicalProcess_Task","Task","nextTaskId","nextTask","Documentation","compare","b","dateA","parseInt","split","join","dateB","filterResults","fromDate","toDate","tag","filtered","tags","documentType","getItem","sort","textDecoration","Recommendations","recommendations","activeUser","parse","recommendation","doctor","attachedDocuments","attachment","margin","SideBar","patient","editData","PESEL","icd10","expandPatientInfo","expandTasks","status","alert","age","dateOfBirth","toggleComplete","Raport","parameters","chosenParameter","filteredResults","chooseResultType","labResult","some","parameter","find","PatientPage","previousTaskId","isCompleted","Patient_Doctor_SideBar","activeClassName","react_router","exact","path","render","Patient_Doctor_Documentation","Object","assign","Patient_Doctor_Recommendations","Patient_Doctor_MedicalProcess","Patient_Doctor_Report","Patient_Doctor_Document","from","transformDate","day","getDate","toString","month","getMonth","year","getYear","today","Date","threeDaysAgo","now","NewDocument","hour","getHours","minutes","getMinutes","transformDateTime","referrals","files","chooseDocumentType","uploadFile","url","xhr","XMLHttpRequest","fd","FormData","open","setRequestHeader","onreadystatechange","readyState","responseText","append","send","createDocument","region","testTime","referralID","blob","slice","size","newFile","File","textAlign","min","max","accept","NewRecommendation","dataSaved","attachments","toggleSave","_e$target$parentEleme","submitRecommendation","removeItem","NewAttachment","startDate","submitAttachment","attachedDocument","_e$target","_e$target2","medicine","payment","_e$target3","placeOfWork","endDate","_e$target4","place","examination","diagnosis","aim","checkboxes","labTests","t0","abrupt","toConsumableArray","test","checkbox","setStartDate","DoctorPage","patients","persist","addTaskFromSideBar","_callee3","_context3","_callee4","_context4","searchPatient","_callee5","_context5","Doctor_NewAttachment","Doctor_NewRecommendation","Doctor_NewDocument","LabTechnicianPage","resultType","labOrders","addParameter","newParameter","submitResult","collectionDate","labPatientID","labOrder","window","location","reload","choosePatient","_ref2","asyncToGenerator","mark","_x2","apply","arguments","testType","Main","isLoggedIn","changeAccount","logIn","innerHTML","ID","logOut","infoText","Patient_Doctor_PatientPage","Doctor_DoctorPage","LabTechnician_LabTechnicianPage","App","component","ReactDOM","basename","process","src_App"],"mappings":"ogBAmNeA,6MA9MbC,MAAQ,CACNC,YAAa,UACbC,eAAgB,MAGlBC,kBAAoB,SAAAC,GAClBC,EAAKC,SAAS,CAAEL,YAAaG,EAAEG,OAAOC,WAGxCC,OAAS,WACPJ,EAAKK,MAAMC,QAAQC,KAAK,QAG1BC,iBAAmB,WACjB,IAAIC,EAAWC,SAASC,eAAe,YACnCC,EAAkBF,SAASC,eAAe,oBAE1CF,EAASN,QAAUS,EAAgBT,MACrCS,EAAgBC,kBAAkB,oCAElCD,EAAgBC,kBAAkB,OAItCC,mDAAe,SAAAC,EAAMhB,GAAN,OAAAiB,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACbtB,EAAEuB,iBAC6B,WAA3BtB,EAAKL,MAAMC,YAFF,CAAAuB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAGLE,MAAM,uDAAwD,CAClEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBjC,YAAaI,EAAKL,MAAMC,YACxBkC,KAAM/B,EAAEG,OAAO4B,KAAK3B,MACpB4B,QAAShC,EAAEG,OAAO6B,QAAQ5B,MAC1B6B,IAAKjC,EAAEG,OAAO8B,IAAI7B,MAClB8B,eAAgBlC,EAAEG,OAAO+B,eAAe9B,MACxCM,SAAUV,EAAEG,OAAOO,SAASN,UAG7B+B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GACJrC,EAAKC,SAAS,CAAEJ,eAAgBwC,EAAKC,UAjB9B,cAAAnB,EAAAE,KAAA,EAmBLkB,eAAeC,QAAQ,iBAAkBxC,EAAKL,MAAME,gBAnB/C,OAAAsB,EAAAE,KAAA,mBAoByB,YAA3BrB,EAAKL,MAAMC,YApBT,CAAAuB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAqBLE,MAAM,uDAAwD,CAClEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBjC,YAAaI,EAAKL,MAAMC,YACxBkC,KAAM/B,EAAEG,OAAO4B,KAAK3B,MACpB4B,QAAShC,EAAEG,OAAO6B,QAAQ5B,MAC1BsC,MAAO1C,EAAEG,OAAOuC,MAAMtC,MACtBuC,IAAK3C,EAAEG,OAAOwC,IAAIvC,MAClBwC,IAAK5C,EAAEG,OAAOyC,IAAIxC,MAClByC,QAAS7C,EAAEG,OAAO0C,QAAQzC,MAC1B0C,UAAW9C,EAAEG,OAAO2C,UAAU1C,MAC9BM,SAAUV,EAAEG,OAAOO,SAASN,UAG7B+B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GACJrC,EAAKC,SAAS,CAAEJ,eAAgBwC,EAAKC,UAtC9B,eAAAnB,EAAAE,KAAA,GAwCLkB,eAAeC,QAAQ,iBAAkBxC,EAAKL,MAAME,gBAxC/C,QAAAsB,EAAAE,KAAA,wBAAAF,EAAAE,KAAA,GA0CLE,MAAM,uDAAwD,CAClEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBjC,YAAaI,EAAKL,MAAMC,YACxBkC,KAAM/B,EAAEG,OAAO4B,KAAK3B,MACpB4B,QAAShC,EAAEG,OAAO6B,QAAQ5B,MAC1BM,SAAUV,EAAEG,OAAOO,SAASN,UAG7B+B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GACJrC,EAAKC,SAAS,CAAEJ,eAAgBwC,EAAKC,UAtD9B,eAAAnB,EAAAE,KAAA,GAwDLkB,eAAeC,QAAQ,iBAAkBxC,EAAKL,MAAME,gBAxD/C,QA0DbG,EAAKK,MAAMC,QAAQC,KAAK,KA1DX,yBAAAY,EAAA2B,SAAA/B,oIA6Db,OACEgC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,sBACbF,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,aAAaC,QAASC,KAAK/C,QAA7C,0BAGA2C,EAAA9B,EAAA+B,cAAA,kCAEAD,EAAA9B,EAAA+B,cAAA,QAAMI,SAAUD,KAAKrC,cACnBiC,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,4BACAD,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,cAAcuB,SAAUF,KAAKrD,mBACxCiD,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,WAAd,WACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,UAAd,UACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,OAAd,cAGJ4C,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,QAAf,cACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL0B,UAAQ,EACRC,YAAY,IACZC,QAAQ,kBAGZX,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,WAAf,aACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,UACL0B,UAAQ,EACRC,YAAY,IACZC,QAAQ,kBAIgB,YAA3BP,KAAKxD,MAAMC,aACVmD,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA0C,SAAA,KACEZ,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,OAAf,mBACAP,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,MAAM0B,UAAQ,KAExCT,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,WAAf,UACAP,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,UAAU0B,UAAQ,EAACC,YAAY,OAEzDV,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,WAAf,YACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,YACL0B,UAAQ,EACRE,QAAQ,WACRD,YAAY,OAGhBV,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,SAAf,UACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,QACL8B,GAAG,QACHJ,UAAQ,EACRE,QAAQ,YACRD,YAAY,OAGhBV,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,WAAf,mBACAP,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,MAAM+B,aAAa,GAAGL,UAAQ,GACzCT,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,GAAG2D,UAAQ,GAAzB,0BAGAf,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,KAAd,WACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,KAAd,0BAMoB,WAA3BgD,KAAKxD,MAAMC,aACVmD,EAAA9B,EAAA+B,cAAAD,EAAA9B,EAAA0C,SAAA,KACG,IACDZ,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,0BACAD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,MAAM0B,UAAQ,EAACC,YAAY,IAAIC,QAAQ,cAEjEX,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,8BACAD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,iBAAiB0B,UAAQ,EAACC,YAAY,QAKpEV,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,YAAf,eACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,WACLC,UAAQ,EACRI,GAAG,WACHF,QAAQ,oEAGZX,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,YAAf,0BACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,WACLC,UAAQ,EACRI,GAAG,mBACHF,QAAQ,iEACRL,SAAUF,KAAK3C,oBAGnBuC,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,kCAxMd4D,oBC4HRC,oNA3HbrE,MAAQ,CACNe,SAAU,GACVuD,OAAQ,GACRC,UAAW,0NAIL3C,MAAK,wEAAA4C,OAEPhB,KAAK9C,MAAM+D,YAGZlC,KAAK,SAAAmC,GAAQ,OAAIA,EAASjC,SAC1BF,KAAK,SAAAG,GACJiC,QAAQC,IAAIlC,GACZmC,EAAKvE,SAAS,CAAEiE,UAAW7B,6BAGzBd,MACJ,6EAECW,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OACRmC,EAAKvE,SAAS,CACZgE,OAAQ5B,EAAKoC,UAAUC,OAAO,SAAAC,GAAK,OACjCA,EAAMC,UAAUC,SAASL,EAAKnE,MAAMyE,MAAMC,OAAOC,qJAMlD,IAEDC,EAFCC,EAAA/B,KACP,OAAIA,KAAKxD,MAAMuE,UAAUiB,QAEvBhC,KAAKxD,MAAMuE,UAAUkB,QAAQ,SAAA1E,GACvBA,EAAS2E,MAAQH,EAAK7E,MAAMyE,MAAMC,OAAOC,aAC3CC,EAAkBvE,KAItB4D,QAAQC,IAAIU,GAGVlC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gCACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,iBAAiBtC,UAAU,cAClCF,EAAA9B,EAAA+B,cAAA,4BAGFD,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,KAAGwC,MAAO,CAAEC,WAAY,QAAUR,EAAgBS,QAChDT,EAAgBS,MAAMb,SAAS,iBAC/B9B,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACbF,EAAA9B,EAAA+B,cAAA,kBAAUiC,EAAgBU,UAC1B5C,EAAA9B,EAAA+B,cAAA,4BAAoBiC,EAAgBW,UACpC7C,EAAA9B,EAAA+B,cAAA,mCAAsBiC,EAAgBY,gBACtC9C,EAAA9B,EAAA+B,cAAA,oCAAuBiC,EAAgBa,kBACvC/C,EAAA9B,EAAA+B,cAAA,mCAAsBiC,EAAgBc,kBACtChD,EAAA9B,EAAA+B,cAAA,SACED,EAAA9B,EAAA+B,cAAA,WACCiC,EAAgBe,SAEnBjD,EAAA9B,EAAA+B,cAAA,WACGG,KAAKxD,MAAMsE,OAAOgC,IAAI,SAACC,EAAMC,GAC5B,IAAMC,EAAQ,qDAAAjC,OACZ+B,EAAKG,QADO,KAAAlC,OAEV+B,EAAKtB,UAFK,QAGd,OAAO7B,EAAA9B,EAAA+B,cAAA,OAAKsD,IAAKH,EAAGI,IAAKH,QAKhCnB,EAAgBS,MAAMb,SAAS,iBAC9B9B,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,SACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACbF,EAAA9B,EAAA+B,cAAA,2BAAmBiC,EAAgBU,SAAnC,KACA5C,EAAA9B,EAAA+B,cAAA,0BAAkBiC,EAAgBuB,WAClCzD,EAAA9B,EAAA+B,cAAA,mCAAsBiC,EAAgBY,gBACtC9C,EAAA9B,EAAA+B,cAAA,sBAAciC,EAAgBwB,gBAEhC1D,EAAA9B,EAAA+B,cAAA,SAAO0D,OAAO,KACZ3D,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cAAd,OACAF,EAAA9B,EAAA+B,cAAA,sBACAD,EAAA9B,EAAA+B,cAAA,+BACAD,EAAA9B,EAAA+B,cAAA,oBACAD,EAAA9B,EAAA+B,cAAA,yBAGHiC,EAAgB0B,QAAQV,IAAI,SAACW,EAAMT,GAClC,OACEpD,EAAA9B,EAAA+B,cAAA,SAAOsD,IAAKH,GACVpD,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cAAckD,EAAI,GAChCpD,EAAA9B,EAAA+B,cAAA,UAAKiC,EAAgB0B,QAAQR,GAAGrE,MAChCiB,EAAA9B,EAAA+B,cAAA,UAAKiC,EAAgB0B,QAAQR,GAAGhG,OAChC4C,EAAA9B,EAAA+B,cAAA,UAAKiC,EAAgB0B,QAAQR,GAAGU,OAChC9D,EAAA9B,EAAA+B,cAAA,UAAKiC,EAAgB0B,QAAQR,GAAGW,YAS9C/D,EAAA9B,EAAA+B,cAAA,KACE9C,OAAO,SACP6G,KACE,mEACA5D,KAAK9C,MAAMyE,MAAMC,OAAOC,YAG1BjC,EAAA9B,EAAA+B,cAAA,mCAMH,YAxHYe,cCkURiD,0NAhUbrH,MAAQ,CACNsH,MAAO,GACPC,SAAU,GACVC,KAAM,WAGRD,+CAAW,SAAAnG,EAAMhB,GAAN,IAAA6D,EAAA8B,EAAA0B,EAAAC,EAAA,OAAArG,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACHuC,EAAK7D,EAAEG,OAAO0D,GAChB5D,EAAKL,MAAMuH,WAAatD,EAFnB,CAAAzC,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAGDrB,EAAKC,SAAS,CAAEiH,SAAUtD,IAHzB,OAAAzC,EAAAE,KAAA,mBAKDqE,EAAQhF,SAAS4G,cAAc,UAAUnH,MACzCiH,EAAU1G,SAAS4G,cAAc,YAAYnH,MAC7CkH,EAAO3G,SAAS4G,cAAc,WAChC5B,EAAM6B,QAAUH,EAAQG,QAAUF,EAAKG,iBARpC,CAAArG,EAAAE,KAAA,gBAULrB,EAAKK,MAAMoH,SAAS7D,GAVfzC,EAAAE,KAAA,GAaCrB,EAAKC,SAAS,CAAEiH,SAAU,KAb3B,yBAAA/F,EAAA2B,SAAA/B,8DAkBX2G,iDAAa,SAAAC,EAAM5H,GAAN,OAAAiB,EAAAC,EAAAC,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,OACXiD,QAAQC,IAAIxE,EAAEG,OAAOC,OACrBH,EAAKC,SAAS,CAAEkH,KAAMpH,EAAEG,OAAOC,QAFpB,wBAAAyH,EAAA9E,SAAA6E,8DAKbE,aAAe,SAAA9H,GACbuE,QAAQC,IAAI,SACZxE,EAAEG,OAAO4H,cAAcC,UAAUC,OAAO,mFAGjC,IAAAxD,EAAArB,KACP,OACEJ,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,uCACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACbF,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,QACLzB,KAAK,OACL8B,GAAG,QACHzD,MAAM,QACN8H,QAA6B,UAApB9E,KAAKxD,MAAMwH,KACpB9D,SAAUF,KAAKuE,aAEjB3E,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,cAAcK,QAAQ,SAAvC,oBAGAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,QACLzB,KAAK,OACL8B,GAAG,UACHzD,MAAM,UACNkD,SAAUF,KAAKuE,aAEjB3E,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,gBAAgBK,QAAQ,WAAzC,kBAMmB,UAApBH,KAAKxD,MAAMwH,MACVpE,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACiB,WAA7BE,KAAK9C,MAAM6H,eACVnF,EAAA9B,EAAA+B,cAAA,QAAMI,SAAUD,KAAK9C,MAAM8H,SACzBpF,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLE,YAAY,aACZ3B,KAAK,QACL0B,UAAQ,IAEVT,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,aACXiB,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,QAAd,YACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,QAAd,iBAEF4C,EAAA9B,EAAA+B,cAAA,YAAUS,YAAY,oBAAY3B,KAAK,UAAU0B,UAAQ,KAE3DT,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,qBACQ,IACND,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,iBACLzB,KAAK,OACL2B,YAAY,UAIhBV,EAAA9B,EAAA+B,cAAA,2CAEED,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,gBAAgBnB,KAAK,gBACrCiB,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,IAAd,QACCgD,KAAK9C,MAAM4G,MAAMhB,IAAI,SAACmC,EAAMjC,GAC3B,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOiI,EAAK/C,KACzB+C,EAAK1C,WAMhB3C,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,oBAIjC4C,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,WACbF,EAAA9B,EAAA+B,cAAA,0BACAD,EAAA9B,EAAA+B,cAAA,UACGG,KAAK9C,MAAM4G,MACTvC,OAAO,SAAA0D,GAAI,OAAuB,IAAnBA,EAAKC,YACpBpC,IAAI,SAACmC,EAAMjC,GACV,OACEpD,EAAA9B,EAAA+B,cAAA,MAAIsD,IAAKH,GACPpD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,eACdF,EAAA9B,EAAA+B,cAAA,cACGwB,EAAK7E,MAAMuH,SAASrC,SAASuD,EAAK/C,KACjCtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,QACL8B,GAAG,QACHJ,UAAQ,EACRK,aAAcuE,EAAK1C,QAGrB0C,EAAK1C,OAIT3C,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,WACVW,GAAIwE,EAAK/C,IACTnC,QAASsB,EAAKnE,MAAMiI,cAHtB,UAQAvF,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,OACVC,QAASsB,EAAK0C,SACdtD,GAAIwE,EAAK/C,OAIbtC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACZuB,EAAK7E,MAAMuH,WAAakB,EAAK/C,IAC5BtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,UACL8B,GAAG,UACHJ,UAAQ,EACRK,aAAcuE,EAAKhB,QACnB3D,YAAY,sBAGdV,EAAA9B,EAAA+B,cAAA,SAAIoF,EAAKhB,SAGV5C,EAAK7E,MAAMuH,WAAakB,EAAK/C,IAC5BtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL8B,GAAG,OACHC,aAAcuE,EAAKf,KACnB5D,YAAY,OACZC,QAAQ,yGAGVX,EAAA9B,EAAA+B,cAAA,SAAIoF,EAAKf,OAGZ7C,EAAK7E,MAAMuH,WAAakB,EAAK/C,KAC5BtC,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,uBAAjB,8BAEEF,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,gBACVW,GAAG,gBACHC,aAAcuE,EAAKG,cAEnBxF,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,IAAd,QACCqE,EAAKnE,MAAM4G,MAAMhB,IAAI,SAACmC,EAAMjC,GAC3B,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOiI,EAAK/C,KACzB+C,EAAK1C,eAW5B3C,EAAA9B,EAAA+B,cAAA,WACAD,EAAA9B,EAAA+B,cAAA,sBACAD,EAAA9B,EAAA+B,cAAA,UACGG,KAAK9C,MAAM4G,MACTvC,OAAO,SAAA0D,GAAI,OAAuB,IAAnBA,EAAKC,YACpBpC,IAAI,SAACmC,EAAMjC,GACV,OACEpD,EAAA9B,EAAA+B,cAAA,MAAIsD,IAAKH,GACPpD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,eACdF,EAAA9B,EAAA+B,cAAA,cACGwB,EAAK7E,MAAMuH,WAAakB,EAAK/C,IAC5BtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,QACL8B,GAAG,QACHC,aAAcuE,EAAK1C,QAGrB0C,EAAK1C,OAGT3C,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,OACVC,QAASsB,EAAK0C,SACdtD,GAAIwE,EAAK/C,OAIbtC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACZuB,EAAK7E,MAAMuH,WAAakB,EAAK/C,IAC5BtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,UACL8B,GAAG,UACHC,aAAcuE,EAAKhB,QACnB3D,YAAY,sBAGdV,EAAA9B,EAAA+B,cAAA,SAAIoF,EAAKhB,SAGV5C,EAAK7E,MAAMuH,WAAakB,EAAK/C,IAC5BtC,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL8B,GAAG,OACHC,aAAcuE,EAAKf,KACnB5D,YAAY,OACZC,QAAQ,oGAGVX,EAAA9B,EAAA+B,cAAA,SAAIoF,EAAKf,OAGZ7C,EAAK7E,MAAMuH,WAAakB,EAAK/C,KAC5BtC,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,uBAAjB,8BAEEF,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,gBACVY,aAAcuE,EAAKG,aACnB3E,GAAG,iBAEHb,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,IAAd,QACCqE,EAAKnE,MAAM4G,MAAMhB,IAAI,SAACmC,EAAMjC,GAC3B,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOiI,EAAK/C,KACzB+C,EAAK1C,iBAgBb,YAApBvC,KAAKxD,MAAMwH,MACVpE,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBACZE,KAAK9C,MAAM4G,MACTvC,OAAO,SAAA0D,GAAI,MAA0B,KAAtBA,EAAKG,eACpBtC,IAAI,SAACmC,EAAMjC,GACV,IAAMqC,EAAQJ,EAAKC,UACf,qBACA,qBAEEI,EAAaL,EAAKC,UAAY,UAAY,SAChD,OACEtF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,yBAAyBqD,IAAKH,GAC3CpD,EAAA9B,EAAA+B,cAAA,OACEC,UAAU,eACVuC,MAAO,CAAEkD,WAAYF,GACrBtF,QAASsB,EAAKqD,cAEb,IACD9E,EAAA9B,EAAA+B,cAAA,UACGoF,EAAK1C,MADR,IACe3C,EAAA9B,EAAA+B,cAAA,QAAMwC,MAAO,CAAEiD,eAAf,WAEf1F,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,qBAAqBmF,EAAKf,MACvCtE,EAAA9B,EAAA+B,cAAA,SAAIoF,EAAKhB,SAAa,KAGvBgB,EAAKO,UAAUxD,OAAS,GACvBpC,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cACZF,EAAA9B,EAAA+B,cAAC4F,EAAD,CACER,KAAMA,EACNnB,MAAOzC,EAAKnE,MAAM4G,MAClBY,aAAcrD,EAAKqD,4BAnThB9D,cAmUvB8E,EAAO,SAAPA,EAAOxI,GACXiE,QAAQC,IAAIlE,EAAM4G,OAClB,IAAIuB,EAAQ,qBACRC,EAAa,UACjB,OAAOpI,EAAM+H,KAAKO,UAAU1C,IAAI,SAAC6C,EAAY3C,GAC3C,IAAM4C,EAAW1I,EAAM4G,MAAMvC,OAAO,SAAA0D,GAAI,OAAIA,EAAK/C,MAAQyD,IAAY,GAErE,OAAIC,GACFP,EAAQO,EAASV,UAAY,qBAAuB,qBAEpDI,EAAaM,EAASV,UAAY,UAAY,SAG9CtF,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,YAAYqD,IAAKH,GAC7BpD,EAAA9B,EAAA+B,cAAA,OACEC,UAAU,iBACVuC,MAAO,CAAEkD,WAAYF,GACrBtF,QAAS7C,EAAMwH,cAEd,IACD9E,EAAA9B,EAAA+B,cAAA,UACG+F,EAASrD,MADZ,IACmB3C,EAAA9B,EAAA+B,cAAA,QAAMwC,MAAO,CAAEiD,eAAf,WAEnB1F,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,qBAAqB8F,EAAS1B,MAC3CtE,EAAA9B,EAAA+B,cAAA,SAAI+F,EAAS3B,SAAa,KAG3B2B,EAASJ,UAAUxD,OAAS,GAC3BpC,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cACZF,EAAA9B,EAAA+B,cAAC6F,EAAD,CACET,KAAMW,EACN9B,MAAO5G,EAAM4G,MACbY,aAAcxH,EAAMwH,kBAOjB,QChOFmB,oNA1IbrJ,MAAQ,CACNuE,UAAW,MAUb+E,QAAU,SAAChI,EAAGiI,GACZ,IAAMC,EAAQC,SACZnI,EAAE0E,SACC0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEJC,EAAQH,SACZF,EAAEvD,SACC0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEV,OAAOH,EAAQI,GAAS,EAAIJ,EAAQI,EAAQ,EAAI,KAGlDC,oDAAgB,SAAAzI,EAAMhB,GAAN,IAAA0J,EAAAC,EAAAC,EAAAC,EAAA,OAAA5I,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACdtB,EAAEuB,iBACImI,EACJL,SAASrJ,EAAEG,OAAOuJ,SAAStJ,MAAMkJ,MAAM,KAAKC,KAAK,MAAQ,KACrDI,EAASN,SAASrJ,EAAEG,OAAOwJ,OAAOvJ,MAAMkJ,MAAM,KAAKC,KAAK,MAAQ,KAChEK,EAAM5J,EAAEG,OAAO2J,KAAK1J,MALZgB,EAAAE,KAAA,EAMHE,MAAK,uEAAA4C,OACyDnE,EAAKK,MAAM+D,YAEjFlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEiE,UAAW7B,MAV7B,OAYdiC,QAAQC,IAAIkF,EAAUC,GAChBE,EAAW5J,EAAKL,MAAMuE,UACzBQ,OAAO,SAAAhE,GACN,MAAY,QAARiJ,GACKjJ,EAASoJ,eAAiBH,IAKpCjF,OAAO,SAAAhE,GACN,OAAI+I,IAAYC,GAEZN,SACE1I,EAASiF,SACN0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACLG,GACLL,SACE1I,EAASiF,SACN0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACLI,IAOb1J,EAAKC,SAAS,CAAEiE,UAAW0F,IA1Cb,wBAAAzI,EAAA2B,SAAA/B,yQAtBduD,QAAQC,IAAIhC,eAAewH,QAAQ,uBAC7BxI,MAAK,wEAAA4C,OAAyEhB,KAAK9C,MAAM+D,YAC5FlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEiE,UAAW7B,EAAK2H,KAAKxF,EAAKyE,gJAqE1D,OACElG,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,qCACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,WACiB,WAA7BE,KAAK9C,MAAM6H,eACVnF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,4BACPxC,EAAA9B,EAAA+B,cAAA,sCAGJD,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,wBACPxC,EAAA9B,EAAA+B,cAAA,oCAGJD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,aAAaG,SAAUD,KAAKqG,eAC1CzG,EAAA9B,EAAA+B,cAAA,gCACmB,IACjBD,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,QACXiB,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,OAAd,YACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,gBAAd,gBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,eACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,eACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,oBAAd,oBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,0BAAd,0BAGA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,wBAAd,wBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,kCAGJ4C,EAAA9B,EAAA+B,cAAA,SAAOY,GAAG,cACRb,EAAA9B,EAAA+B,cAAA,+BAEAD,EAAA9B,EAAA+B,cAAA,SACG,IADH,KAGED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,aAH1B,MAIEiB,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,aAG5BiB,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,aAE7B4C,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,qBACbF,EAAA9B,EAAA+B,cAAA,UACGG,KAAKxD,MAAMuE,UAAU+B,IAAI,SAACvF,EAAUyF,GACnC,OACEpD,EAAA9B,EAAA+B,cAAA,MAAIsD,IAAKH,GACPpD,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CACEE,MAAO,CAAEC,WAAY,MAAOwE,eAAgB,aAC5C1E,GAAE,0BAAApB,OAA4BzD,EAAS2E,MAEtC3E,EAASgF,oBA/HF3B,cC4FbmG,oNA3FbvK,MAAQ,CACNwK,gBAAiB,GACjBC,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MAc5Dd,QAAU,SAAChI,EAAGiI,GACZ,IAAMC,EAAQC,SACZnI,EAAEoG,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEJC,EAAQH,SACZF,EAAE7B,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEV,OAAOH,EAAQI,GAAS,EAAIJ,EAAQI,EAAQ,EAAI,0NAvB1ChI,MAAK,0EAAA4C,OAA2EhB,KAAK9C,MAAM+D,YAC9FlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OACRmC,EAAKvE,SAAS,CAAEkK,gBAAiB9H,EAAK2H,KAAKxF,EAAKyE,gJAuB7C,IAAA/D,EAAA/B,KAOP,OANC5B,MAAK,0EAAA4C,OAA2EhB,KAAK9C,MAAM+D,YAC3FlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OACR6C,EAAKjF,SAAS,CAAEkK,gBAAiB9H,EAAK2H,KAAK9E,EAAK+D,aAIhDlG,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,uCACiB,WAA7BE,KAAK9C,MAAM6H,eACVnF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,+BACPxC,EAAA9B,EAAA+B,cAAA,kCAIJD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,WACZE,KAAKxD,MAAMwK,gBAAgBlE,IAAI,SAACqE,EAAgBnE,GAC/C,IAAMqC,EACJ8B,EAAeC,SAAWrF,EAAKvF,MAAMyK,WAAWtI,KAC5C,qBACA,OACN,OACEiB,EAAA9B,EAAA+B,cAAA,OACEC,UAAU,iBACVqD,IAAKH,EACLX,MAAO,CAAEkD,WAAYF,IAErBzF,EAAA9B,EAAA+B,cAAA,kBAAUsH,EAAejD,KAAzB,KACAtE,EAAA9B,EAAA+B,cAAA,oBAAYsH,EAAeC,OAA3B,KACAxH,EAAA9B,EAAA+B,cAAA,6BAAWsH,EAAetE,SAC1BjD,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,sBAAb,iCACuB,IACpBqH,EAAeE,kBAAkBvE,IAAI,SAACwE,EAAYtE,GAAb,OACpCpD,EAAA9B,EAAA+B,cAAA,KACEsD,IAAKH,EACLjG,OAAO,SACPsF,MAAO,CACLkF,OAAQ,OACRT,eAAgB,YAChBzB,MAAO,SAETzB,KACE,kEACA0D,EAAW7G,IAGZ6G,EAAW/E,sBA/EJ3B,cC8Of4G,oNA9ObhL,MAAQ,CACNiL,QAAS,GACT3D,MAAO,GACPC,UAAU,KAiBZ2D,+CAAW,SAAA9J,EAAMhB,GAAN,IAAA+B,EAAAa,EAAAmI,EAAAjI,EAAAD,EAAA,OAAA5B,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACJrB,EAAKL,MAAMuH,SADP,CAAA/F,EAAAE,KAAA,QAEPrB,EAAKC,SAAS,CAAEiH,UAAU,IAFnB/F,EAAAE,KAAA,mBAKDS,EAAOpB,SAAS4G,cAAc,SAC9B3E,EAAMjC,SAAS4G,cAAc,QAC7BwD,EAAQpK,SAAS4G,cAAc,UAC/BzE,EAAYnC,SAAS4G,cAAc,cACnC1E,EAAUlC,SAAS4G,cAAc,cAErCxF,EAAK0F,iBACL7E,EAAI6E,iBACJsD,EAAMtD,iBACN3E,EAAU2E,iBACV5E,EAAQ4E,iBAfH,CAAArG,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAiBCE,MACJ,gEACA,CACEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKK,MAAM+D,UACtBtC,KAAMpB,SAAS4G,cAAc,SAASnH,MACtCwC,IAAKjC,SAAS4G,cAAc,QAAQnH,MACpC2K,MAAOpK,SAAS4G,cAAc,UAAUnH,MACxC0C,UAAWnC,SAAS4G,cAAc,cAAcnH,MAChDyC,QAASlC,SAAS4G,cAAc,YAAYnH,MAC5C4K,MAAOrK,SAAS4G,cAAc,UAAUnH,UAI3C+B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAE2K,QAASvI,MAlCpC,QAmCLrC,EAAKC,SAAS,CAAEiH,UAAU,IAnCrB,yBAAA/F,EAAA2B,SAAA/B,8DAwCXiK,kBAAoB,SAAAjL,GAClBuE,QAAQC,IAAI,SACZ7D,SAAS4G,cAAc,uBAAuBS,UAAUC,OAAO,UAC/DjI,EAAEG,OAAO6H,UAAUC,OAAO,aAG5BiD,YAAc,SAAAlL,GACZW,SAAS4G,cAAc,qBAAqBS,UAAUC,OAAO,UAC7DjI,EAAEG,OAAO6H,UAAUC,OAAO,iOA7DpBzG,MAAK,kEAAA4C,OAEPhB,KAAK9C,MAAM+D,YAEblC,KAAK,SAAAC,GACiB,MAAlBA,EAAO+I,OACTC,MAAM,2BAENhJ,EAAOC,OAAOF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAE2K,QAASvI,2IAwDjD,IAAA6C,EAAA/B,KACDyH,EAAUzH,KAAKxD,MAAMiL,QACrB9I,EAAI,GAAAqC,OAAMyG,EAAQ9I,KAAd,KAAAqC,OAAsByG,EAAQ7I,SACxC,OACEgB,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,YACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBACbF,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,eAAb,YAAqCnB,GACrCiB,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,aAAaC,QAASC,KAAK6H,mBAAzC,gBAGAjI,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,sBACbF,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,oCACAD,EAAA9B,EAAA+B,cAAA,UACGG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc/B,EACd8B,GAAG,OACHJ,UAAQ,EACRE,QAAQ,sBAGVX,EAAA9B,EAAA+B,cAAA,SAAIlB,KAIViB,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,8BACAD,EAAA9B,EAAA+B,cAAA,UACGG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc+G,EAAQjI,IACtBiB,GAAG,MACHJ,UAAQ,EACRE,QAAQ,SAGVX,EAAA9B,EAAA+B,cAAA,SAAI4H,EAAQjI,OAIlBI,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,oBACAD,EAAA9B,EAAA+B,cAAA,cAAM4H,EAAQQ,IAAd,MAEFrI,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,qBACAD,EAAA9B,EAAA+B,cAAA,UACG,IACAG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc+G,EAAQE,MACtBlH,GAAG,QACHJ,UAAQ,EACRE,QAAQ,cAGVX,EAAA9B,EAAA+B,cAAA,SAAI4H,EAAQE,OACX,MAGP/H,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,8BACAD,EAAA9B,EAAA+B,cAAA,cAAM4H,EAAQS,YAAd,MAEFtI,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,qBACAD,EAAA9B,EAAA+B,cAAA,UACGG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc+G,EAAQhI,QACtBgB,GAAG,UACHJ,UAAQ,EACRE,QAAQ,yBAGVX,EAAA9B,EAAA+B,cAAA,SAAI4H,EAAQhI,WAIlBG,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,uBACAD,EAAA9B,EAAA+B,cAAA,UACG,IACAG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc+G,EAAQ/H,UACtBe,GAAG,YACHJ,UAAQ,EACRE,QAAQ,aAGVX,EAAA9B,EAAA+B,cAAA,SAAI4H,EAAQ/H,aAIlBE,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,qBACAD,EAAA9B,EAAA+B,cAAA,UACG,IACAG,KAAKxD,MAAMuH,SACVnE,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLM,aAAc+G,EAAQG,MACtBnH,GAAG,UAGLb,EAAA9B,EAAA+B,cAAA,SAAI4H,EAAQG,WAOQ,WAA7B5H,KAAK9C,MAAM6H,eACVnF,EAAA9B,EAAA+B,cAAA,UAAQE,QAASC,KAAK0H,UACnB1H,KAAKxD,MAAMuH,SAAW,SAAW,YAK1CnE,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACbF,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,aAAaC,QAASC,KAAK8H,aAAzC,wBAGAlI,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,oBACbF,EAAA9B,EAAA+B,cAAA,UACGG,KAAK9C,MAAM4G,MAAMhB,IAAI,SAACmC,EAAMjC,GAC3B,OACEpD,EAAA9B,EAAA+B,cAAA,MAAIsD,IAAKH,GACPpD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,WACL0E,QAASG,EAAKC,UACdhF,SAAU6B,EAAK7E,MAAMiL,eACrB1H,GAAIwE,EAAK/C,IACTvB,SAAuC,WAA7BoB,EAAK7E,MAAM6H,gBACpB,IACFE,EAAK1C,UAKgB,WAA7BvC,KAAK9C,MAAM6H,eACVnF,EAAA9B,EAAA+B,cAAA,QAAMI,SAAUD,KAAK9C,MAAM8H,SACzBpF,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLE,YAAY,qBACZ3B,KAAK,QACL0B,UAAQ,IAEVT,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,qBArOrB4D,cCgIPwH,0NA9Hb5L,MAAQ,CACN6L,WAAY,GACZC,gBAAiB,GACjBvH,UAAW,GACXwH,gBAAiB,MAanBC,uDAAmB,SAAA5K,EAAMhB,GAAN,IAAA2L,EAAA,OAAA1K,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAGjBqK,EAAkB1L,EAAKL,MAAMuE,UAC1BQ,OAAO,SAAAhE,GAAQ,OAAIA,EAASgF,MAAMb,SAAS,kBAC3CH,OAAO,SAAAkH,GAAS,OACfA,EAAUjF,QAAQkF,KAAK,SAAA1J,GAAM,OAAIA,EAAOL,OAAS/B,EAAEG,OAAOC,UAN7CgB,EAAAE,KAAA,EAQXrB,EAAKC,SAAS,CAAEwL,gBAAiB1L,EAAEG,OAAOC,MAAOuL,oBARtC,wBAAAvK,EAAA2B,SAAA/B,8DAWnBkI,QAAU,SAAChI,EAAGiI,GACZ,IAAMC,EAAQC,SACZnI,EAAE0E,SACC0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEJC,EAAQH,SACZF,EAAEvD,SACC0D,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,KAEV,OAAOH,EAAQI,GAAS,EAAIJ,EAAQI,EAAQ,EAAI,yNAjC1ChI,MAAM,yDACTW,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEuL,WAAYnJ,6BAEpCd,MAAK,wEAAA4C,OAAyEhB,KAAK9C,MAAM+D,YAC9FlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEiE,UAAW7B,EAAK2H,KAAKxF,EAAKyE,gJA8BnD,IAAA/D,EAAA/B,KACP,OACEJ,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,cACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,iBAAiBtC,UAAU,cAClCF,EAAA9B,EAAA+B,cAAA,4BAEFD,EAAA9B,EAAA+B,cAAA,iDACAD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACbF,EAAA9B,EAAA+B,cAAA,iDAEED,EAAA9B,EAAA+B,cAAA,UACElB,KAAK,aACLuB,SAAUF,KAAKwI,iBACf9H,aAAa,WAEbd,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,UAAU2D,UAAU,GAAlC,YAGCX,KAAKxD,MAAM6L,WAAWvF,IAAI,SAAC6F,EAAW3F,GAAZ,OACzBpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAO2L,EAAUhK,MAC9BgK,EAAUhK,UAKlBqB,KAAKxD,MAAM+L,gBAAgBvG,OAAS,GACnCpC,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,eAAb,UACU,IAENE,KAAKxD,MAAM6L,WAAWO,KACpB,SAAAnF,GAAI,OAAIA,EAAK9E,OAASoD,EAAKvF,MAAM8L,kBACjC5E,MACF,IAEA1D,KAAKxD,MAAM6L,WAAWO,KACpB,SAAAnF,GAAI,OAAIA,EAAK9E,OAASoD,EAAKvF,MAAM8L,kBACjC3E,MAGN/D,EAAA9B,EAAA+B,cAAA,SAAO0D,OAAO,KACZ3D,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,kBACAD,EAAA9B,EAAA+B,cAAA,+BAAaG,KAAKxD,MAAM8L,iBAGxB1I,EAAA9B,EAAA+B,cAAA,mCACAD,EAAA9B,EAAA+B,cAAA,wBAGJD,EAAA9B,EAAA+B,cAAA,aACGG,KAAKxD,MAAM+L,gBAAgBzF,IAAI,SAAC9D,EAAQgE,GACvC,OACEpD,EAAA9B,EAAA+B,cAAA,MAAIsD,IAAKH,GACPpD,EAAA9B,EAAA+B,cAAA,UAAKb,EAAOwD,SAAZ,KACA5C,EAAA9B,EAAA+B,cAAA,UAEIb,EAAOwE,QAAQoF,KACb,SAAAnF,GAAI,OAAIA,EAAK9E,OAASoD,EAAKvF,MAAM8L,kBACjCtL,OAKN4C,EAAA9B,EAAA+B,cAAA,UAAKb,EAAO0D,gBACZ9C,EAAA9B,EAAA+B,cAAA,UAAKb,EAAOsE,sBASvBtD,KAAKxD,MAAM+L,gBAAgBvG,QAAUhC,KAAKxD,MAAM8L,iBAAoB1I,EAAA9B,EAAA+B,cAAA,kCAxH5De,cCmKNiI,6MA5JbrM,MAAQ,CACNsH,MAAO,MAaTQ,+CAAW,SAAA1G,EAAM6C,GAAN,IAAA8B,EAAA0B,EAAAC,EAAA,OAAArG,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACHqE,EAAQhF,SAAS4G,cAAc,UAAUnH,MACzCiH,EAAU1G,SAAS4G,cAAc,YAAYnH,MAC7CkH,EAAO3G,SAAS4G,cAAc,SAH3BnG,EAAAE,KAAA,EAKHE,MAAM,yDAA0D,CACpEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKK,MAAM+D,UACtBsB,QACA0B,UACAC,KAAMA,EAAKlH,MACX8L,eAAgBvL,SAAS4G,cAAc,kBAAkBnH,MACzDyD,GAAIA,MAGL1B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKhK,EAAKiJ,aAlB7C,wBAAA9H,EAAA2B,SAAA/B,8DAqBXuH,aAAe,SAAAvI,GACb,IAAM6D,EAAK7D,EAAEG,OAAO0D,GACpB5D,EAAKC,SAAS,CACZgH,MAAOjH,EAAKL,MAAMsH,MAAMhB,IAAI,SAACmC,EAAMjC,GAIjC,OAHIiC,EAAK/C,MAAQzB,IACfwE,EAAKC,WAAY,GAEZD,MAIX7G,MAAM,6DAA8D,CAClEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE+B,GAAIA,EAAIyE,WAAW,SAI9CiD,qDAAiB,SAAA3D,EAAM5H,GAAN,IAAA6D,EAAAsI,EAAA,OAAAlL,EAAAC,EAAAC,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,cACTuC,EAAK7D,EAAEG,OAAO0D,GAChBsI,EAAc,GAClBlM,EAAKC,SAAS,CACZgH,MAAOjH,EAAKL,MAAMsH,MAAMhB,IAAI,SAACmC,EAAMjC,GAKjC,OAJIiC,EAAK/C,MAAQzB,IACfwE,EAAKC,WAAaD,EAAKC,UACvB6D,EAAc9D,EAAKC,WAEdD,MATIR,EAAAvG,KAAA,EAaTE,MAAM,6DAA8D,CACxEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE+B,GAAIA,EAAIyE,UAAW6D,MAhB7B,wBAAAtE,EAAA9E,SAAA6E,8DAoBjBsB,QAAU,SAAChI,EAAGiI,GACZ,IAAMC,EACJC,SACEnI,EAAEoG,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACL,EACDC,EACJH,SACEF,EAAE7B,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACL,EAGP,OAFAhF,QAAQC,IAAI4E,GACZ7E,QAAQC,IAAIgF,GACLJ,EAAQI,GAAS,EAAIJ,EAAQI,EAAQ,EAAI,sFAtF9B,IAAA/E,EAAArB,KAClB5B,MAAK,yEAAA4C,OAEDhB,KAAK9C,MAAM+D,YAGZlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKxF,EAAKyE,8CAkF/C,IAAA/D,EAAA/B,KACDiB,EAAYjB,KAAK9C,MAAM+D,UAC7B,OACErB,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAACmJ,EAAD,CAASlF,MAAO9D,KAAKxD,MAAMsH,MAAO7C,UAAWA,IAE7CrB,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,KACEvC,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,iBAAiB6G,gBAAgB,UAA7C,gBAGArJ,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,mBAAmB6G,gBAAgB,UAA/C,aAGArJ,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,mBAAmB6G,gBAAgB,UAA/C,oBAIFrJ,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,KACEtJ,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,iBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAACyJ,EAADC,OAAAC,OAAA,GAAmBtM,EAAnB,CAA0B+D,UAAWA,QAGzCrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,mBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC4J,EAADF,OAAAC,OAAA,GAAqBtM,EAArB,CAA4B+D,UAAWA,QAG3CrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEE,KAAK,mBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC6J,EAADH,OAAAC,OAAA,GACMtM,EADN,CAEE4G,MAAO/B,EAAKvF,MAAMsH,MAClBQ,SAAUvC,EAAKuC,SACfa,aAAcpD,EAAKoD,mBAIzBvF,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,wBACLC,OAAQ,SAAAnM,GAAK,OAAI0C,EAAA9B,EAAA+B,cAAC8J,EAADJ,OAAAC,OAAA,GAAYtM,EAAZ,CAAmB+D,UAAWA,QA7BnD,IAgCErB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,qCACLC,OAAQ,SAAAnM,GAAK,OAAI0C,EAAA9B,EAAA+B,cAAC+J,EAADL,OAAAC,OAAA,GAActM,EAAd,CAAqB+D,UAAWA,QAEnDrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CAAUW,KAAK,IAAIzH,GAAG,6BArJRxB,aCQpBkJ,SAAgB,SAAA5F,GACpB,IAAM6F,EAAG,GAAA/I,OAC8B,IAArCkD,EAAK8F,UAAUC,WAAWjI,OAAe,IAAM,IADxChB,OAENkD,EAAK8F,WACFE,EAAK,GAAAlJ,OAC6B,IAAtCkD,EAAKiG,WAAWF,WAAWjI,OAAe,IAAM,IADvChB,OAERkD,EAAKiG,WAAW,GACbC,EAAOlG,EAAKmG,UAAY,IAC9B,WAAArJ,OAAYoJ,EAAZ,KAAApJ,OAAoBkJ,EAApB,KAAAlJ,OAA6B+I,KAGzBO,EAAQR,EAAc,IAAIS,MAC1BC,EAAeV,EAAc,IAAIS,KAAKA,KAAKE,MAAQ,SCyL1CC,GDxLG,GAAA1J,OAAMwJ,EAAN,UA/BQ,SAAAtG,GACxB,IAAM6F,EAAG,GAAA/I,OAC8B,IAArCkD,EAAK8F,UAAUC,WAAWjI,OAAe,IAAM,IADxChB,OAENkD,EAAK8F,WACFE,EAAK,GAAAlJ,OAC6B,IAAtCkD,EAAKiG,WAAWF,WAAWjI,OAAe,IAAM,IADvChB,OAERkD,EAAKiG,WAAW,GACbC,EAAOlG,EAAKmG,UAAY,IACxBM,EAAI,GAAA3J,OAC8B,IAAtCkD,EAAK0G,WAAWX,WAAWjI,OAAe,IAAM,IADxChB,OAEPkD,EAAK0G,YACFC,EAAO,GAAA7J,OAC6B,IAAxCkD,EAAK4G,aAAab,WAAWjI,OAAe,IAAM,IADvChB,OAEVkD,EAAK4G,cAER,KAAA9J,OAAYoJ,EAAZ,KAAApJ,OAAoBkJ,EAApB,KAAAlJ,OAA6B+I,EAA7B,KAAA/I,OAAoC2J,EAApC,KAAA3J,OAA4C6J,GAkBlCE,CAAkB,IAAIR,iNC5BhC/N,MAAQ,CACNmK,aAAc,GACdqE,UAAW,GACXC,MAAO,GACPhE,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MAa5DsE,mBAAqB,SAAAtO,GACnBC,EAAKC,SAAS,CAAE6J,aAAc/J,EAAEG,OAAOC,WAIzCmO,WAAa,SAAApI,GACX,IAEIqI,EAAG,mCAAApK,OAFW,WAEX,WACHqK,EAAM,IAAIC,eACVC,EAAK,IAAIC,SACbH,EAAII,KAAK,OAAQL,GAAK,GACtBC,EAAIK,iBAAiB,mBAAoB,kBAEzCL,EAAIM,mBAAqB,SAAS/O,GAChC,GAAsB,GAAlByO,EAAIO,YAAiC,KAAdP,EAAItD,OAAe,CAE5C,IAAI7G,EAAWzC,KAAKyI,MAAMmE,EAAIQ,cAC9B1K,QAAQC,IAAIF,KAIhBqK,EAAGO,OAAO,gBAfmB,WAgB7BP,EAAGO,OAAO,OAAQ,yBAClBP,EAAGO,OAAO,OAAQ/I,GAClBsI,EAAIU,KAAKR,MAGXS,qDAAiB,SAAApO,EAAMhB,GAAN,IAAAqO,EAAA1I,EAAA,OAAA1E,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACftB,EAAEuB,iBACFgD,QAAQC,IAAIxE,EAAEG,OAAOkO,MAAMA,OACrBA,EAAQrO,EAAEG,OAAOkO,MAAMA,MACvB1I,EAJS,GAAAvB,OAIEnE,EAAKL,MAAMmK,aAJb,MAAA3F,OAKbpE,EAAEG,OAAOkP,OAASrP,EAAEG,OAAOkP,OAAOjP,MAAQ,GAL7B,MAAAgE,OAMVpE,EAAEG,OAAOyF,SAASxF,MAAMkJ,MAAM,KAAK,IANzBlI,EAAAE,KAAA,EAQTE,MAAM,4DAA6D,CACvEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKK,MAAM+D,UACtB0F,aAAc9J,EAAKL,MAAMmK,aACzBpE,QACAC,SAAQ,GAAAxB,OAAKpE,EAAEG,OAAOyF,SAASxF,MAAvB,KAAAgE,OAAgCpE,EAAEG,OAAOmP,SAASlP,OAC1DmP,WAAYvP,EAAEG,OAAO0F,SAASzF,MAC9B0F,eAAgB9F,EAAEG,OAAO2F,eAAe1F,MACxC2F,iBAAkB/F,EAAEG,OAAO4F,iBAAiB3F,MAC5C4F,iBAAkB/F,EAAKL,MAAMyK,WAAWtI,KACxCkE,QAASjG,EAAEG,OAAO8F,QAAQ7F,UAG3B+B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GACJ,IAAM2C,EAAa3C,EAAKgD,IACxBf,QAAQC,IAAIS,GAEZ,IAAK,IAAImB,EAAI,EAAGA,EAAIiI,EAAMjJ,OAAQgB,IAAK,CAErC,IAAIoJ,EAAOnB,EAAMjI,GAAGqJ,MAAM,EAAGpB,EAAMjI,GAAGsJ,KAAM,aACtCC,EAAU,IAAIC,KAAK,CAACJ,GAAV,GAAApL,OAAoBa,EAApB,QAAsC,CACpDzB,KAAM,cAERvD,EAAKsO,WAAWoB,MAlCP,OAsCf1P,EAAKK,MAAMC,QAAQC,KAAK,kBAtCT,wBAAAY,EAAA2B,SAAA/B,+IAtCG,IAAAyD,EAAArB,KAClB5B,MAAK,4EAAA4C,OAA6EhB,KAAK9C,MAAM+D,YAC1FlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OACRmC,EAAKvE,SAAS,CACZkO,UAAW9L,EAAKqC,OAAO,SAAAhE,GAAQ,MAAsB,gBAAlBA,EAAS6C,4CA2ElD,OACER,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,iBAAiBtC,UAAU,cAClCF,EAAA9B,EAAA+B,cAAA,4BAGFD,EAAA9B,EAAA+B,cAAA,MAAIwC,MAAO,CAAEoK,UAAW,WAAxB,iBAEA7M,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBACbF,EAAA9B,EAAA+B,cAAA,8BAEED,EAAA9B,EAAA+B,cAAA,UACElB,KAAK,eACLuB,SAAUF,KAAKkL,mBACfxK,aAAa,WAEbd,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,UAAU2D,UAAQ,GAAhC,eAGAf,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,eAEA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,eACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,oBAAd,oBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,0BAAd,0BAGA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,wBAAd,wBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,eAAd,kCAIHgD,KAAKxD,MAAMmK,cACV/G,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,gBAAgBG,SAAUD,KAAKgM,iBACf,yBAA5BhM,KAAKxD,MAAMmK,cACiB,2BAA5B3G,KAAKxD,MAAMmK,eACX/G,EAAA9B,EAAA+B,cAAA,aACG,IADH,kBAEiBD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,SAAS0B,UAAQ,EAACC,YAAY,mCAIzEV,EAAA9B,EAAA+B,cAAA,aACG,IADH,gBAEgB,IACdD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,WACL+N,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAc4J,KAGlB1K,EAAA9B,EAAA+B,cAAA,aACG,IADH,mBAEmB,IACjBD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,cAITiB,EAAA9B,EAAA+B,cAAA,aACG,IADH,eAEe,IACbD,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,YAAYnB,KAAK,WAAW+B,aAAa,GAAGL,UAAQ,GACpET,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,GAAG2D,UAAQ,GAAzB,uBAGCX,KAAKxD,MAAMwO,UAAUlI,IAAI,SAACL,EAAUO,GACnC,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOyF,EAASP,KAC7BO,EAASF,WAOpB3C,EAAA9B,EAAA+B,cAAA,aACG,IADH,yBAEoB,IAClBD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,iBACL0B,UAAQ,EACRC,YAAY,kCAIhBV,EAAA9B,EAAA+B,cAAA,aACG,IADH,0BAEqB,IACnBD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,mBACL0B,UAAQ,EACRC,YAAY,kCAGhBV,EAAA9B,EAAA+B,cAAA,aACG,IADH,oBAESD,EAAA9B,EAAA+B,cAAA,YAAUQ,UAAQ,EAAC1B,KAAK,aAEjCiB,EAAA9B,EAAA+B,cAAA,aACG,IADH,wBAEc,IACZD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OAELzB,KAAK,QACLiO,OAAO,aAIXhN,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,6BA1Mf4D,cCyIXiM,oNAvIbrQ,MAAQ,CACNsQ,UAAWrO,KAAKyI,MAAM9H,eAAewH,QAAQ,UAC7C1H,KAAMT,KAAKyI,MAAM9H,eAAewH,QAAQ,wBAA0B,GAClEmG,YAAatO,KAAKyI,MAAM9H,eAAewH,QAAQ,iBAAmB,GAClEK,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MAG5DoG,iDAAa,SAAApP,EAAMhB,GAAN,IAAAqQ,EAAA/I,EAAArB,EAAA,OAAAhF,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACXtB,EAAEuB,iBADS8O,EAGerQ,EAAEG,OAAO4H,cAA3BT,EAHG+I,EAGH/I,KAAMrB,EAHHoK,EAGGpK,QACThG,EAAKL,MAAMsQ,UAJL,CAAA9O,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAKHrB,EAAKC,SAAS,CAClBgQ,WAAW,EACX5N,KAAM,CACJ2D,QAASA,EAAQ7F,MACjBkH,KAAMA,EAAKlH,SATN,OAAAgB,EAAAE,KAAA,sBAAAF,EAAAE,KAAA,EAaHrB,EAAKC,SAAS,CAClBgQ,WAAW,EACX5N,KAAM,CACJ2D,QAAS,GACTqB,KAAM,MAjBD,cAAAlG,EAAAE,KAAA,GAqBLkB,eAAeC,QACnB,qBACAZ,KAAKC,UAAU7B,EAAKL,MAAM0C,OAvBjB,eAAAlB,EAAAE,KAAA,GAyBLkB,eAAeC,QAAQ,QAASZ,KAAKC,UAAU7B,EAAKL,MAAMsQ,YAzBrD,yBAAA9O,EAAA2B,SAAA/B,8DAgCbsP,qBAAuB,WACrB9O,MAAM,kEAAmE,CACvEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKK,MAAM+D,UACtBiD,KAAM3G,SAASC,eAAe,QAAQR,MACtC6F,QAAStF,SAASC,eAAe,WAAWR,MAC5CoK,OAAQvK,EAAKL,MAAMyK,WAAWtI,KAC9BoO,YAAalQ,EAAKL,MAAMuQ,gBAG5B3N,eAAe+N,WAAW,SAC1B/N,eAAe+N,WAAW,sBAC1B/N,eAAe+N,WAAW,eAC1BtQ,EAAKK,MAAMC,QAAQC,KAAK,6FAIxB,OACEwC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,4BACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,mBAAmBtC,UAAU,cACpCF,EAAA9B,EAAA+B,cAAA,4BAEFD,EAAA9B,EAAA+B,cAAA,4BAEAD,EAAA9B,EAAA+B,cAAA,YACED,EAAA9B,EAAA+B,cAAA,qBAEED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLO,SAAUX,KAAKxD,MAAMsQ,UACrBnO,KAAK,OACL8B,GAAG,OACHiM,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAcV,KAAKxD,MAAM0C,KAAKgF,MAAQoG,KAG1C1K,EAAA9B,EAAA+B,cAAA,gCACS,IACPD,EAAA9B,EAAA+B,cAAA,YACEY,GAAG,UACHE,SAAUX,KAAKxD,MAAMsQ,UACrBnO,KAAK,UACL+B,aAAcV,KAAKxD,MAAM0C,KAAK2D,SAAW,MAI7CjD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,SACLpD,MAAOgD,KAAKxD,MAAMsQ,UAAY,SAAW,SACzC/M,QAASC,KAAKgN,cAGjBhN,KAAKxD,MAAMuQ,aACVnN,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,oBAAb,wBAEGE,KAAKxD,MAAMuQ,YAAYjK,IAAI,SAACwE,EAAYtE,GACvC,OACEpD,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CACEgB,IAAKH,EACLlD,UAAU,cACVsC,GAAG,0CAEFkF,EAAW/E,UAMtB3C,EAAA9B,EAAA+B,cAAA,WAASC,UAAU,sBAAnB,iCACuB,IACrBF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,oBACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,qDACPxC,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,qBAAlB,YAEFF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,kDACPxC,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,qBAAlB,eAEFF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,iDACPxC,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,qBAAlB,gBAEFF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,kDACPxC,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,qBAAlB,uBAINF,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,gBAAgBC,QAASC,KAAKkN,sBAAhD,2BAhIwBtM,sBCoVjBwM,oNAnVb5Q,MAAQ,CACN6Q,UAAW,GACXpG,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MAG5D0G,uDAAmB,SAAA1P,EAAMhB,GAAN,IAAA2Q,EAAAC,EAAAtJ,EAAAmJ,EAAAI,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAtB,EAAA,OAAAlP,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACjBtB,EAAEuB,iBAEEoP,EAAmB,GAHNC,EAIW5Q,EAAEG,OAAtBmH,EAJSsJ,EAITtJ,KAAMmJ,EAJGG,EAIHH,UAJGrP,EAAAsQ,GAKTzR,EAAKK,MAAMyJ,aALF3I,EAAAE,KAMV,iBANUF,EAAAsQ,GAAA,EAmBV,cAnBUtQ,EAAAsQ,GAAA,EAiCV,aAjCUtQ,EAAAsQ,GAAA,GA+CV,cA/CUtQ,EAAAsQ,GAAA,0BAAAb,EAOiB7Q,EAAEG,OAAxB2Q,EAPKD,EAOLC,SAAUC,EAPLF,EAOKE,QAClBJ,EAAmB,CACjBtM,UAAWpE,EAAKK,MAAM+D,UACtBsB,MAAK,WAAAvB,OAAa0M,EAAS1Q,OAC3B0Q,SAAUA,EAAS1Q,MACnB2Q,QAASA,EAAQ3Q,MACjBqG,UAAWa,EAAKlH,MAChBqQ,UAAWA,EAAUrQ,MACrBoD,KAAM,UACNgH,OAAQvK,EAAKL,MAAMyK,WAAWtI,MAhBnBX,EAAAuQ,OAAA,0BAAAX,EAoBoBhR,EAAEG,OAA3B8Q,EApBKD,EAoBLC,YAAaC,EApBRF,EAoBQE,QACrBP,EAAmB,CACjBtM,UAAWpE,EAAKK,MAAM+D,UACtBsB,MAAK,cAAAvB,OAAgBqM,EAAUrQ,MAA1B,KAAAgE,OAAmC8M,EAAQ9Q,OAChDqG,UAAWa,EAAKlH,MAChB6Q,YAAaA,EAAY7Q,MACzBqQ,UAAWA,EAAUrQ,MACrB8Q,QAASA,EAAQ9Q,MACjBoD,KAAM,aACNgH,OAAQvK,EAAKL,MAAMyK,WAAWtI,MA7BnBX,EAAAuQ,OAAA,2BAAAR,EAkCkCnR,EAAEG,OAAzCiR,EAlCKD,EAkCLC,MAAOC,EAlCFF,EAkCEE,YAAaC,EAlCfH,EAkCeG,UAAWC,EAlC1BJ,EAkC0BI,IACvCZ,EAAmB,CACjBtM,UAAWpE,EAAKK,MAAM+D,UACtBsB,MAAK,kBAAAvB,OAAoBiN,EAAYjR,MAAhC,KAAAgE,OAAyCkD,EAAKlH,OACnDqG,UAAWa,EAAKlH,MAChBgR,MAAOA,EAAMhR,MACbiR,YAAaA,EAAYjR,MACzBkR,UAAWA,EAAUlR,MACrBmR,IAAKA,EAAInR,MACToD,KAAM,cACNgH,OAAQvK,EAAKL,MAAMyK,WAAWtI,MA5CnBX,EAAAuQ,OAAA,2BAgDPH,EAhDO7E,OAAAiF,EAAA,EAAAjF,CAgDU3M,EAAEG,OAAO0R,MAC1BJ,EAAWD,EACd7M,OAAO,SAAAmN,GAAQ,OAAyB,IAArBA,EAAS5J,UAC5BhC,IAAI,SAAA4L,GAAQ,OAAIA,EAAS1R,QAE5BmE,QAAQC,IAAIiN,GACZd,EAAmB,CACjBtM,UAAWpE,EAAKK,MAAM+D,UACtBsB,MAAK,uCAAAvB,OAAoCkD,EAAKlH,OAC9CkH,KAAMA,EAAKlH,MACXqR,SAAUA,EACVjO,KAAM,iBACNgH,OAAQvK,EAAKL,MAAMyK,WAAWtI,MA5DnBX,EAAAuQ,OAAA,2BAAAvQ,EAAAuQ,OAAA,yBAAAvQ,EAAAE,KAAA,GAmEXE,MACJ,+DACA,CACEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU6O,KAGtBxO,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAKqO,EAAiB9M,GAAKvB,IA5EtB,QA6EjBiC,QAAQC,IAAImM,EAAiB9M,KACzBsM,EAActO,KAAKyI,MAAM9H,eAAewH,QAAQ,iBAAmB,IAC3DxJ,KAAKmQ,GACjBnO,eAAeC,QAAQ,cAAeZ,KAAKC,UAAUqO,IACrDlQ,EAAKK,MAAMC,QAAQC,KAAK,+BAjFP,yBAAAY,EAAA2B,SAAA/B,8DAoFnB+Q,aAAe,SAAA/R,GACbC,EAAKC,SAAS,CAAEuQ,UAAWzQ,EAAEG,OAAOC,iFAIpC,IAAM2J,EAAe3G,KAAK9C,MAAMyJ,aAEhC,OACE/G,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,aACbF,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,8BAA8BtC,UAAU,cAC/CF,EAAA9B,EAAA+B,cAAA,4BAEgB,iBAAjB8G,GACC/G,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,0BACAD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,kBAAkBG,SAAUD,KAAKsN,kBAC/C1N,EAAA9B,EAAA+B,cAAA,qBAEED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL+N,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAc4J,KAGlB1K,EAAA9B,EAAA+B,cAAA,kCACqB,IACnBD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLE,YAAY,qCACZ3B,KAAK,WACL0B,UAAQ,KAGZT,EAAA9B,EAAA+B,cAAA,0CACc,IACZD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,UAAU0B,UAAQ,EAACC,YAAY,OAEzDV,EAAA9B,EAAA+B,cAAA,8BACgBD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,eAExCiB,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,YAKf,cAAjB2J,GACC/G,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,uCACAD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,kBAAkBG,SAAUD,KAAKsN,kBAC/C1N,EAAA9B,EAAA+B,cAAA,qBAEED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL+N,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAc4J,KAGlB1K,EAAA9B,EAAA+B,cAAA,8BACiB,IACfD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,cACL0B,UAAQ,EACRC,YAAY,OAGhBV,EAAA9B,EAAA+B,cAAA,mBACM,IACJD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,YACL+N,IAAKlC,EACLnK,UAAQ,EACRI,GAAG,YACHP,SAAUF,KAAK2O,gBAGnB/O,EAAA9B,EAAA+B,cAAA,mBACM,IACJD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,UACL0B,UAAQ,EACRqM,IAAK1M,KAAKxD,MAAM6Q,aAGpBzN,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,YAKf,aAAjB2J,GACC/G,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,8BACAD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,kBAAkBG,SAAUD,KAAKsN,kBAC/C1N,EAAA9B,EAAA+B,cAAA,qBAEED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL+N,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAc4J,KAGlB1K,EAAA9B,EAAA+B,cAAA,+BACkB,IAChBD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,QACL2B,YAAY,oDACZD,UAAQ,KAGZT,EAAA9B,EAAA+B,cAAA,wBACW,IACTD,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,cACL2B,YAAY,2BACZD,UAAQ,KAGZT,EAAA9B,EAAA+B,cAAA,4BACe,IACbD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,YAAY0B,UAAQ,EAACC,YAAY,OAE3DV,EAAA9B,EAAA+B,cAAA,qBACOD,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,OAAOzB,KAAK,MAAM0B,UAAQ,EAACC,YAAY,OAE1DV,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,YAKf,cAAjB2J,GACC/G,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,sCACAD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,iBAAiBG,SAAUD,KAAKsN,kBAC9C1N,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,cAAjB,QAEEF,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,OACL+N,IAAKlC,EACLmC,IAAKrC,EACL5J,aAAc4J,KAIlB1K,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,SACbF,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,eAD3C,cAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,QAD3C,OAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,QAD3C,OAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,OAD3C,MAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,YAD3C,WAKA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,OAD3C,oBAKA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,iBAD3C,gBAKA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,OAD3C,MAKA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,SAD3C,QAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,WAD3C,UAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,WAD3C,UAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,UAD3C,SAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,gBAD3C,eAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,cAD3C,aAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,SAD3C,QAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,UAD3C,SAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,QAD3C,OAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,QAD3C,OAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,QAD3C,OAIA4C,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,OAAO3B,MAAM,OAD3C,OAMF4C,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,oBA3Ub4D,cCoYbgO,6MA3XbpS,MAAQ,CACNyE,UAAW,GACX6C,MAAO,GACP+K,SAAU,GACV5H,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MA4B5D5B,8CAAU,SAAApH,EAAMhB,GAAN,IAAAsI,EAAA,OAAArH,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACRtB,EAAEuB,iBACFvB,EAAEkS,UACFlS,EAAEG,OAAOwF,MAAMvF,MAAQJ,EAAEG,OAAOwF,MAAMvF,MAAMoH,OAER,IAAhCxH,EAAEG,OAAOwF,MAAMvF,MAAMgF,OALjB,CAAAhE,EAAAE,KAAA,eAAAF,EAAAuQ,OAAA,wBAQFrJ,EAAyC,SAA7BtI,EAAEG,OAAOmI,UAAUlI,MAR7BgB,EAAAE,KAAA,EAUFE,MAAM,wDAAyD,CACnEC,OAAQ,OAERC,QAAS,CACPC,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKL,MAAMyE,UACtBsB,MAAO3F,EAAEG,OAAOwF,MAAMvF,MACtBkH,KAAMtH,EAAEG,OAAOmH,KAAKlH,MAAMkJ,MAAM,KAAKC,KAAK,KAC1CjB,YACAjB,QAASrH,EAAEG,OAAOkH,QAAQjH,MAC1BoI,aAAcxI,EAAEG,OAAOqI,aAAapI,MACpCoK,OAAQvK,EAAKL,MAAMyK,WAAWtI,SAG/BI,KAAK,SAAAmC,GAAQ,OAAIA,EAASjC,SAC1BF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKhK,EAAKiJ,aA3B9C,OA6BRlJ,EAAEG,OAAOwF,MAAMvF,MAAQ,GACvBJ,EAAEG,OAAOkH,QAAQjH,MAAQ,GACzBJ,EAAEG,OAAOmH,KAAKlH,MAAQ,GA/Bd,yBAAAgB,EAAA2B,SAAA/B,8DAmCVmR,yDAAqB,SAAAvK,EAAM5H,GAAN,OAAAiB,EAAAC,EAAAC,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,UACnBtB,EAAEuB,iBACFgD,QAAQC,IAAIxE,EAAEG,QACdH,EAAEkS,UACFlS,EAAEG,OAAOwF,MAAMvF,MAAQJ,EAAEG,OAAOwF,MAAMvF,MAAMoH,OAER,IAAhCxH,EAAEG,OAAOwF,MAAMvF,MAAMgF,OANN,CAAAyC,EAAAvG,KAAA,eAAAuG,EAAA8J,OAAA,wBAAA9J,EAAAvG,KAAA,EASbE,MAAM,wDAAyD,CACnEC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKL,MAAMyE,UACtBsB,MAAO3F,EAAEG,OAAOwF,MAAMvF,MACtBkH,KAAM,GACNgB,WAAW,EACXjB,QAAS,GACTmB,aAAc,GACdgC,OAAQvK,EAAKL,MAAMyK,WAAWtI,SAI/BI,KAAK,SAAAmC,GAAQ,OAAIA,EAASjC,SAC1BF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKhK,EAAKiJ,aAxBnC,OA0BnBlJ,EAAEG,OAAOwF,MAAMvF,MAAQ,GA1BJ,wBAAAyH,EAAA9E,SAAA6E,8DA6BrBF,+CAAW,SAAA0K,EAAMvO,GAAN,IAAA8B,EAAA0B,EAAAC,EAAA,OAAArG,EAAAC,EAAAC,KAAA,SAAAkR,GAAA,cAAAA,EAAAhR,KAAAgR,EAAA/Q,MAAA,cACHqE,EAAQhF,SAAS4G,cAAc,UAAUnH,MACzCiH,EAAU1G,SAAS4G,cAAc,YAAYnH,MAC7CkH,EAAO3G,SAAS4G,cAAc,SAH3B8K,EAAA/Q,KAAA,EAKDE,MAAM,yDAA0D,CACpEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuC,UAAWpE,EAAKL,MAAMyE,UACtBsB,QACA0B,UACAC,KAAMA,EAAKlH,MACX8L,eAAgBvL,SAAS4G,cAAc,kBAAkBnH,MACzDyD,GAAIA,MAGL1B,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKhK,EAAKiJ,aAlB/C,wBAAAmJ,EAAAtP,SAAAqP,8DAsBX7J,aAAe,SAAAvI,GACb,IAAM6D,EAAK7D,EAAEG,OAAO0D,GACpB5D,EAAKC,SAAS,CACZgH,MAAOjH,EAAKL,MAAMsH,MAAMhB,IAAI,SAACmC,EAAMjC,GAIjC,OAHIiC,EAAK/C,MAAQzB,IACfwE,EAAKC,WAAY,GAEZD,MAIX7G,MAAM,6DAA8D,CAClEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE+B,GAAIA,EAAIyE,WAAW,SAI9CiD,qDAAiB,SAAA+G,EAAMtS,GAAN,IAAA6D,EAAAsI,EAAA,OAAAlL,EAAAC,EAAAC,KAAA,SAAAoR,GAAA,cAAAA,EAAAlR,KAAAkR,EAAAjR,MAAA,cACTuC,EAAK7D,EAAEG,OAAO0D,GAChBsI,EAAc,GAClBlM,EAAKC,SAAS,CACZgH,MAAOjH,EAAKL,MAAMsH,MAAMhB,IAAI,SAACmC,EAAMjC,GAKjC,OAJIiC,EAAK/C,MAAQzB,IACfwE,EAAKC,WAAaD,EAAKC,UACvB6D,EAAc9D,EAAKC,WAEdD,MATIkK,EAAAjR,KAAA,EAaTE,MAAM,6DAA8D,CACxEC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CAAE+B,GAAIA,EAAIyE,UAAW6D,MAhB7B,wBAAAoG,EAAAxP,SAAAuP,8DAoBjBE,oDAAgB,SAAAC,EAAMzS,GAAN,IAAAqE,EAAA,OAAApD,EAAAC,EAAAC,KAAA,SAAAuR,GAAA,cAAAA,EAAArR,KAAAqR,EAAApR,MAAA,UACdtB,EAAEuB,iBAGGtB,EAAKL,MAAMyE,UAJF,CAAAqO,EAAApR,KAAA,gBAKZtB,EAAEuB,iBACF8C,EAAYrE,EAAEG,OAAOkE,UAAUjE,MANnBsS,EAAApR,KAAA,EAONrB,EAAKC,SAAS,CAAEmE,cAPV,cAAAqO,EAAApR,KAAA,EASNE,MAAK,0EAAA4C,OAEPnE,EAAKL,MAAMyE,YAGZlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAIrC,EAAKC,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKhK,EAAKiJ,aAf1C,OAAAwJ,EAAApR,KAAA,wBAAAoR,EAAApR,KAAA,GAiBNrB,EAAKC,SAAS,CAAEmE,UAAW,KAjBrB,yBAAAqO,EAAA3P,SAAA0P,8DAqBhBvJ,QAAU,SAAChI,EAAGiI,GACZ,IAAMC,EACJC,SACEnI,EAAEoG,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACL,EACDC,EACJH,SACEF,EAAE7B,KACCgC,MAAM,KAAK,GACXA,MAAM,KACNC,KAAK,MACL,EAEP,OAAOH,EAAQI,GAAS,EAAIJ,EAAQI,EAAQ,EAAI,+MAvL1ChH,eAAeC,QACnB,YACAZ,KAAKC,UAAUsB,KAAKxD,MAAMyE,6RAKtB7C,MAAM,yDACTW,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GACJiC,QAAQC,IAAIlC,GACZmC,EAAKvE,SAAS,CAAE+R,SAAU3P,EAAK4D,IAAI,SAAA2E,GAAO,OAAIA,EAAQhH,gCAEpDrC,MAAK,yEAAA4C,OAEPhB,KAAKxD,MAAMyE,YAGZlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEgH,MAAO5E,EAAK2H,KAAKxF,EAAKyE,gJAuK/C,IAAA/D,EAAA/B,KACHiB,EAAYjB,KAAKxD,MAAMyE,UAC3B,OACErB,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,UAAUG,SAAUD,KAAKoP,eACtCnO,EACCrB,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,WAAWmB,GAExBrB,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,YAAY+B,aAAa,IACpCd,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,GAAG2D,UAAQ,GAAzB,oBAGCX,KAAKxD,MAAMqS,SAAS/L,IAAI,SAAC2E,EAASzE,GACjC,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOyK,GACpBA,MAOX7H,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,SACLpD,MAAOgD,KAAKxD,MAAMyE,UAAY,sBAAmB,0BAIpDjB,KAAKxD,MAAMyE,WACVrB,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAACmJ,EAAD,CACEjE,cAAc,SACd9D,UAAWA,EACX6C,MAAO9D,KAAKxD,MAAMsH,MAClBkB,QAAShF,KAAK+O,mBACd5G,eAAgBnI,KAAKmI,iBAEvBvI,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,KACEvC,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,iBAAiB6G,gBAAgB,UAA7C,gBAGArJ,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,mBAAmB6G,gBAAgB,UAA/C,aAGArJ,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAASC,GAAG,mBAAmB6G,gBAAgB,UAA/C,oBAIFrJ,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,KACEtJ,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,oDACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC0P,EAADhG,OAAAC,OAAA,GACMtM,EADN,CAEEyJ,aAAa,eACb1F,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,iDACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC0P,EAADhG,OAAAC,OAAA,GACMtM,EADN,CAEEyJ,aAAa,YACb1F,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,gDACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC0P,EAADhG,OAAAC,OAAA,GACMtM,EADN,CAEEyJ,aAAa,WACb1F,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,iDACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC0P,EAADhG,OAAAC,OAAA,GACMtM,EADN,CAEEyJ,aAAa,YACb1F,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,qCACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC+J,EAADL,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,8BACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC2P,EAADjG,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,4BACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC4P,EAADlG,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEC,OAAK,EACLC,KAAK,wBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC8J,EAADJ,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QArFnB,OA0FErB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEE,KAAK,iBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAACyJ,EAADC,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEE,KAAK,mBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC4J,EAADF,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACd9D,UAAWA,QAIjBrB,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CACEE,KAAK,mBACLC,OAAQ,SAAAnM,GAAK,OACX0C,EAAA9B,EAAA+B,cAAC6J,EAADH,OAAAC,OAAA,GACMtM,EADN,CAEE6H,cAAc,SACdjB,MAAO/B,EAAKvF,MAAMsH,MAClBkB,QAASjD,EAAKiD,QACdG,aAAcpD,EAAKoD,aACnBb,SAAUvC,EAAKuC,eAIrB1E,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CAAUW,KAAK,IAAIzH,GAAG,qBAG1BxC,EAAA9B,EAAA+B,cAAA,qBApXae,aC4QV8O,oNApRblT,MAAQ,CACNmT,WAAY,GACZnM,QAAS,GACT6E,WAAY,GACZuH,UAAW,GACX3O,UAAW,GACXgG,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,MAS5D4B,iBAAmB,SAAA5L,GACjBuE,QAAQC,IAAIxE,EAAEG,OAAOC,OACrBH,EAAKC,SAAS,CAAE6S,WAAY/S,EAAEG,OAAOC,WAGvC6S,aAAe,SAAAjT,GACbA,EAAEuB,iBACF,IAAIQ,EAAOpB,SAAS4G,cAAc,cAAcnH,MAC5CA,EAAQO,SAAS4G,cAAc,WAAWnH,MAC1C0G,EAAQ7G,EAAKL,MAAM6L,WAAWO,KAAK,SAAAD,GAAS,OAAIA,EAAUhK,OAASA,IACpE+E,MACCC,EAAO9G,EAAKL,MAAM6L,WAAWO,KAAK,SAAAD,GAAS,OAAIA,EAAUhK,OAASA,IACnEgF,KACH,GAAI,iBAAiB8K,KAAKzR,GAAQ,CAChC,IAAM8S,EAAe,CACnBnR,OACA3B,QACAoD,KAAMvD,EAAKL,MAAMmT,WACjBjM,QACAC,QAEF9G,EAAKC,SAAS,CAAE0G,QAAO,GAAAxC,OAAAuI,OAAAiF,EAAA,EAAAjF,CAAM1M,EAAKL,MAAMgH,SAAjB,CAA0BsM,MACjDvS,SAAS4G,cAAc,WAAWnH,MAAQ,OAI9C+S,aAAe,SAAAnT,GACbA,EAAEuB,iBACF,IAAM6R,EAAiBpT,EAAEG,OAAOiT,eAAehT,MAAMkJ,MAAM,KACrD3D,EAAK,gBAAAvB,OAAmBgP,EAAe,IACvC3M,EAAYiH,EAElBlM,MAAM,0DAA2D,CAC/DC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBuR,aAAcrT,EAAEG,OAAOkE,UAAUjE,MACjCkT,SAAUtT,EAAEG,OAAOmT,SAASlT,MAC5B0F,eAAgB9F,EAAEG,OAAO2F,eAAe1F,MACxCuF,QACAC,SAAUwN,EAAe7J,KAAK,KAC9B9C,YACAC,cAAezG,EAAKL,MAAMyK,WAAWtI,KACrC6E,QAAS3G,EAAKL,MAAMgH,YAGxB3G,EAAKC,SAAS,CAAE6S,WAAY,GAAInM,QAAS,KACzC2M,OAAOC,SAASC,YAGlBC,oDAAgB,SAAA9L,EAAM5H,GAAN,IAAAqE,EAAA,OAAApD,EAAAC,EAAAC,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,YACV+C,EAAYrE,EAAEG,OAAOC,OACX2E,MAAM,YAFN,CAAA8C,EAAAvG,KAAA,eAAAuG,EAAAvG,KAAA,EAGNE,MAAM,yDAAyDW,KAAK,SAAAC,GAAM,OAC9EA,EAAOC,OAAOF,KAAd,eAAAwR,EAAAhH,OAAAiH,EAAA,EAAAjH,CAAA1L,EAAAC,EAAA2S,KAAmB,SAAA7S,EAAMsB,GAAN,OAAArB,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACLgB,EAAK4D,IAAI,SAAA2E,GAAO,OAAIA,EAAQhH,KAChCiB,SAAST,GAFA,CAAAjD,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EAGTrB,EAAKC,SAAS,CAAEmE,cAHP,OAAAjD,EAAAE,KAAA,eAKf8J,MAAM,2BACNnL,EAAKC,SAAS,CAAEmE,UAAW,KANZ,wBAAAjD,EAAA2B,SAAA/B,MAAnB,gBAAA8S,GAAA,OAAAH,EAAAI,MAAA3Q,KAAA4Q,YAAA,MAJU,cAAAnM,EAAAvG,KAAA,EAgBRE,MAAK,6EAAA4C,OAEPnE,EAAKL,MAAMyE,YAGZlC,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OACRrC,EAAKC,SAAS,CACZ8S,UAAW1Q,EAAKqC,OAAO,SAAAhE,GAAQ,MAAsB,mBAAlBA,EAAS6C,WAxBpC,wBAAAqE,EAAA9E,SAAA6E,+IAxDI,IAAAnD,EAAArB,KAClB5B,MAAM,yDACHW,KAAK,SAAAC,GAAM,OAAIA,EAAOC,SACtBF,KAAK,SAAAG,GAAI,OAAImC,EAAKvE,SAAS,CAAEuL,WAAYnJ,uCAkFrC,IAAA6C,EAAA/B,KACP,OACEJ,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,2BACbF,EAAA9B,EAAA+B,cAAA,sCACAD,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,OAAOG,SAAUD,KAAK+P,cACpCnQ,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,YAAYL,UAAU,aAArC,cACc,IACZF,EAAA9B,EAAA+B,cAAA,SACElB,KAAK,YACLyB,KAAK,OACLC,UAAQ,EACRE,QAAQ,WACRD,YAAY,IACZJ,SAAUF,KAAKsQ,iBAInB1Q,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,aAAjB,YACY,IACVF,EAAA9B,EAAA+B,cAAA,UACEC,UAAU,aACVnB,KAAK,WACL+B,aAAa,GACbC,UAAWX,KAAKxD,MAAMyE,UACtBZ,UAAQ,GAERT,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,GAAG2D,UAAQ,GAAzB,oBAGCX,KAAKxD,MAAMoT,UAAU9M,IAAI,SAACoN,EAAUlN,GACnC,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAOkT,EAAShO,KAC7BgO,EAAS3N,WAMpB3C,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,iBAAiBL,UAAU,aAA1C,wBACmB,IACjBF,EAAA9B,EAAA+B,cAAA,SACElB,KAAK,iBACLyB,KAAK,OACLC,UAAQ,EACRC,YAAY,IACZK,UAAWX,KAAKxD,MAAMyE,aAG1BrB,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,iBAAiBL,UAAU,aAA1C,gBACgB,IACdF,EAAA9B,EAAA+B,cAAA,SACElB,KAAK,iBACLyB,KAAK,iBACLO,UAAWX,KAAKxD,MAAMyE,aAI1BrB,EAAA9B,EAAA+B,cAAA,SAAOC,UAAU,aAAjB,cAEEF,EAAA9B,EAAA+B,cAAA,UACEc,UAAWX,KAAKxD,MAAMyE,UACtBtC,KAAK,cACLuB,SAAUF,KAAKwI,iBACf9H,aAAa,WAEbd,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,UAAU2D,UAAU,GAAlC,uBAGAf,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,cAAd,mBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,aAAd,kBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,gBAAd,gBACA4C,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,MAAd,QAIHgD,KAAKxD,MAAMmT,YACV/P,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,kBACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,cACbF,EAAA9B,EAAA+B,cAAA,gCAE6B,eAA1BG,KAAKxD,MAAMmT,YACV/P,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,YAAY8B,GAAG,aACzBT,KAAKxD,MAAM6L,WACT9G,OACC,SAAAoH,GAAS,MAA2B,eAAvBA,EAAUkI,WAExB/N,IAAI,SAAC6F,EAAW3F,GACf,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAO2L,EAAUhK,MAC9BgK,EAAUhK,SAMI,cAA1BqB,KAAKxD,MAAMmT,YACV/P,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,YAAY8B,GAAG,aACzBT,KAAKxD,MAAM6L,WACT9G,OAAO,SAAAoH,GAAS,MAA2B,cAAvBA,EAAUkI,WAC9B/N,IAAI,SAAC6F,EAAW3F,GACf,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAO2L,EAAUhK,MAC9BgK,EAAUhK,SAMI,iBAA1BqB,KAAKxD,MAAMmT,YACV/P,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,YAAY8B,GAAG,aACzBT,KAAKxD,MAAM6L,WACT9G,OACC,SAAAoH,GAAS,MAA2B,iBAAvBA,EAAUkI,WAExB/N,IAAI,SAAC6F,EAAW3F,GACf,OACEpD,EAAA9B,EAAA+B,cAAA,UAAQsD,IAAKH,EAAGhG,MAAO2L,EAAUhK,MAC9BgK,EAAUhK,SAMI,OAA1BqB,KAAKxD,MAAMmT,YACV/P,EAAA9B,EAAA+B,cAAA,UAAQlB,KAAK,YAAY8B,GAAG,aAC1Bb,EAAA9B,EAAA+B,cAAA,UAAQ7C,MAAM,MAAd,QAIN4C,EAAA9B,EAAA+B,cAAA,iCAEED,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,SACL8B,GAAG,SACHF,QAAQ,kBAGZX,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,SACLpD,MAAM,iBACN+C,QAASC,KAAK6P,gBAIjB7P,KAAKxD,MAAMgH,QAAQxB,OAAS,GAC3BpC,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,SACbF,EAAA9B,EAAA+B,cAAA,SAAO0D,OAAO,KACZ3D,EAAA9B,EAAA+B,cAAA,aACED,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cAAd,OACAF,EAAA9B,EAAA+B,cAAA,sBACAD,EAAA9B,EAAA+B,cAAA,+BACAD,EAAA9B,EAAA+B,cAAA,oBACAD,EAAA9B,EAAA+B,cAAA,yBAGHG,KAAKxD,MAAMgH,QAAQV,IAAI,SAACW,EAAMT,GAC7B,OACEpD,EAAA9B,EAAA+B,cAAA,SAAOsD,IAAKH,GACVpD,EAAA9B,EAAA+B,cAAA,UACED,EAAA9B,EAAA+B,cAAA,MAAIC,UAAU,cAAckD,EAAI,GAChCpD,EAAA9B,EAAA+B,cAAA,UAAKkC,EAAKvF,MAAMgH,QAAQR,GAAGrE,MAC3BiB,EAAA9B,EAAA+B,cAAA,UAAKkC,EAAKvF,MAAMgH,QAAQR,GAAGhG,OAC3B4C,EAAA9B,EAAA+B,cAAA,UAAKkC,EAAKvF,MAAMgH,QAAQR,GAAGU,OAC3B9D,EAAA9B,EAAA+B,cAAA,UAAKkC,EAAKvF,MAAMgH,QAAQR,GAAGW,WAMrC/D,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,sCA1Qb4D,cCwKjBkQ,6MArKbtU,MAAQ,CACNuI,cAAetG,KAAKyI,MAAM9H,eAAewH,QAAQ,YAC7CnI,KAAKyI,MAAM9H,eAAewH,QAAQ,YAClC,GACJmK,WAAYtS,KAAKyI,MAAM9H,eAAewH,QAAQ,gBAAkB,QAChEK,WAAYxI,KAAKyI,MAAM9H,eAAewH,QAAQ,UAAY,GAC1D3F,UAAWxC,KAAKyI,MAAM9H,eAAewH,QAAQ,eAAiB,MAoBhEoK,cAAgB,SAAApU,GACdC,EAAKC,SAAS,CAAEiI,cAAenI,EAAEG,OAAOC,WAG1CiU,4CAAQ,SAAArT,EAAMhB,GAAN,IAAAqE,EAAA,OAAApD,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACNtB,EAAEuB,iBADIH,EAAAE,KAAA,EAGAE,MAAM,oDAAqD,CAC/DC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAU,CACnBS,MAAOvC,EAAEG,OAAOoC,MAAMnC,MACtBM,SAAUV,EAAEG,OAAOO,SAASN,UAG7B+B,KAAK,SAAAmC,GAAQ,OAAIA,EAASjC,SAC1BF,KAAK,SAAAG,GACJiC,QAAQC,IAAIlC,GACC,SAATA,EACF3B,SAAS4G,cAAc,eAAe+M,UACpC,kCAEFjQ,EAAiC,YAArB/B,EAAKzC,YAA4ByC,EAAKiS,GAAK,GACvDtU,EAAKC,SAAS,CACZiI,cAAe7F,EAAKzC,YACpBsU,WAAY,OACZ9J,WAAY/H,EACZ+B,iBAvBF,wBAAAjD,EAAA2B,SAAA/B,8DA6BRwT,4BAAS,SAAA5M,IAAA,OAAA3G,EAAAC,EAAAC,KAAA,SAAA0G,GAAA,cAAAA,EAAAxG,KAAAwG,EAAAvG,MAAA,OACPrB,EAAKC,SAAS,CACZiI,cAAe,GACfgM,WAAY,QACZ9J,WAAY,GACZhG,UAAW,KAGbpE,EAAKK,MAAMC,QAAQC,KAAK,KARjB,wBAAAqH,EAAA9E,SAAA6E,kNAhDDpF,eAAeC,QACnB,aACAZ,KAAKC,UAAUsB,KAAKxD,MAAMuU,oCAEtB3R,eAAeC,QACnB,UACAZ,KAAKC,UAAUsB,KAAKxD,MAAMuI,uCAEtB3F,eAAeC,QAAQ,OAAQZ,KAAKC,UAAUsB,KAAKxD,MAAMyK,oCACzD7H,eAAeC,QACnB,YACAZ,KAAKC,UAAUsB,KAAKxD,MAAMyE,+IAiD5B,IAAIoQ,EASJ,OARIjS,eAAewH,QAAQ,mBACzByK,EAAQ,+BAAArQ,OAA+B5B,eAAewH,QACpD,mBAEFxH,eAAe+N,WAAW,mBAE1BkE,EAAWzR,EAAA9B,EAAA+B,cAAA,WAGXD,EAAA9B,EAAA+B,cAAA,WAC6B,UAA1BG,KAAKxD,MAAMuU,WACVnR,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,mBACbF,EAAA9B,EAAA+B,cAAA,8BACAD,EAAA9B,EAAA+B,cAAA,KAAGY,GAAG,cAAc4Q,GACpBzR,EAAA9B,EAAA+B,cAAA,QAAMI,SAAUD,KAAKiR,OACnBrR,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,SAAf,qBACAP,EAAA9B,EAAA+B,cAAA,SACEO,KAAK,OACLzB,KAAK,QACL4B,QAAQ,cACRD,YAAY,6BACZD,UAAQ,IAEVT,EAAA9B,EAAA+B,cAAA,SAAOM,QAAQ,YAAf,gBACAP,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,WAAWzB,KAAK,WAAW0B,UAAQ,IAC/CT,EAAA9B,EAAA+B,cAAA,SAAOO,KAAK,SAASpD,MAAM,aAE7B4C,EAAA9B,EAAA+B,cAAA,4BACAD,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAMC,GAAG,aACPxC,EAAA9B,EAAA+B,cAAA,wCAIJD,EAAA9B,EAAA+B,cAAA,WACED,EAAA9B,EAAA+B,cAAA,cAoCED,EAAA9B,EAAA+B,cAAA,KAAGC,UAAU,cAAb,oBACoBE,KAAKxD,MAAMyK,WAAWtI,MAG1CiB,EAAA9B,EAAA+B,cAAA,UAAQC,UAAU,UAAUC,QAASC,KAAKoR,QAA1C,qBAK4B,YAA7BpR,KAAKxD,MAAMuI,cACVnF,EAAA9B,EAAA+B,cAACyR,EAAD,CAAarQ,UAAWjB,KAAKxD,MAAMyE,YACJ,WAA7BjB,KAAKxD,MAAMuI,cACbnF,EAAA9B,EAAA+B,cAAC0R,EAAD,MAEA3R,EAAA9B,EAAA+B,cAAC2R,EAAD,eA7JK5Q,aCwBJ6Q,0SAnBNrS,eAAewH,QAAQ,kCAC1BzF,QAAQC,IAAI,cACC,YACPhC,eAAeC,QAAQ,UAAWZ,KAAKC,UADhC,mIAMf,OACEkB,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,OACbF,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,KACEtJ,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,YAAYsI,UAAWnV,IACzCqD,EAAA9B,EAAA+B,cAACqJ,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIsI,UAAWZ,aAdzBlQ,aCHlB+Q,IAAStI,OACPzJ,EAAA9B,EAAA+B,cAACsC,EAAA,EAAD,CAAeyP,SAAUC,kCACvBjS,EAAA9B,EAAA+B,cAACiS,EAAD,OAEFvU,SAASC,eAAe","file":"static/js/main.3d4c6cf0.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n/* import { withRouter } from 'react-router-dom'; */\r\n//import { history } from 'react-router-dom';\r\n\r\nclass Register extends Component {\r\n  state = {\r\n    accountType: \"patient\",\r\n    generatedLogin: \"\"\r\n  };\r\n\r\n  chooseAccountType = e => {\r\n    this.setState({ accountType: e.target.value });\r\n  };\r\n\r\n  goBack = () => {\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  validatePassword = () => {\r\n    let password = document.getElementById(\"password\");\r\n    let confirmPassword = document.getElementById(\"confirm-password\");\r\n\r\n    if (password.value !== confirmPassword.value) {\r\n      confirmPassword.setCustomValidity(\"Hasła nie są jednakowe\");\r\n    } else {\r\n      confirmPassword.setCustomValidity(\"\");\r\n    }\r\n  };\r\n\r\n  registerUser = async e => {\r\n    e.preventDefault();\r\n    if (this.state.accountType === \"doctor\") {\r\n      await fetch(\"https://medical-documentation.herokuapp.com/register\", {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          accountType: this.state.accountType,\r\n          name: e.target.name.value,\r\n          surname: e.target.surname.value,\r\n          PWZ: e.target.PWZ.value,\r\n          specialization: e.target.specialization.value,\r\n          password: e.target.password.value\r\n        })\r\n      })\r\n        .then(result => result.json())\r\n        .then(data => {\r\n          this.setState({ generatedLogin: data.login });\r\n        });\r\n      await sessionStorage.setItem(\"generatedLogin\", this.state.generatedLogin);\r\n    } else if (this.state.accountType === \"patient\") {\r\n      await fetch(\"https://medical-documentation.herokuapp.com/register\", {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          accountType: this.state.accountType,\r\n          name: e.target.name.value,\r\n          surname: e.target.surname.value,\r\n          pesel: e.target.pesel.value,\r\n          dob: e.target.dob.value,\r\n          sex: e.target.sex.value,\r\n          address: e.target.address.value,\r\n          telephone: e.target.telephone.value,\r\n          password: e.target.password.value\r\n        })\r\n      })\r\n        .then(result => result.json())\r\n        .then(data => {\r\n          this.setState({ generatedLogin: data.login });\r\n        });\r\n      await sessionStorage.setItem(\"generatedLogin\", this.state.generatedLogin);\r\n    } else {\r\n      await fetch(\"https://medical-documentation.herokuapp.com/register\", {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          accountType: this.state.accountType,\r\n          name: e.target.name.value,\r\n          surname: e.target.surname.value,\r\n          password: e.target.password.value\r\n        })\r\n      })\r\n        .then(result => result.json())\r\n        .then(data => {\r\n          this.setState({ generatedLogin: data.login });\r\n        });\r\n      await sessionStorage.setItem(\"generatedLogin\", this.state.generatedLogin);\r\n    }\r\n    this.props.history.push(\"/\");\r\n  };\r\n  render() {\r\n    return (\r\n      <div className=\"register-container\">\r\n        <button className=\"backButton\" onClick={this.goBack}>\r\n          Powrót do logowania\r\n        </button>\r\n        <h2>Zarejestruj się</h2>\r\n\r\n        <form onSubmit={this.registerUser}>\r\n          <span>\r\n            <label>Typ konta: </label>\r\n            <select name=\"accountType\" onChange={this.chooseAccountType}>\r\n              <option value=\"patient\">Pacjent</option>\r\n              <option value=\"doctor\">Lekarz</option>\r\n              <option value=\"lab\">Laborant</option>\r\n            </select>\r\n          </span>\r\n          <span>\r\n            <label htmlFor=\"name\">Imię </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              required\r\n              placeholder=\" \"\r\n              pattern=\"[A-Za-z]{3,}\"\r\n            />\r\n          </span>\r\n          <span>\r\n            <label htmlFor=\"surname\">Nazwisko </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"surname\"\r\n              required\r\n              placeholder=\" \"\r\n              pattern=\"[A-Za-z]{3,}\"\r\n            />\r\n          </span>\r\n\r\n          {this.state.accountType === \"patient\" && (\r\n            <>\r\n              <span>\r\n                <label htmlFor=\"dob\">Data urodzenia </label>\r\n                <input type=\"date\" name=\"dob\" required />\r\n              </span>\r\n              <span>\r\n                <label htmlFor=\"surname\">Adres </label>\r\n                <input type=\"text\" name=\"address\" required placeholder=\" \" />\r\n              </span>\r\n              <span>\r\n                <label htmlFor=\"surname\">Telefon </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"telephone\"\r\n                  required\r\n                  pattern=\"[0-9]{9}\"\r\n                  placeholder=\" \"\r\n                />\r\n              </span>\r\n              <span>\r\n                <label htmlFor=\"pesel\">PESEL </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"pesel\"\r\n                  id=\"pesel\"\r\n                  required\r\n                  pattern=\"[0-9]{11}\"\r\n                  placeholder=\" \"\r\n                />\r\n              </span>\r\n              <span>\r\n                <label htmlFor=\"surname\">Płeć </label>\r\n                <select name=\"sex\" defaultValue=\"\" required>\r\n                  <option value=\"\" disabled>\r\n                    Wybierz płeć\r\n                  </option>\r\n                  <option value=\"K\">Kobieta</option>\r\n                  <option value=\"M\">Mężczyzna</option>\r\n                </select>\r\n              </span>\r\n            </>\r\n          )}\r\n\r\n          {this.state.accountType === \"doctor\" && (\r\n            <>\r\n              {\" \"}\r\n              <span>\r\n                <label>Numer PWZ</label>\r\n                <input type=\"text\" name=\"PWZ\" required placeholder=\" \" pattern=\"[0-9]{7}\"/>\r\n              </span>\r\n              <span>\r\n                <label>Specjalizacja</label>\r\n                <input type=\"text\" name=\"specialization\" required placeholder=\" \"/>\r\n              </span>\r\n            </>\r\n          )}\r\n\r\n          <span>\r\n            <label htmlFor=\"password\">Hasło </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              id=\"password\"\r\n              pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$\"\r\n            />\r\n          </span>\r\n          <span>\r\n            <label htmlFor=\"password\">Powtórz hasło </label>\r\n            <input\r\n              type=\"password\"\r\n              required\r\n              id=\"confirm-password\"\r\n              pattern=\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*_=+-]).{8,12}$\"\r\n              onChange={this.validatePassword}\r\n            />\r\n          </span>\r\n          <input type=\"submit\" value=\"Zarejestruj się\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Register;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/Document.css\";\r\n\r\nclass Document extends Component {\r\n  state = {\r\n    document: {},\r\n    images: [],\r\n    documents: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await fetch(\r\n      ` https://medical-documentation.herokuapp.com/documentation?patientID=${\r\n        this.props.patientID\r\n      }`\r\n    )\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        this.setState({ documents: data });\r\n      });\r\n\r\n    await fetch(\r\n      \"https://res.cloudinary.com/mickanie/image/list/medical_documentation.json\"\r\n    )\r\n      .then(result => result.json())\r\n      .then(data =>\r\n        this.setState({\r\n          images: data.resources.filter(image =>\r\n            image.public_id.includes(this.props.match.params.documentId)\r\n          )\r\n        })\r\n      );\r\n  }\r\n\r\n  render() {\r\n    if (this.state.documents.length) {\r\n      let currentDocument;\r\n      this.state.documents.forEach(document => {\r\n        if (document._id === this.props.match.params.documentId) {\r\n          currentDocument = document;\r\n        }\r\n      });\r\n\r\n      console.log(currentDocument);\r\n\r\n      return (\r\n        <div className=\"container document-container\">\r\n          <Link to=\"/documentation\" className=\"backButton\">\r\n            <button>Powrót</button>\r\n          </Link>\r\n\r\n          <div>\r\n            <p style={{ fontWeight: \"700\" }}>{currentDocument.title}</p>\r\n            {!currentDocument.title.includes(\"Badanie krwi\") && (\r\n              <div className=\"result-info\">\r\n                <p>Data: {currentDocument.testDate}</p>\r\n                <p>ID skierowania: {currentDocument.referral}</p>\r\n                <p>Lekarz zlecający: {currentDocument.orderingDoctor}</p>\r\n                <p>Lekarz wykonujący: {currentDocument.performingDoctor}</p>\r\n                <p>Lekarz opisujący: {currentDocument.describingDoctor}</p>\r\n                <p>\r\n                  <br />\r\n                  {currentDocument.content}\r\n                </p>\r\n                <div>\r\n                  {this.state.images.map((file, i) => {\r\n                    const filePath = `https://res.cloudinary.com/mickanie/image/upload/v${\r\n                      file.version\r\n                    }/${file.public_id}.jpg`;\r\n                    return <img key={i} src={filePath} />;\r\n                  })}\r\n                </div>\r\n              </div>\r\n            )}\r\n            {currentDocument.title.includes(\"Badanie krwi\") && (\r\n              <div className=\"table\">\r\n                <div className=\"result-info\">\r\n                  <p>Data pobrania: {currentDocument.testDate} </p>\r\n                  <p>Data wydania: {currentDocument.issueDate}</p>\r\n                  <p>Lekarz zlecający: {currentDocument.orderingDoctor}</p>\r\n                  <p>Laborant: {currentDocument.labTechnician}</p>\r\n                </div>\r\n                <table border=\"1\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th className=\"mobile-out\">Lp.</th>\r\n                      <th>Parametr</th>\r\n                      <th>Wartość</th>\r\n                      <th>Zakres</th>\r\n                      <th>Jednostka</th>\r\n                    </tr>\r\n                  </thead>\r\n                  {currentDocument.results.map((item, i) => {\r\n                    return (\r\n                      <tbody key={i}>\r\n                        <tr>\r\n                          <td className=\"mobile-out\">{i + 1}</td>\r\n                          <td>{currentDocument.results[i].name}</td>\r\n                          <td>{currentDocument.results[i].value}</td>\r\n                          <td>{currentDocument.results[i].range}</td>\r\n                          <td>{currentDocument.results[i].unit}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    );\r\n                  })}\r\n                </table>\r\n              </div>\r\n            )}\r\n\r\n            <a\r\n              target=\"_blank\"\r\n              href={\r\n                \" https://medical-documentation.herokuapp.com/examination-pdf?id=\" +\r\n                this.props.match.params.documentId\r\n              }\r\n            >\r\n              <button>Zapisz do PDF</button>\r\n            </a>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default Document;\r\n","import React, { Component } from \"react\";\r\n\r\nimport \"../css/MedicalProcess.css\";\r\nimport \"../css/App.css\";\r\n\r\nclass MedicalProcess extends Component {\r\n  state = {\r\n    tasks: [],\r\n    editMode: \"\",\r\n    view: \"tasks\"\r\n  };\r\n\r\n  editMode = async e => {\r\n    const id = e.target.id;\r\n    if (this.state.editMode !== id) {\r\n      await this.setState({ editMode: id });\r\n    } else {\r\n      const title = document.querySelector(\"#title\").value;\r\n      const details = document.querySelector(\"#details\").value;\r\n      const date = document.querySelector(\"#date\");\r\n      if (title.trim() && details.trim() && date.checkValidity()) {\r\n        //dodanie do bazy\r\n        this.props.editTask(id);\r\n        //usunięcie z tablicy editMode\r\n\r\n        await this.setState({ editMode: \"\" });\r\n      }\r\n    }\r\n  };\r\n\r\n  changeView = async e => {\r\n    console.log(e.target.value);\r\n    this.setState({ view: e.target.value });\r\n  };\r\n\r\n  toggleActive = e => {\r\n    console.log(\"click\");\r\n    e.target.parentElement.classList.toggle(\"active\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container medical-process-container\">\r\n        <div className=\"change-view\">\r\n          <input\r\n            type=\"radio\"\r\n            name=\"view\"\r\n            id=\"tasks\"\r\n            value=\"tasks\"\r\n            checked={this.state.view === \"tasks\"}\r\n            onChange={this.changeView}\r\n          />\r\n          <label className=\"tasks-label\" htmlFor=\"tasks\">\r\n            Widok zadań\r\n          </label>\r\n          <input\r\n            type=\"radio\"\r\n            name=\"view\"\r\n            id=\"process\"\r\n            value=\"process\"\r\n            onChange={this.changeView}\r\n          />\r\n          <label className=\"process-label\" htmlFor=\"process\">\r\n            Widok procesu\r\n          </label>\r\n        </div>\r\n\r\n        {/**************WIDOK ZADAŃ******************/}\r\n        {this.state.view === \"tasks\" && (\r\n          <div className=\"task-view\">\r\n            {this.props.activeAccount === \"doctor\" && (\r\n              <form onSubmit={this.props.addTask}>\r\n                <span>\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Tytuł\"\r\n                    name=\"title\"\r\n                    required\r\n                  />\r\n                  <select name=\"completed\">\r\n                    <option value=\"done\">Wykonane</option>\r\n                    <option value=\"todo\">Do zrobienia</option>\r\n                  </select>\r\n                  <textarea placeholder=\"Szczegóły\" name=\"details\" required />\r\n                </span>\r\n                <span>\r\n                  <label>\r\n                    Data:{\" \"}\r\n                    <input\r\n                      type=\"datetime-local\"\r\n                      name=\"date\"\r\n                      placeholder=\"date\"\r\n                    />\r\n                  </label>\r\n\r\n                  <label>\r\n                    Zadanie poprzedzające:\r\n                    <select className=\"previous-task\" name=\"previousTask\">\r\n                      <option value=\"\">Brak</option>\r\n                      {this.props.tasks.map((task, i) => {\r\n                        return (\r\n                          <option key={i} value={task._id}>\r\n                            {task.title}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </label>\r\n                  <input type=\"submit\" value=\"Dodaj zadanie\" />\r\n                </span>\r\n              </form>\r\n            )}\r\n            <div className=\"content\">\r\n              <h3>Do zrobienia</h3>\r\n              <ul>\r\n                {this.props.tasks\r\n                  .filter(task => task.completed === false)\r\n                  .map((task, i) => {\r\n                    return (\r\n                      <li key={i}>\r\n                        <span className=\"task-header\">\r\n                          <strong>\r\n                            {this.state.editMode.includes(task._id) ? (\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"title\"\r\n                                id=\"title\"\r\n                                required\r\n                                defaultValue={task.title}\r\n                              />\r\n                            ) : (\r\n                              task.title\r\n                            )}\r\n                          </strong>\r\n\r\n                          <button\r\n                            className=\"set-done\"\r\n                            id={task._id}\r\n                            onClick={this.props.setCompleted}\r\n                          >\r\n                            ✓\r\n                          </button>\r\n\r\n                          <button\r\n                            className=\"edit\"\r\n                            onClick={this.editMode}\r\n                            id={task._id}\r\n                          />\r\n                        </span>\r\n\r\n                        <div className=\"task-info\">\r\n                          {this.state.editMode === task._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              name=\"details\"\r\n                              id=\"details\"\r\n                              required\r\n                              defaultValue={task.details}\r\n                              placeholder=\"Szczegóły\"\r\n                            />\r\n                          ) : (\r\n                            <p>{task.details}</p>\r\n                          )}\r\n\r\n                          {this.state.editMode === task._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              name=\"date\"\r\n                              id=\"date\"\r\n                              defaultValue={task.date}\r\n                              placeholder=\"Data\"\r\n                              pattern=\"\\d\\d\\d\\d-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9]){0,1}\"\r\n                            />\r\n                          ) : (\r\n                            <p>{task.date}</p>\r\n                          )}\r\n                        </div>\r\n                        {this.state.editMode === task._id && (\r\n                          <label className=\"previous-task-label\">\r\n                            Zadanie poprzedzające:\r\n                            <select\r\n                              className=\"previous-task\"\r\n                              id=\"previous-task\"\r\n                              defaultValue={task.previousTask}\r\n                            >\r\n                              <option value=\"\">Brak</option>\r\n                              {this.props.tasks.map((task, i) => {\r\n                                return (\r\n                                  <option key={i} value={task._id}>\r\n                                    {task.title}\r\n                                  </option>\r\n                                );\r\n                              })}\r\n                            </select>\r\n                          </label>\r\n                        )}\r\n                      </li>\r\n                    );\r\n                  })}\r\n              </ul>\r\n              <hr />\r\n              <h3>Wykonane</h3>\r\n              <ul>\r\n                {this.props.tasks\r\n                  .filter(task => task.completed === true)\r\n                  .map((task, i) => {\r\n                    return (\r\n                      <li key={i}>\r\n                        <span className=\"task-header\">\r\n                          <strong>\r\n                            {this.state.editMode === task._id ? (\r\n                              <input\r\n                                type=\"text\"\r\n                                name=\"title\"\r\n                                id=\"title\"\r\n                                defaultValue={task.title}\r\n                              />\r\n                            ) : (\r\n                              task.title\r\n                            )}\r\n                          </strong>\r\n                          <button\r\n                            className=\"edit\"\r\n                            onClick={this.editMode}\r\n                            id={task._id}\r\n                          />\r\n                        </span>\r\n\r\n                        <div className=\"task-info\">\r\n                          {this.state.editMode === task._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              name=\"details\"\r\n                              id=\"details\"\r\n                              defaultValue={task.details}\r\n                              placeholder=\"Szczegóły\"\r\n                            />\r\n                          ) : (\r\n                            <p>{task.details}</p>\r\n                          )}\r\n\r\n                          {this.state.editMode === task._id ? (\r\n                            <input\r\n                              type=\"text\"\r\n                              name=\"date\"\r\n                              id=\"date\"\r\n                              defaultValue={task.date}\r\n                              placeholder=\"Data\"\r\n                              pattern=\"\\d\\d\\d\\d-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])\"\r\n                            />\r\n                          ) : (\r\n                            <p>{task.date}</p>\r\n                          )}\r\n                        </div>\r\n                        {this.state.editMode === task._id && (\r\n                          <label className=\"previous-task-label\">\r\n                            Zadanie poprzedzające:\r\n                            <select\r\n                              className=\"previous-task\"\r\n                              defaultValue={task.previousTask}\r\n                              id=\"previous-task\"\r\n                            >\r\n                              <option value=\"\">Brak</option>\r\n                              {this.props.tasks.map((task, i) => {\r\n                                return (\r\n                                  <option key={i} value={task._id}>\r\n                                    {task.title}\r\n                                  </option>\r\n                                );\r\n                              })}\r\n                            </select>\r\n                          </label>\r\n                        )}\r\n                      </li>\r\n                    );\r\n                  })}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/**************WIDOK PROCESU******************/}\r\n        {this.state.view === \"process\" && (\r\n          <div className=\"process-view\">\r\n            {this.props.tasks\r\n              .filter(task => task.previousTask === \"\")\r\n              .map((task, i) => {\r\n                const color = task.completed\r\n                  ? \"rgb(210, 210, 200)\"\r\n                  : \"rgb(200, 200, 190)\";\r\n\r\n                const visibility = task.completed ? \"visible\" : \"hidden\";\r\n                return (\r\n                  <div className=\"process-task-list-item\" key={i}>\r\n                    <div\r\n                      className=\"process-task\"\r\n                      style={{ background: color }}\r\n                      onClick={this.toggleActive}\r\n                    >\r\n                      {\" \"}\r\n                      <h4>\r\n                        {task.title} <span style={{ visibility }}>✓</span>\r\n                      </h4>\r\n                      <p className=\"date-process-task\">{task.date}</p>\r\n                      <p>{task.details}</p>{\" \"}\r\n                    </div>\r\n\r\n                    {task.nextTasks.length > 0 && (\r\n                      <ul className=\"next-tasks\">\r\n                        <Task\r\n                          task={task}\r\n                          tasks={this.props.tasks}\r\n                          toggleActive={this.toggleActive}\r\n                        />\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MedicalProcess;\r\n\r\nconst Task = props => {\r\n  console.log(props.tasks);\r\n  let color = \"rgb(210, 210, 200)\";\r\n  let visibility = \"visible\";\r\n  return props.task.nextTasks.map((nextTaskId, i) => {\r\n    const nextTask = props.tasks.filter(task => task._id === nextTaskId)[0];\r\n\r\n    if (nextTask) {\r\n      color = nextTask.completed ? \"rgb(210, 210, 200)\" : \"rgb(200, 200, 190)\";\r\n\r\n      visibility = nextTask.completed ? \"visible\" : \"hidden\";\r\n    \r\n    return (\r\n      <li className=\"next-task\" key={i}>\r\n        <div\r\n          className=\"process-task  \"\r\n          style={{ background: color }}\r\n          onClick={props.toggleActive}\r\n        >\r\n          {\" \"}\r\n          <h4>\r\n            {nextTask.title} <span style={{ visibility }}>✓</span>\r\n          </h4>\r\n          <p className=\"date-process-task\">{nextTask.date}</p>\r\n          <p>{nextTask.details}</p>{\" \"}\r\n        </div>\r\n\r\n        {nextTask.nextTasks.length > 0 && (\r\n          <ul className=\"next-tasks\">\r\n            <Task\r\n              task={nextTask}\r\n              tasks={props.tasks}\r\n              toggleActive={props.toggleActive}\r\n            />\r\n          </ul>\r\n        )}\r\n      </li>\r\n    );\r\n        } else {\r\n          return null;\r\n        }\r\n  });\r\n};\r\n","import React, { Component } from \"react\";\r\nimport \"../css/Documentation.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Documentation extends Component {\r\n  state = {\r\n    documents: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    console.log(sessionStorage.getItem(\"patientID\"));\r\n    await fetch(` https://medical-documentation.herokuapp.com/documentation?patientID=${this.props.patientID}`)\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ documents: data.sort(this.compare) }));\r\n  }\r\n\r\n  compare = (a, b) => {\r\n    const dateA = parseInt(\r\n      a.testDate\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    const dateB = parseInt(\r\n      b.testDate\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    return dateA > dateB ? -1 : dateA < dateB ? 1 : 0;\r\n  };\r\n\r\n  filterResults = async e => {\r\n    e.preventDefault();\r\n    const fromDate =\r\n      parseInt(e.target.fromDate.value.split(\"-\").join(\"\")) || null;\r\n    const toDate = parseInt(e.target.toDate.value.split(\"-\").join(\"\")) || null;\r\n    const tag = e.target.tags.value;\r\n         await fetch(\r\n      `https://medical-documentation.herokuapp.com/documentation?patientID=${this.props.patientID}`\r\n    )\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ documents: data })); \r\n\r\n    console.log(fromDate, toDate);\r\n    const filtered = this.state.documents\r\n      .filter(document => {\r\n        if (tag !== \"all\") {\r\n          return document.documentType === tag;\r\n        } else {\r\n          return true;\r\n        }\r\n      })\r\n      .filter(document => {\r\n        if (fromDate && toDate) {\r\n          return (\r\n            parseInt(\r\n              document.testDate\r\n                .split(\" \")[0]\r\n                .split(\"-\")\r\n                .join(\"\")\r\n            ) >= fromDate &&\r\n            parseInt(\r\n              document.testDate\r\n                .split(\" \")[0]\r\n                .split(\"-\")\r\n                .join(\"\")\r\n            ) <= toDate\r\n          );\r\n        } else {\r\n          return true;\r\n        }\r\n      });\r\n\r\n    this.setState({ documents: filtered });\r\n  };\r\n\r\n  render() {\r\n    /*  fetch(\" https://medical-documentation.herokuapp.com/documentation\")\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ documents: data.sort(this.compare) })); */\r\n    //const height = this.props.activeAccount === \"doctor\" ? \"41vh\" : \"55vh\";\r\n    return (\r\n      <div className=\"container documentation-container\">\r\n        <div className=\"buttons\">\r\n          {this.props.activeAccount === \"doctor\" && (\r\n            <Link to=\"documentation/create-new\">\r\n              <button>Dodaj wynik badania</button>\r\n            </Link>\r\n          )}\r\n          <Link to=\"documentation/report\">\r\n            <button>Wygeneruj raport</button>\r\n          </Link>\r\n        </div>\r\n        <form className=\"filterForm\" onSubmit={this.filterResults}>\r\n          <label>\r\n            Filtruj po tagu:{\" \"}\r\n            <select name=\"tags\">\r\n              <option value=\"all\">Wszystko</option>\r\n              <option value=\"Badanie krwi\">Badanie krwi</option>\r\n              <option value=\"Badanie USG\">Badanie USG</option>\r\n              <option value=\"Badanie EKG\">Badanie EKG</option>\r\n              <option value=\"Echokardiografia\">Echokardiografia</option>\r\n              <option value=\"Tomografia komputerowa\">\r\n                Tomografia komputerowa\r\n              </option>\r\n              <option value=\"Rezonans magnetyczny\">Rezonans magnetyczny</option>\r\n              <option value=\"Angiografia\">Angiografia / Koronarografia</option>\r\n            </select>\r\n          </label>\r\n          <label id=\"dateFilter\">\r\n            <p>Filtruj po dacie: </p>\r\n\r\n            <p>\r\n              {\" \"}\r\n              od\r\n              <input type=\"date\" name=\"fromDate\" /> do\r\n              <input type=\"date\" name=\"toDate\" />\r\n            </p>\r\n          </label>\r\n          <input type=\"submit\" value=\"Filtruj\" />\r\n        </form>\r\n        <div className=\"documents content\">\r\n          <ul>\r\n            {this.state.documents.map((document, i) => {\r\n              return (\r\n                <li key={i}>\r\n                  <Link\r\n                    style={{ fontWeight: \"600\", textDecoration: \"underline\" }}\r\n                    to={`/documentation/document${document._id}`}\r\n                  >\r\n                    {document.title}\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Documentation;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/Recommendations.css\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass Recommendations extends Component {\r\n  state = {\r\n    recommendations: [],\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || []\r\n  };\r\n  /*http://localhost:3001*/\r\n  async componentWillMount() {\r\n    await fetch(` https://medical-documentation.herokuapp.com/recommendations?patientID=${this.props.patientID}`)\r\n      .then(result => result.json())\r\n      .then(data =>\r\n        this.setState({ recommendations: data.sort(this.compare) })\r\n      );\r\n\r\n \r\n  }\r\n\r\n  \r\n  compare = (a, b) => {\r\n    const dateA = parseInt(\r\n      a.date\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    const dateB = parseInt(\r\n      b.date\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    return dateA > dateB ? -1 : dateA < dateB ? 1 : 0;\r\n  };\r\n\r\n  render() {\r\n     fetch(` https://medical-documentation.herokuapp.com/recommendations?patientID=${this.props.patientID}`)\r\n    .then(result => result.json())\r\n    .then(data =>\r\n      this.setState({ recommendations: data.sort(this.compare) })\r\n    );\r\n    //const height = this.props.activeAccount === \"doctor\" ? \"50vh\" : \"65vh\";\r\n    return (\r\n      <div className=\"container recommendations-container\">\r\n        {this.props.activeAccount === \"doctor\" && (\r\n          <Link to=\"/recommendations/create-new\">\r\n            <button>Dodaj zalecenie</button>\r\n          </Link>\r\n        )}\r\n\r\n        <div className=\"content\" /*style={{ height: height }}*/>\r\n          {this.state.recommendations.map((recommendation, i) => {\r\n            const color =\r\n              recommendation.doctor === this.state.activeUser.name\r\n                ? \"rgb(138, 159, 138)\"\r\n                : \"grey\";\r\n            return (\r\n              <div\r\n                className=\"recommendation\"\r\n                key={i}\r\n                style={{ background: color }}\r\n              >\r\n                <p>Data: {recommendation.date} </p>\r\n                <p>Lekarz: {recommendation.doctor} </p>\r\n                <p>Treść: {recommendation.content}</p>\r\n                <p className=\"attached-documents\">\r\n                  Załączone dokumenty:{\" \"}\r\n                  {recommendation.attachedDocuments.map((attachment, i) => (\r\n                    <a\r\n                      key={i}\r\n                      target=\"_blank\"\r\n                      style={{\r\n                        margin: \"10px\",\r\n                        textDecoration: \"underline\",\r\n                        color: \"white\"\r\n                      }}\r\n                      href={\r\n                        \" https://medical-documentation.herokuapp.com/attachment-pdf?id=\" +\r\n                        attachment.id\r\n                      }\r\n                    >\r\n                      {attachment.title}\r\n                    </a>\r\n                  ))}\r\n                </p>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Recommendations;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/SideBar.css\";\r\n\r\nclass SideBar extends Component {\r\n  state = {\r\n    patient: [],\r\n    tasks: [],\r\n    editMode: false\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await fetch(\r\n      ` https://medical-documentation.herokuapp.com/patient?patientID=${\r\n        this.props.patientID\r\n      }`\r\n    ).then(result => {\r\n      if (result.status === 400) {\r\n        alert(\"Nie ma takiego pacjenta\");\r\n      } else {\r\n        result.json().then(data => this.setState({ patient: data }));\r\n      }\r\n    });\r\n  }\r\n\r\n  editData = async e => {\r\n    if (!this.state.editMode) {\r\n      this.setState({ editMode: true });\r\n    } else {\r\n      //sent to db\r\n      const name = document.querySelector(\"#name\");\r\n      const sex = document.querySelector(\"#sex\");\r\n      const PESEL = document.querySelector(\"#PESEL\");\r\n      const telephone = document.querySelector(\"#telephone\");\r\n      const address = document.querySelector(\"#address\");\r\n      if (\r\n        name.checkValidity() &&\r\n        sex.checkValidity() &&\r\n        PESEL.checkValidity() &&\r\n        telephone.checkValidity() &&\r\n        address.checkValidity()\r\n      ) {\r\n        await fetch(\r\n          \"https://medical-documentation.herokuapp.com/edit-patient-data\",\r\n          {\r\n            method: \"put\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n              patientID: this.props.patientID,\r\n              name: document.querySelector(\"#name\").value,\r\n              sex: document.querySelector(\"#sex\").value,\r\n              PESEL: document.querySelector(\"#PESEL\").value,\r\n              telephone: document.querySelector(\"#telephone\").value,\r\n              address: document.querySelector(\"#address\").value,\r\n              icd10: document.querySelector(\"#icd10\").value\r\n            })\r\n          }\r\n        )\r\n          .then(result => result.json())\r\n          .then(data => this.setState({ patient: data }));\r\n        this.setState({ editMode: false });\r\n      }\r\n    }\r\n  };\r\n\r\n  expandPatientInfo = e => {\r\n    console.log(\"CLick\");\r\n    document.querySelector(\".mobile-out.patient\").classList.toggle(\"active\");\r\n    e.target.classList.toggle(\"active\");\r\n  };\r\n\r\n  expandTasks = e => {\r\n    document.querySelector(\".mobile-out.tasks\").classList.toggle(\"active\");\r\n    e.target.classList.toggle(\"active\");\r\n  };\r\n\r\n  render() {\r\n    const patient = this.state.patient;\r\n    const name = `${patient.name} ${patient.surname}`;\r\n    return (\r\n      <div className=\"side-bar\">\r\n        <div className=\"patient-info\">\r\n          <p className=\"mobile-info\">Pacjent: {name}</p>\r\n          <h3 className=\"expandable\" onClick={this.expandPatientInfo}>\r\n            Dane osobowe\r\n          </h3>\r\n          <div className=\"mobile-out patient\">\r\n            <table>\r\n              <tbody>\r\n                <tr>\r\n                  <td>Imię i nazwisko: </td>\r\n                  <td>\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={name}\r\n                        id=\"name\"\r\n                        required\r\n                        pattern=\"[A-Za-z\\s]{5,17}\"\r\n                      />\r\n                    ) : (\r\n                      <p>{name}</p>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Płeć: </td>\r\n                  <td>\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={patient.sex}\r\n                        id=\"sex\"\r\n                        required\r\n                        pattern=\"[MK]\"\r\n                      />\r\n                    ) : (\r\n                      <p>{patient.sex}</p>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Wiek: </td>\r\n                  <td> {patient.age} </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>PESEL: </td>\r\n                  <td>\r\n                    {\" \"}\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={patient.PESEL}\r\n                        id=\"PESEL\"\r\n                        required\r\n                        pattern=\"[0-9]{11}\"\r\n                      />\r\n                    ) : (\r\n                      <p>{patient.PESEL}</p>\r\n                    )}{\" \"}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Data urodzenia: </td>\r\n                  <td> {patient.dateOfBirth} </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Adres: </td>\r\n                  <td>\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={patient.address}\r\n                        id=\"address\"\r\n                        required\r\n                        pattern=\"[A-Za-z0-9\\s]{5,20}\"\r\n                      />\r\n                    ) : (\r\n                      <p>{patient.address}</p>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Telefon: </td>\r\n                  <td>\r\n                    {\" \"}\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={patient.telephone}\r\n                        id=\"telephone\"\r\n                        required\r\n                        pattern=\"[0-9]{9}\"\r\n                      />\r\n                    ) : (\r\n                      <p>{patient.telephone}</p>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td>ICD10: </td>\r\n                  <td>\r\n                    {\" \"}\r\n                    {this.state.editMode ? (\r\n                      <input\r\n                        type=\"text\"\r\n                        defaultValue={patient.icd10}\r\n                        id=\"icd10\"\r\n                      />\r\n                    ) : (\r\n                      <p>{patient.icd10}</p>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n\r\n            {this.props.activeAccount === \"doctor\" && (\r\n              <button onClick={this.editData}>\r\n                {this.state.editMode ? \"Zapisz\" : \"Edytuj\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"todo-list\">\r\n          <h3 className=\"expandable\" onClick={this.expandTasks}>\r\n            Zadania do wykonania\r\n          </h3>\r\n          <div className=\"mobile-out tasks\">\r\n            <ul>\r\n              {this.props.tasks.map((task, i) => {\r\n                return (\r\n                  <li key={i}>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={task.completed}\r\n                      onChange={this.props.toggleComplete}\r\n                      id={task._id}\r\n                      disabled={this.props.activeAccount !== \"doctor\"}\r\n                    />{\" \"}\r\n                    {task.title}\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n            {this.props.activeAccount === \"doctor\" && (\r\n              <form onSubmit={this.props.addTask}>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Wpisz nowe zadanie\"\r\n                  name=\"title\"\r\n                  required\r\n                />\r\n                <input type=\"submit\" value=\"Dodaj\" />\r\n              </form>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SideBar;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/Report.css\";\r\n\r\nclass Raport extends Component {\r\n  state = {\r\n    parameters: [],\r\n    chosenParameter: \"\",\r\n    documents: [],\r\n    filteredResults: []\r\n  };\r\n\r\n  async componentDidMount() {\r\n    await fetch(\" https://medical-documentation.herokuapp.com/lab-data\")\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ parameters: data }));\r\n\r\n      await fetch(` https://medical-documentation.herokuapp.com/documentation?patientID=${this.props.patientID}`)\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ documents: data.sort(this.compare) }));\r\n  }\r\n\r\n  chooseResultType = async e => {\r\n    let filteredResults;\r\n\r\n    filteredResults = this.state.documents\r\n      .filter(document => document.title.includes(\"Badanie krwi\"))\r\n      .filter(labResult =>\r\n        labResult.results.some(result => result.name === e.target.value)\r\n      );\r\n    await this.setState({ chosenParameter: e.target.value, filteredResults });\r\n  };\r\n\r\n  compare = (a, b) => {\r\n    const dateA = parseInt(\r\n      a.testDate\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    const dateB = parseInt(\r\n      b.testDate\r\n        .split(\" \")[0]\r\n        .split(\"-\")\r\n        .join(\"\")\r\n    );\r\n    return dateA > dateB ? -1 : dateA < dateB ? 1 : 0;\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container \">\r\n        <Link to=\"/documentation\" className=\"backButton\">\r\n          <button>Powrót</button>\r\n        </Link>\r\n        <h2>Raport z badań laboratoryjnych</h2>\r\n        <div className=\"report-content\">\r\n          <label>\r\n            Wybierz parametr do porównania\r\n            <select\r\n              name=\"parameters\"\r\n              onChange={this.chooseResultType}\r\n              defaultValue=\"default\"\r\n            >\r\n              <option value=\"default\" disabled={true}>\r\n                Parametr\r\n              </option>\r\n              {this.state.parameters.map((parameter, i) => (\r\n                <option key={i} value={parameter.name}>\r\n                  {parameter.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </label>\r\n          {this.state.filteredResults.length > 0 && (\r\n            <div>\r\n              <p className=\"mobile-info\">\r\n                Zakres:{\" \"}\r\n                {\r\n                  this.state.parameters.find(\r\n                    item => item.name === this.state.chosenParameter\r\n                  ).range\r\n                }{\" \"}\r\n                {\r\n                  this.state.parameters.find(\r\n                    item => item.name === this.state.chosenParameter\r\n                  ).unit\r\n                }\r\n              </p>\r\n              <table border=\"1\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Data</th>\r\n                    <th>Wartość {this.state.chosenParameter}</th>\r\n                    {/*<th>Zakres</th>\r\n                    <th>Jednostka</th>*/}\r\n                    <th>Lekarz zlecający</th>\r\n                    <th>Laborant</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {this.state.filteredResults.map((result, i) => {\r\n                    return (\r\n                      <tr key={i}>\r\n                        <td>{result.testDate} </td>\r\n                        <td>\r\n                          {\r\n                            result.results.find(\r\n                              item => item.name === this.state.chosenParameter\r\n                            ).value\r\n                          }\r\n                        </td>\r\n                        {/*<td>{ result.results.find(item => item.name === this.state.chosenParameter).range }</td>\r\n                        <td>{ result.results.find(item => item.name === this.state.chosenParameter).unit }</td>*/}\r\n                        <td>{result.orderingDoctor}</td>\r\n                        <td>{result.labTechnician}</td>\r\n                      </tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            \r\n            </div>\r\n          )}\r\n          {(!this.state.filteredResults.length && this.state.chosenParameter) && <p> Brak danych</p>}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Raport;\r\n","import React, { Component } from \"react\";\r\nimport { HashRouter, Route, NavLink, Switch, Redirect } from \"react-router-dom\";\r\nimport Document from \"./Document\";\r\nimport MedicalProcess from \"./MedicalProcess\";\r\nimport Documentation from \"./Documentation\";\r\nimport Recommendations from \"./Recommendations\";\r\nimport SideBar from \"./SideBar\";\r\nimport \"../css/PatientDoctorPage.css\";\r\nimport Report from \"./Report\";\r\n\r\nclass PatientPage extends Component {\r\n  state = {\r\n    tasks: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\r\n      `https://medical-documentation.herokuapp.com/medical-process?patientID=${\r\n        this.props.patientID\r\n      }`\r\n    )\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n  }\r\n\r\n  editTask = async id => {\r\n    const title = document.querySelector(\"#title\").value;\r\n    const details = document.querySelector(\"#details\").value;\r\n    const date = document.querySelector(\"#date\");\r\n\r\n    await fetch(\" https://medical-documentation.herokuapp.com/edit-task\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        patientID: this.props.patientID,\r\n        title,\r\n        details,\r\n        date: date.value,\r\n        previousTaskId: document.querySelector(\"#previous-task\").value,\r\n        id: id\r\n      })\r\n    })\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n  };\r\n\r\n  setCompleted = e => {\r\n    const id = e.target.id;\r\n    this.setState({\r\n      tasks: this.state.tasks.map((task, i) => {\r\n        if (task._id === id) {\r\n          task.completed = true;\r\n        }\r\n        return task;\r\n      })\r\n    });\r\n\r\n    fetch(\" https://medical-documentation.herokuapp.com/complete-task\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ id: id, completed: true })\r\n    });\r\n  };\r\n\r\n  toggleComplete = async e => {\r\n    const id = e.target.id;\r\n    let isCompleted = \"\";\r\n    this.setState({\r\n      tasks: this.state.tasks.map((task, i) => {\r\n        if (task._id === id) {\r\n          task.completed = !task.completed;\r\n          isCompleted = task.completed;\r\n        }\r\n        return task;\r\n      })\r\n    });\r\n    //dodanie do bazy\r\n    await fetch(\" https://medical-documentation.herokuapp.com/complete-task\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ id: id, completed: isCompleted })\r\n    });\r\n  };\r\n\r\n  compare = (a, b) => {\r\n    const dateA =\r\n      parseInt(\r\n        a.date\r\n          .split(\" \")[0]\r\n          .split(\"-\")\r\n          .join(\"\")\r\n      ) || 0;\r\n    const dateB =\r\n      parseInt(\r\n        b.date\r\n          .split(\" \")[0]\r\n          .split(\"-\")\r\n          .join(\"\")\r\n      ) || 0;\r\n    console.log(dateA);\r\n    console.log(dateB);\r\n    return dateA > dateB ? -1 : dateA < dateB ? 1 : 0;\r\n  };\r\n\r\n  render() {\r\n    const patientID = this.props.patientID;\r\n    return (\r\n      <div>\r\n        <SideBar tasks={this.state.tasks} patientID={patientID} />\r\n\r\n        <HashRouter>\r\n          <nav>\r\n            <NavLink to=\"/documentation\" activeClassName=\"active\">\r\n              Dokumentacja\r\n            </NavLink>\r\n            <NavLink to=\"/recommendations\" activeClassName=\"active\">\r\n              Zalecenia\r\n            </NavLink>\r\n            <NavLink to=\"/medical-process\" activeClassName=\"active\">\r\n              Proces medyczny\r\n            </NavLink>\r\n          </nav>\r\n          <Switch>\r\n            <Route\r\n              exact\r\n              path=\"/documentation\"\r\n              render={props => (\r\n                <Documentation {...props} patientID={patientID} />\r\n              )}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/recommendations\"\r\n              render={props => (\r\n                <Recommendations {...props} patientID={patientID} />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/medical-process\"\r\n              render={props => (\r\n                <MedicalProcess\r\n                  {...props}\r\n                  tasks={this.state.tasks}\r\n                  editTask={this.editTask}\r\n                  setCompleted={this.setCompleted}\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/documentation/report\"\r\n              render={props => <Report {...props} patientID={patientID} />}\r\n            />\r\n            }\r\n            <Route\r\n              exact\r\n              path=\"/documentation/document:documentId\"\r\n              render={props => <Document {...props} patientID={patientID} />}\r\n            />\r\n            <Redirect from=\"/\" to=\"/documentation\" />\r\n          </Switch>\r\n        </HashRouter>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default PatientPage;\r\n","const transformDateTime = date => {\r\n  const day = `${\r\n    date.getDate().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getDate()}`;\r\n  const month = `${\r\n    date.getMonth().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getMonth()+1}`;\r\n  const year = date.getYear() - 100;\r\n  const hour = `${\r\n    date.getHours().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getHours()}`;\r\n  const minutes = `${\r\n    date.getMinutes().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getMinutes()}`;\r\n\r\n  return `20${year}-${month}-${day} ${hour}:${minutes}`;\r\n};\r\n\r\nconst transformDate = date => {\r\n  const day = `${\r\n    date.getDate().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getDate()}`;\r\n  const month = `${\r\n    date.getMonth().toString().length === 1 ? \"0\" : \"\"\r\n  }${date.getMonth()+1}`;\r\n  const year = date.getYear() - 100;\r\n  return `20${year}-${month}-${day}`;\r\n};\r\n\r\nconst today = transformDate(new Date());\r\nconst threeDaysAgo = transformDate(new Date(Date.now() - 3 * 24 * 3600 * 1000));\r\nconst dateWithTime = `${threeDaysAgo} 07:00`\r\n\r\nconst now = transformDateTime(new Date());\r\n\r\nexport { today, threeDaysAgo, now, dateWithTime, transformDate, transformDateTime };\r\n","import React, { Component } from \"react\";\r\nimport \"../../css/NewDocument.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { today, threeDaysAgo } from \"../../DateParser\";\r\nclass NewDocument extends Component {\r\n  state = {\r\n    documentType: \"\",\r\n    referrals: [],\r\n    files: [],\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || []\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(`https://medical-documentation.herokuapp.com/attached-documents?patientID=${this.props.patientID}`)\r\n      .then(result => result.json())\r\n      .then(data =>\r\n        this.setState({\r\n          referrals: data.filter(document => document.type === \"skierowanie\")\r\n        })\r\n      );\r\n  }\r\n\r\n  chooseDocumentType = e => {\r\n    this.setState({ documentType: e.target.value });\r\n  };\r\n\r\n  // *********** Upload file to Cloudinary ******************** //\r\n  uploadFile = file => {\r\n    const cloudName = \"mickanie\";\r\n    const unsignedUploadPreset = \"default\";\r\n    var url = `https://api.cloudinary.com/v1_1/${cloudName}/upload`;\r\n    var xhr = new XMLHttpRequest();\r\n    var fd = new FormData();\r\n    xhr.open(\"POST\", url, true);\r\n    xhr.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\");\r\n\r\n    xhr.onreadystatechange = function(e) {\r\n      if (xhr.readyState == 4 && xhr.status == 200) {\r\n        // File uploaded successfully\r\n        var response = JSON.parse(xhr.responseText);\r\n        console.log(response);\r\n      }\r\n    };\r\n\r\n    fd.append(\"upload_preset\", unsignedUploadPreset);\r\n    fd.append(\"tags\", \"medical_documentation\"); // Optional - add tag for image admin in Cloudinary\r\n    fd.append(\"file\", file);\r\n    xhr.send(fd);\r\n  };\r\n\r\n  createDocument = async e => {\r\n    e.preventDefault();\r\n    console.log(e.target.files.files);\r\n    const files = e.target.files.files;\r\n    const title = `${this.state.documentType}: ${\r\n      e.target.region ? e.target.region.value : \"\"\r\n    }  ${e.target.testDate.value.split(\"T\")[0]}`;\r\n\r\n    await fetch(\" https://medical-documentation.herokuapp.com/new-document\", {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        patientID: this.props.patientID,\r\n        documentType: this.state.documentType,\r\n        title,\r\n        testDate: `${e.target.testDate.value} ${e.target.testTime.value}`,\r\n        referralID: e.target.referral.value,\r\n        orderingDoctor: e.target.orderingDoctor.value,\r\n        performingDoctor: e.target.performingDoctor.value,\r\n        describingDoctor: this.state.activeUser.name,\r\n        content: e.target.content.value\r\n      })\r\n    })\r\n      .then(result => result.json())\r\n      .then(data => {\r\n        const documentId = data._id;\r\n        console.log(documentId);\r\n\r\n        for (let i = 0; i < files.length; i++) {\r\n          //zmiana nazwy plików\r\n          let blob = files[i].slice(0, files[i].size, \"image/jpg\");\r\n          const newFile = new File([blob], `${documentId}.jpg`, {\r\n            type: \"image/jpg\"\r\n          });\r\n          this.uploadFile(newFile);\r\n        }\r\n      });\r\n\r\n    this.props.history.push(\"/documentation\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Link to=\"/documentation\" className=\"backButton\">\r\n          <button>Powrót</button>\r\n        </Link>\r\n\r\n        <h2 style={{ textAlign: \"center\" }}>Nowy dokument</h2>\r\n\r\n        <div className=\"new-document\">\r\n          <label>\r\n            Typ dokumentu:\r\n            <select\r\n              name=\"documentType\"\r\n              onChange={this.chooseDocumentType}\r\n              defaultValue=\"default\"\r\n            >\r\n              <option value=\"default\" disabled>\r\n                Wybierz typ\r\n              </option>\r\n              <option value=\"Badanie USG\">Badanie USG</option>\r\n\r\n              <option value=\"Badanie EKG\">Badanie EKG</option>\r\n              <option value=\"Echokardiografia\">Echokardiografia</option>\r\n              <option value=\"Tomografia komputerowa\">\r\n                Tomografia komputerowa\r\n              </option>\r\n              <option value=\"Rezonans magnetyczny\">Rezonans magnetyczny</option>\r\n              <option value=\"Angiografia\">Angiografia / Koronarografia</option>\r\n            </select>\r\n          </label>\r\n\r\n          {this.state.documentType && (\r\n            <form className=\"document-form\" onSubmit={this.createDocument}>\r\n              {(this.state.documentType === \"Rezonans magnetyczny\" ||\r\n                this.state.documentType === \"Tomografia komputerowa\") && (\r\n                <label>\r\n                  {\" \"}\r\n                  Badany obszar: <input type=\"text\" name=\"region\" required placeholder=\"np. głowa, jama brzuszna\"/>\r\n                </label>\r\n              )}\r\n\r\n              <label>\r\n                {\" \"}\r\n                Data badania:{\" \"}\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"testDate\"\r\n                  min={threeDaysAgo}\r\n                  max={today}\r\n                  defaultValue={today}\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Godzina badania:{\" \"}\r\n                <input\r\n                  type=\"time\"\r\n                  name=\"testTime\"\r\n                \r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Skierowanie:{\" \"}\r\n                <select className=\"referrals\" name=\"referral\" defaultValue=\"\" required>\r\n                  <option value=\"\" disabled>\r\n                    Wybierz skierowanie\r\n                  </option>\r\n                  {this.state.referrals.map((referral, i) => {\r\n                    return (\r\n                      <option key={i} value={referral._id}>\r\n                        {referral.title}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n              </label>\r\n\r\n              <label>\r\n                {\" \"}\r\n                Lekarz zlecający:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"orderingDoctor\"\r\n                  required\r\n                  placeholder=\"Imię i nazwisko lekarza\"\r\n                />\r\n              </label>\r\n\r\n              <label>\r\n                {\" \"}\r\n                Lekarz wykonujący:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"performingDoctor\"\r\n                  required\r\n                  placeholder=\"Imię i nazwisko lekarza\"\r\n                />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Treść: <textarea required name=\"content\" />\r\n              </label>\r\n              <label>\r\n                {\" \"}\r\n                Załączniki:{\" \"}\r\n                <input\r\n                  type=\"file\"\r\n                  \r\n                  name=\"files\"\r\n                  accept=\"image/*\"\r\n                />\r\n              </label>\r\n\r\n              <input type=\"submit\" value=\"Dodaj dokument\" />\r\n            </form>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewDocument;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { today, threeDaysAgo } from \"../../DateParser\";\r\nimport \"../../css/NewRecommendation.css\";\r\n\r\nclass NewRecommendation extends Component {\r\n  state = {\r\n    dataSaved: JSON.parse(sessionStorage.getItem(\"saved\")),\r\n    data: JSON.parse(sessionStorage.getItem(\"recommendationData\")) || {},\r\n    attachments: JSON.parse(sessionStorage.getItem(\"attachments\")) || [],\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || []\r\n  };\r\n\r\n  toggleSave = async e => {\r\n    e.preventDefault();\r\n\r\n    const { date, content } = e.target.parentElement;\r\n    if (!this.state.dataSaved) {\r\n      await this.setState({\r\n        dataSaved: true,\r\n        data: {\r\n          content: content.value,\r\n          date: date.value\r\n        }\r\n      });\r\n    } else {\r\n      await this.setState({\r\n        dataSaved: false,\r\n        data: {\r\n          content: \"\",\r\n          date: \"\"\r\n        }\r\n      });\r\n    }\r\n    await sessionStorage.setItem(\r\n      \"recommendationData\",\r\n      JSON.stringify(this.state.data)\r\n    );\r\n    await sessionStorage.setItem(\"saved\", JSON.stringify(this.state.dataSaved));\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  submitRecommendation = () => {\r\n    fetch(\" https://medical-documentation.herokuapp.com/new-recommendation\", {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        patientID: this.props.patientID,\r\n        date: document.getElementById(\"date\").value,\r\n        content: document.getElementById(\"content\").value,\r\n        doctor: this.state.activeUser.name,\r\n        attachments: this.state.attachments\r\n      })\r\n    });\r\n    sessionStorage.removeItem(\"saved\");\r\n    sessionStorage.removeItem(\"recommendationData\");\r\n    sessionStorage.removeItem(\"attachments\");\r\n    this.props.history.push(\"/recommendations\");\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container form-container\">\r\n        <Link to=\"/recommendations\" className=\"backButton\">\r\n          <button>Powrót</button>\r\n        </Link>\r\n        <h2>Nowe zalecenie</h2>\r\n\r\n        <form>\r\n          <label>\r\n            Data:\r\n            <input\r\n              type=\"date\"\r\n              disabled={this.state.dataSaved}\r\n              name=\"date\"\r\n              id=\"date\"\r\n              min={threeDaysAgo}\r\n              max={today}\r\n              defaultValue={this.state.data.date || today}\r\n            />\r\n          </label>\r\n          <label>\r\n            Treść:{\" \"}\r\n            <textarea\r\n              id=\"content\"\r\n              disabled={this.state.dataSaved}\r\n              name=\"content\"\r\n              defaultValue={this.state.data.content || \"\"}\r\n            />\r\n          </label>\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value={this.state.dataSaved ? \"Edytuj\" : \"Zapisz\"}\r\n            onClick={this.toggleSave}\r\n          />\r\n        </form>\r\n        {this.state.attachments && (\r\n          <p className=\"attachments-info\">\r\n            Załączniki:\r\n            {this.state.attachments.map((attachment, i) => {\r\n              return (\r\n                <Link\r\n                  key={i}\r\n                  className=\"attachments\"\r\n                  to=\"/recommendations/attachments/:document\"\r\n                >\r\n                  {attachment.title}\r\n                </Link>\r\n              );\r\n            })}\r\n          </p>\r\n        )}\r\n        <section className=\"attachments-choice\">\r\n          Wygeneruj załącznik:{\" \"}\r\n          <div className=\"attachment-links\">\r\n            <Link to=\"/recommendations/create-new/generate-prescription\">\r\n              <button className=\"attachment-button\">Recepta</button>\r\n            </Link>\r\n            <Link to=\"/recommendations/create-new/generate-sickleave\">\r\n              <button className=\"attachment-button\">Zwolnienie</button>\r\n            </Link>\r\n            <Link to=\"/recommendations/create-new/generate-referral\">\r\n              <button className=\"attachment-button\">Skierowanie</button>\r\n            </Link>\r\n            <Link to=\"/recommendations/create-new/generate-lab-order\">\r\n              <button className=\"attachment-button\">Zlecenie badania</button>\r\n            </Link>\r\n          </div>\r\n        </section>\r\n        <button className=\"submit-button\" onClick={this.submitRecommendation}>\r\n          Dodaj zalecenie\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewRecommendation;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../../css/NewAttachment.css\";\r\nimport { today, threeDaysAgo } from \"../../DateParser\";\r\n\r\nclass NewAttachment extends Component {\r\n  state = {\r\n    startDate: \"\",\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || []\r\n  };\r\n\r\n  submitAttachment = async e => {\r\n    e.preventDefault();\r\n\r\n    let attachedDocument = {};\r\n    const { date, startDate } = e.target;\r\n    switch (this.props.documentType) {\r\n      case \"prescription\":\r\n        const { medicine, payment } = e.target;\r\n        attachedDocument = {\r\n          patientID: this.props.patientID,\r\n          title: `Recepta ${medicine.value}`,\r\n          medicine: medicine.value,\r\n          payment: payment.value,\r\n          issueDate: date.value,\r\n          startDate: startDate.value,\r\n          type: \"recepta\",\r\n          doctor: this.state.activeUser.name\r\n        };\r\n        break;\r\n      case \"sickleave\":\r\n        const { placeOfWork, endDate } = e.target;\r\n        attachedDocument = {\r\n          patientID: this.props.patientID,\r\n          title: `Zwolnienie ${startDate.value}-${endDate.value}`,\r\n          issueDate: date.value,\r\n          placeOfWork: placeOfWork.value,\r\n          startDate: startDate.value,\r\n          endDate: endDate.value,\r\n          type: \"zwolnienie\",\r\n          doctor: this.state.activeUser.name\r\n        };\r\n        break;\r\n\r\n      case \"referral\":\r\n        const { place, examination, diagnosis, aim } = e.target;\r\n        attachedDocument = {\r\n          patientID: this.props.patientID,\r\n          title: `Skierowanie na ${examination.value} ${date.value}`,\r\n          issueDate: date.value,\r\n          place: place.value,\r\n          examination: examination.value,\r\n          diagnosis: diagnosis.value,\r\n          aim: aim.value,\r\n          type: \"skierowanie\",\r\n          doctor: this.state.activeUser.name\r\n        };\r\n        break;\r\n      case \"lab-order\":\r\n        const checkboxes = [...e.target.test];\r\n        const labTests = checkboxes\r\n          .filter(checkbox => checkbox.checked === true)\r\n          .map(checkbox => checkbox.value);\r\n\r\n        console.log(labTests);\r\n        attachedDocument = {\r\n          patientID: this.props.patientID,\r\n          title: `Zlecenie badań laboratoryjnych ${date.value}`,\r\n          date: date.value,\r\n          labTests: labTests,\r\n          type: \"zlecenie badan\",\r\n          doctor: this.state.activeUser.name\r\n        };\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n\r\n    await fetch(\r\n      \" https://medical-documentation.herokuapp.com/attach-document\",\r\n      {\r\n        method: \"post\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(attachedDocument)\r\n      }\r\n    )\r\n      .then(result => result.json())\r\n      .then(data => (attachedDocument.id = data));\r\n    console.log(attachedDocument.id);\r\n    let attachments = JSON.parse(sessionStorage.getItem(\"attachments\")) || [];\r\n    attachments.push(attachedDocument);\r\n    sessionStorage.setItem(\"attachments\", JSON.stringify(attachments));\r\n    this.props.history.push(\"/recommendations/create-new\");\r\n  };\r\n\r\n  setStartDate = e => {\r\n    this.setState({ startDate: e.target.value });\r\n  };\r\n\r\n  render() {\r\n    const documentType = this.props.documentType;\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <Link to=\"/recommendations/create-new\" className=\"backButton\">\r\n          <button>Powrót</button>\r\n        </Link>\r\n        {documentType === \"prescription\" && (\r\n          <div>\r\n            <h2>Nowa recepta</h2>\r\n            <form className=\"attachment-form\" onSubmit={this.submitAttachment}>\r\n              <label>\r\n                Data:\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  min={threeDaysAgo}\r\n                  max={today}\r\n                  defaultValue={today}\r\n                />\r\n              </label>\r\n              <label>\r\n                Informacje o leku:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Nazwa, ilość, dawkowanie\"\r\n                  name=\"medicine\"\r\n                  required\r\n                />\r\n              </label>\r\n              <label>\r\n                Odpłatność:{\" \"}\r\n                <input type=\"text\" name=\"payment\" required placeholder=\" \" />\r\n              </label>\r\n              <label>\r\n                Data od dnia: <input type=\"date\" name=\"startDate\" />\r\n              </label>\r\n              <input type=\"submit\" value=\"Dodaj\" />\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        {documentType === \"sickleave\" && (\r\n          <div>\r\n            <h2>Nowe zwolnienie lekarskie</h2>\r\n            <form className=\"attachment-form\" onSubmit={this.submitAttachment}>\r\n              <label>\r\n                Data:\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  min={threeDaysAgo}\r\n                  max={today}\r\n                  defaultValue={today}\r\n                />\r\n              </label>\r\n              <label>\r\n                Miejsce pracy:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"placeOfWork\"\r\n                  required\r\n                  placeholder=\" \"\r\n                />\r\n              </label>\r\n              <label>\r\n                od:{\" \"}\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"startDate\"\r\n                  min={threeDaysAgo}\r\n                  required\r\n                  id=\"startDate\"\r\n                  onChange={this.setStartDate}\r\n                />\r\n              </label>\r\n              <label>\r\n                do:{\" \"}\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"endDate\"\r\n                  required\r\n                  min={this.state.startDate}\r\n                />\r\n              </label>\r\n              <input type=\"submit\" value=\"Dodaj\" />\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        {documentType === \"referral\" && (\r\n          <div>\r\n            <h2>Nowe skierowanie</h2>\r\n            <form className=\"attachment-form\" onSubmit={this.submitAttachment}>\r\n              <label>\r\n                Data:\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  min={threeDaysAgo}\r\n                  max={today}\r\n                  defaultValue={today}\r\n                />\r\n              </label>\r\n              <label>\r\n                Skierowanie do:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"place\"\r\n                  placeholder=\"poradni specjalistycznej, pracowni diagnostycznej\"\r\n                  required\r\n                />\r\n              </label>\r\n              <label>\r\n                Badanie:{\" \"}\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"examination\"\r\n                  placeholder=\"konsultacja, badanie USG\"\r\n                  required\r\n                />\r\n              </label>\r\n              <label>\r\n                Rozpoznanie:{\" \"}\r\n                <input type=\"text\" name=\"diagnosis\" required placeholder=\" \" />\r\n              </label>\r\n              <label>\r\n                Cel: <input type=\"text\" name=\"aim\" required placeholder=\" \" />\r\n              </label>\r\n              <input type=\"submit\" value=\"Dodaj\" />\r\n            </form>\r\n          </div>\r\n        )}\r\n\r\n        {documentType === \"lab-order\" && (\r\n          <div>\r\n            <h2>Nowe zlecenie na badanie</h2>\r\n            <form className=\"lab-order-form\" onSubmit={this.submitAttachment}>\r\n              <label className=\"date-label\">\r\n                Data:\r\n                <input\r\n                  type=\"date\"\r\n                  name=\"date\"\r\n                  min={threeDaysAgo}\r\n                  max={today}\r\n                  defaultValue={today}\r\n                />\r\n              </label>\r\n\r\n              <div className=\"tests\">\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Morfologia\" />\r\n                  Morfologia\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"LDL\" />\r\n                  LDL\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"HDL\" />\r\n                  HDL\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"TC\" />\r\n                  TC\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Glukoza\" />\r\n                  Glukoza\r\n                </label>\r\n\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"TG\" />\r\n                  Trójglicerydy\r\n                </label>\r\n\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Kwas moczowy\" />\r\n                  Keas moczowy\r\n                </label>\r\n\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"TP\" />\r\n                  TP\r\n                </label>\r\n\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"TBIL\" />\r\n                  TBIL\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Magnez\" />\r\n                  Magnez\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Sód\" />\r\n                  Sód\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Potas\" />\r\n                  Potas\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Żelazo\" />\r\n                  Żelazo\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"Wapń\" />\r\n                  Wapń\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"ALAT\" />\r\n                  ALAT\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"ASPAT\" />\r\n                  ASPAT\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"TSH\" />\r\n                  TSH\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"FT3\" />\r\n                  FT3\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"FT4\" />\r\n                  FT4\r\n                </label>\r\n                <label>\r\n                  <input type=\"checkbox\" name=\"test\" value=\"OB\" />\r\n                  OB\r\n                </label>\r\n              </div>\r\n\r\n              <input type=\"submit\" value=\"Dodaj\" />\r\n            </form>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewAttachment;\r\n","import React, { Component } from \"react\";\r\nimport { HashRouter, Route, NavLink, Switch, Redirect } from \"react-router-dom\";\r\nimport Recommendations from \"../Recommendations\";\r\nimport MedicalProcess from \"../MedicalProcess\";\r\nimport Documentation from \"../Documentation\";\r\nimport NewDocument from \"./NewDocument\";\r\nimport Document from \"../Document\";\r\nimport Report from \"../Report\";\r\nimport SideBar from \"../SideBar\";\r\nimport \"../../css/PatientDoctorPage.css\";\r\nimport NewRecommendation from \"./NewRecommendation\";\r\nimport NewAttachment from \"./NewAttachment\";\r\n\r\nclass DoctorPage extends Component {\r\n  state = {\r\n    patientID: \"\",\r\n    tasks: [],\r\n    patients: [],\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || [],\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    //because setState is asynchronous\r\n\r\n    await sessionStorage.setItem(\r\n      \"patientID\",\r\n      JSON.stringify(this.state.patientID)\r\n    );\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await fetch(\" https://medical-documentation.herokuapp.com/patients\")\r\n      .then(result => result.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        this.setState({ patients: data.map(patient => patient.id) });\r\n      });\r\n    await fetch(\r\n      `https://medical-documentation.herokuapp.com/medical-process?patientID=${\r\n        this.state.patientID\r\n      }`\r\n    )\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n  }\r\n  //MEDICAL PROCESS\r\n  addTask = async e => {\r\n    e.preventDefault();\r\n    e.persist();\r\n    e.target.title.value = e.target.title.value.trim();\r\n\r\n    if (e.target.title.value.length === 0) {\r\n      return;\r\n    }\r\n    const completed = e.target.completed.value === \"done\" ? true : false;\r\n\r\n    await fetch(\" https://medical-documentation.herokuapp.com/new-task\", {\r\n      method: \"post\",\r\n\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        patientID: this.state.patientID,\r\n        title: e.target.title.value,\r\n        date: e.target.date.value.split(\"T\").join(\" \"),\r\n        completed,\r\n        details: e.target.details.value,\r\n        previousTask: e.target.previousTask.value,\r\n        doctor: this.state.activeUser.name\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n\r\n    e.target.title.value = \"\";\r\n    e.target.details.value = \"\";\r\n    e.target.date.value = \"\";\r\n  };\r\n\r\n  //SIDE BAR\r\n  addTaskFromSideBar = async e => {\r\n    e.preventDefault();\r\n    console.log(e.target);\r\n    e.persist();\r\n    e.target.title.value = e.target.title.value.trim();\r\n\r\n    if (e.target.title.value.length === 0) {\r\n      return;\r\n    }\r\n    await fetch(\" https://medical-documentation.herokuapp.com/new-task\", {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        patientID: this.state.patientID,\r\n        title: e.target.title.value,\r\n        date: \"\",\r\n        completed: false,\r\n        details: \"\",\r\n        previousTask: \"\",\r\n        doctor: this.state.activeUser.name\r\n\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n\r\n    e.target.title.value = \"\";\r\n  };\r\n\r\n  editTask = async id => {\r\n    const title = document.querySelector(\"#title\").value;\r\n    const details = document.querySelector(\"#details\").value;\r\n    const date = document.querySelector(\"#date\");\r\n   \r\n      await fetch(\" https://medical-documentation.herokuapp.com/edit-task\", {\r\n        method: \"put\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          patientID: this.state.patientID,\r\n          title,\r\n          details,\r\n          date: date.value,\r\n          previousTaskId: document.querySelector(\"#previous-task\").value,\r\n          id: id\r\n        })\r\n      })\r\n        .then(result => result.json())\r\n        .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n    \r\n  };\r\n\r\n  setCompleted = e => {\r\n    const id = e.target.id;\r\n    this.setState({\r\n      tasks: this.state.tasks.map((task, i) => {\r\n        if (task._id === id) {\r\n          task.completed = true;\r\n        }\r\n        return task;\r\n      })\r\n    });\r\n\r\n    fetch(\" https://medical-documentation.herokuapp.com/complete-task\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ id: id, completed: true })\r\n    });\r\n  };\r\n\r\n  toggleComplete = async e => {\r\n    const id = e.target.id;\r\n    let isCompleted = \"\";\r\n    this.setState({\r\n      tasks: this.state.tasks.map((task, i) => {\r\n        if (task._id === id) {\r\n          task.completed = !task.completed;\r\n          isCompleted = task.completed;\r\n        }\r\n        return task;\r\n      })\r\n    });\r\n    //dodanie do bazy\r\n    await fetch(\" https://medical-documentation.herokuapp.com/complete-task\", {\r\n      method: \"put\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ id: id, completed: isCompleted })\r\n    });\r\n  };\r\n\r\n  searchPatient = async e => {\r\n    e.preventDefault();\r\n\r\n    let patientID;\r\n    if (!this.state.patientID) {\r\n      e.preventDefault();\r\n      patientID = e.target.patientID.value;\r\n      await this.setState({ patientID });\r\n\r\n      await fetch(\r\n        ` https://medical-documentation.herokuapp.com/medical-process?patientID=${\r\n          this.state.patientID\r\n        }`\r\n      )\r\n        .then(result => result.json())\r\n        .then(data => this.setState({ tasks: data.sort(this.compare) }));\r\n    } else {\r\n      await this.setState({ patientID: \"\" });\r\n    }\r\n  };\r\n\r\n  compare = (a, b) => {\r\n    const dateA =\r\n      parseInt(\r\n        a.date\r\n          .split(\" \")[0]\r\n          .split(\"-\")\r\n          .join(\"\")\r\n      ) || 0;\r\n    const dateB =\r\n      parseInt(\r\n        b.date\r\n          .split(\" \")[0]\r\n          .split(\"-\")\r\n          .join(\"\")\r\n      ) || 0;\r\n\r\n    return dateA > dateB ? -1 : dateA < dateB ? 1 : 0;\r\n  };\r\n\r\n  render() {\r\n    let patientID = this.state.patientID;\r\n    return (\r\n      <div>\r\n        <form className=\"ID-form\" onSubmit={this.searchPatient}>\r\n          {patientID ? (\r\n            <p className=\"id-info\">{patientID}</p>\r\n          ) : (\r\n            <select name=\"patientID\" defaultValue=\"\">\r\n              <option value=\"\" disabled>\r\n                Wybierz pacjenta\r\n              </option>\r\n              {this.state.patients.map((patient, i) => {\r\n                return (\r\n                  <option key={i} value={patient}>\r\n                    {patient}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          )}\r\n\r\n          <input\r\n            type=\"submit\"\r\n            value={this.state.patientID ? \"Zmień pacienta\" : \"Znajdź pacjenta\"}\r\n          />\r\n        </form>\r\n\r\n        {this.state.patientID && (\r\n          <div>\r\n            <SideBar\r\n              activeAccount=\"doctor\"\r\n              patientID={patientID}\r\n              tasks={this.state.tasks}\r\n              addTask={this.addTaskFromSideBar}\r\n              toggleComplete={this.toggleComplete}\r\n            />\r\n            <HashRouter>\r\n              <nav>\r\n                <NavLink to=\"/documentation\" activeClassName=\"active\">\r\n                  Dokumentacja\r\n                </NavLink>\r\n                <NavLink to=\"/recommendations\" activeClassName=\"active\">\r\n                  Zalecenia\r\n                </NavLink>\r\n                <NavLink to=\"/medical-process\" activeClassName=\"active\">\r\n                  Proces medyczny\r\n                </NavLink>\r\n              </nav>\r\n              <Switch>\r\n                <Route\r\n                  exact\r\n                  path=\"/recommendations/create-new/generate-prescription\"\r\n                  render={props => (\r\n                    <NewAttachment\r\n                      {...props}\r\n                      documentType=\"prescription\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/recommendations/create-new/generate-sickleave\"\r\n                  render={props => (\r\n                    <NewAttachment\r\n                      {...props}\r\n                      documentType=\"sickleave\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/recommendations/create-new/generate-referral\"\r\n                  render={props => (\r\n                    <NewAttachment\r\n                      {...props}\r\n                      documentType=\"referral\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/recommendations/create-new/generate-lab-order\"\r\n                  render={props => (\r\n                    <NewAttachment\r\n                      {...props}\r\n                      documentType=\"lab-order\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/documentation/document:documentId\"\r\n                  render={props => (\r\n                    <Document\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/recommendations/create-new\"\r\n                  render={props => (\r\n                    <NewRecommendation\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/documentation/create-new\"\r\n                  render={props => (\r\n                    <NewDocument\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/documentation/report\"\r\n                  render={props => (\r\n                    <Report\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                } />\r\n                <Route\r\n                  path=\"/documentation\"\r\n                  render={props => (\r\n                    <Documentation\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/recommendations\"\r\n                  render={props => (\r\n                    <Recommendations\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      patientID={patientID}\r\n                    />\r\n                  )}\r\n                />\r\n                <Route\r\n                  path=\"/medical-process\"\r\n                  render={props => (\r\n                    <MedicalProcess\r\n                      {...props}\r\n                      activeAccount=\"doctor\"\r\n                      tasks={this.state.tasks}\r\n                      addTask={this.addTask}\r\n                      setCompleted={this.setCompleted}\r\n                      editTask={this.editTask}\r\n                    />\r\n                  )}\r\n                />\r\n                <Redirect from=\"/\" to=\"/documentation\" />\r\n              </Switch>\r\n            </HashRouter>\r\n            <div />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DoctorPage;\r\n","import React, { Component } from \"react\";\r\nimport \"../css/LabTechnicianPage.css\";\r\nimport { today } from \"../DateParser\";\r\n\r\nclass LabTechnicianPage extends Component {\r\n  state = {\r\n    resultType: \"\",\r\n    results: [],\r\n    parameters: [],\r\n    labOrders: [],\r\n    patientID: \"\",\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || []\r\n  };\r\n\r\n  componentDidMount() {\r\n    fetch(\" https://medical-documentation.herokuapp.com/lab-data\")\r\n      .then(result => result.json())\r\n      .then(data => this.setState({ parameters: data }));\r\n  }\r\n\r\n  chooseResultType = e => {\r\n    console.log(e.target.value);\r\n    this.setState({ resultType: e.target.value });\r\n  };\r\n\r\n  addParameter = e => {\r\n    e.preventDefault();\r\n    let name = document.querySelector(\"#parameter\").value;\r\n    let value = document.querySelector(\"#result\").value;\r\n    let range = this.state.parameters.find(parameter => parameter.name === name)\r\n      .range;\r\n    let unit = this.state.parameters.find(parameter => parameter.name === name)\r\n      .unit;\r\n    if (/^[0-9.,]{1,7}$/.test(value)) {\r\n      const newParameter = {\r\n        name,\r\n        value,\r\n        type: this.state.resultType,\r\n        range,\r\n        unit\r\n      };\r\n      this.setState({ results: [...this.state.results, newParameter] });\r\n      document.querySelector(\"#result\").value = \"\";\r\n    }\r\n  };\r\n\r\n  submitResult = e => {\r\n    e.preventDefault();\r\n    const collectionDate = e.target.collectionDate.value.split(\"T\");\r\n    const title = `Badanie krwi ${collectionDate[0]}`;\r\n    const issueDate = today;\r\n\r\n    fetch(\" https://medical-documentation.herokuapp.com/lab-result\", {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        labPatientID: e.target.patientID.value,\r\n        labOrder: e.target.labOrder.value,\r\n        orderingDoctor: e.target.orderingDoctor.value,\r\n        title,\r\n        testDate: collectionDate.join(\" \"),\r\n        issueDate,\r\n        labTechnician: this.state.activeUser.name,\r\n        results: this.state.results\r\n      })\r\n    });\r\n    this.setState({ resultType: \"\", results: [] });\r\n    window.location.reload();\r\n  };\r\n\r\n  choosePatient = async e => {\r\n    let patientID = e.target.value;\r\n    if (patientID.match(/[0-9]{5}/)) {\r\n      await fetch(\" https://medical-documentation.herokuapp.com/patients\").then(result =>\r\n        result.json().then(async data => {\r\n          const ids = data.map(patient => patient.id);\r\n          if (ids.includes(patientID)) {\r\n            await this.setState({ patientID });\r\n          } else {\r\n            alert(\"Nie ma takiego pacjenta\");\r\n            this.setState({ patientID: \"\" });\r\n          }\r\n        })\r\n      );\r\n    }\r\n\r\n    await fetch(\r\n      ` https://medical-documentation.herokuapp.com/attached-documents?patientID=${\r\n        this.state.patientID\r\n      }`\r\n    )\r\n      .then(result => result.json())\r\n      .then(data =>\r\n        this.setState({\r\n          labOrders: data.filter(document => document.type === \"zlecenie badan\")\r\n        })\r\n      );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container lab-container\">\r\n        <h2>Dodaj wynik badania krwi</h2>\r\n        <form className=\"form\" onSubmit={this.submitResult}>\r\n          <label htmlFor=\"patientID\" className=\"mainLabel\">\r\n            ID pacjenta{\" \"}\r\n            <input\r\n              name=\"patientID\"\r\n              type=\"text\"\r\n              required\r\n              pattern=\"[0-9]{5}\"\r\n              placeholder=\" \"\r\n              onChange={this.choosePatient}\r\n            />\r\n          </label>\r\n\r\n          <label className=\"mainLabel\">\r\n            Zlecenie:{\" \"}\r\n            <select\r\n              className=\"lab-orders\"\r\n              name=\"labOrder\"\r\n              defaultValue=\"\"\r\n              disabled={!this.state.patientID}\r\n              required\r\n            >\r\n              <option value=\"\" disabled>\r\n                Wybierz zlecenie\r\n              </option>\r\n              {this.state.labOrders.map((labOrder, i) => {\r\n                return (\r\n                  <option key={i} value={labOrder._id}>\r\n                    {labOrder.title}\r\n                  </option>\r\n                );\r\n              })}\r\n            </select>\r\n          </label>\r\n          <label htmlFor=\"orderingDoctor\" className=\"mainLabel\">\r\n            Lekarz zlecający{\" \"}\r\n            <input\r\n              name=\"orderingDoctor\"\r\n              type=\"text\"\r\n              required\r\n              placeholder=\" \"\r\n              disabled={!this.state.patientID}\r\n            />\r\n          </label>\r\n          <label htmlFor=\"collectionDate\" className=\"mainLabel\">\r\n            Data pobrania{\" \"}\r\n            <input\r\n              name=\"collectionDate\"\r\n              type=\"datetime-local\"\r\n              disabled={!this.state.patientID}\r\n            />\r\n          </label>\r\n\r\n          <label className=\"mainLabel\">\r\n            Typ badania\r\n            <select\r\n              disabled={!this.state.patientID}\r\n              name=\"result-type\"\r\n              onChange={this.chooseResultType}\r\n              defaultValue=\"default\"\r\n            >\r\n              <option value=\"default\" disabled={true}>\r\n                Wybierz typ badania\r\n              </option>\r\n              <option value=\"Morfologia\">Morfologia krwi</option>\r\n              <option value=\"Biochemia\">Biochemia krwi</option>\r\n              <option value=\"Immunochemia\">Immunochemia</option>\r\n              <option value=\"OB\">OB</option>\r\n            </select>\r\n          </label>\r\n\r\n          {this.state.resultType && (\r\n            <div className=\"result-display\">\r\n              <div className=\"inner-form\">\r\n                <label>\r\n                  Wybierz parametr\r\n                  {this.state.resultType === \"Morfologia\" && (\r\n                    <select name=\"parameter\" id=\"parameter\">\r\n                      {this.state.parameters\r\n                        .filter(\r\n                          parameter => parameter.testType === \"Morfologia\"\r\n                        )\r\n                        .map((parameter, i) => {\r\n                          return (\r\n                            <option key={i} value={parameter.name}>\r\n                              {parameter.name}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                    </select>\r\n                  )}\r\n                  {this.state.resultType === \"Biochemia\" && (\r\n                    <select name=\"parameter\" id=\"parameter\">\r\n                      {this.state.parameters\r\n                        .filter(parameter => parameter.testType === \"Biochemia\")\r\n                        .map((parameter, i) => {\r\n                          return (\r\n                            <option key={i} value={parameter.name}>\r\n                              {parameter.name}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                    </select>\r\n                  )}\r\n                  {this.state.resultType === \"Immunochemia\" && (\r\n                    <select name=\"parameter\" id=\"parameter\">\r\n                      {this.state.parameters\r\n                        .filter(\r\n                          parameter => parameter.testType === \"Immunochemia\"\r\n                        )\r\n                        .map((parameter, i) => {\r\n                          return (\r\n                            <option key={i} value={parameter.name}>\r\n                              {parameter.name}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                    </select>\r\n                  )}\r\n                  {this.state.resultType === \"OB\" && (\r\n                    <select name=\"parameter\" id=\"parameter\">\r\n                      <option value=\"OB\">OB</option>\r\n                    </select>\r\n                  )}\r\n                </label>\r\n                <label>\r\n                  Wartość\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"result\"\r\n                    id=\"result\"\r\n                    pattern=\"[0-9.,]{1,7}\"\r\n                  />\r\n                </label>\r\n                <input\r\n                  type=\"submit\"\r\n                  value=\"Dodaj parametr\"\r\n                  onClick={this.addParameter}\r\n                />\r\n              </div>\r\n\r\n              {this.state.results.length > 0 && (\r\n                <div className=\"table\">\r\n                  <table border=\"1\">\r\n                    <thead>\r\n                      <tr>\r\n                        <th className=\"mobile-out\">Lp.</th>\r\n                        <th>Parametr</th>\r\n                        <th>Wartość</th>\r\n                        <th>Zakres</th>\r\n                        <th>Jednostka</th>\r\n                      </tr>\r\n                    </thead>\r\n                    {this.state.results.map((item, i) => {\r\n                      return (\r\n                        <tbody key={i}>\r\n                          <tr>\r\n                            <td className=\"mobile-out\">{i + 1}</td>\r\n                            <td>{this.state.results[i].name}</td>\r\n                            <td>{this.state.results[i].value}</td>\r\n                            <td>{this.state.results[i].range}</td>\r\n                            <td>{this.state.results[i].unit}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      );\r\n                    })}\r\n                  </table>\r\n                  <input type=\"submit\" value=\"Zapisz i prześlij\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LabTechnicianPage;\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PatientPage from \"./Patient-Doctor/PatientPage\";\r\nimport DoctorPage from \"./Patient-Doctor/Doctor/DoctorPage\";\r\nimport LabTechnicianPage from \"./LabTechnician/LabTechnicianPage\";\r\n\r\nclass Main extends Component {\r\n  state = {\r\n    activeAccount: JSON.parse(sessionStorage.getItem(\"account\"))\r\n      ? JSON.parse(sessionStorage.getItem(\"account\"))\r\n      : \"\",\r\n    isLoggedIn: JSON.parse(sessionStorage.getItem(\"isLoggedIn\")) || \"false\",\r\n    activeUser: JSON.parse(sessionStorage.getItem(\"user\")) || [],\r\n    patientID: JSON.parse(sessionStorage.getItem(\"patientID\")) || [],\r\n  };\r\n\r\n  async componentDidUpdate() {\r\n    //because setState is asynchronous\r\n    await sessionStorage.setItem(\r\n      \"isLoggedIn\",\r\n      JSON.stringify(this.state.isLoggedIn)\r\n    );\r\n    await sessionStorage.setItem(\r\n      \"account\",\r\n      JSON.stringify(this.state.activeAccount)\r\n    );\r\n    await sessionStorage.setItem(\"user\", JSON.stringify(this.state.activeUser));\r\n    await sessionStorage.setItem(\r\n      \"patientID\",\r\n      JSON.stringify(this.state.patientID)\r\n    );\r\n  }\r\n\r\n  changeAccount = e => {\r\n    this.setState({ activeAccount: e.target.value });\r\n  };\r\n\r\n  logIn = async e => {\r\n    e.preventDefault();\r\n    let patientID;\r\n    await fetch(\"https://medical-documentation.herokuapp.com/login\", {\r\n      method: \"post\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({\r\n        login: e.target.login.value,\r\n        password: e.target.password.value\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        if (data === \"FAIL\") {\r\n          document.querySelector(\"#login-info\").innerHTML =\r\n            \"Niepoprawny login i hasło\";\r\n        } else {\r\n          patientID = data.accountType === \"patient\" ? data.ID : \"\";\r\n          this.setState({\r\n            activeAccount: data.accountType,\r\n            isLoggedIn: \"true\",\r\n            activeUser: data,\r\n            patientID\r\n          });\r\n        }\r\n      });\r\n  };\r\n\r\n  logOut = async () => {\r\n    this.setState({\r\n      activeAccount: \"\",\r\n      isLoggedIn: \"false\",\r\n      activeUser: [],\r\n      patientID: []\r\n    });\r\n    //await sessionStorage.setItem(\"isLoggedIn\", false);\r\n    this.props.history.push(\"/\");\r\n  };\r\n\r\n  render() {\r\n    let infoText;\r\n    if (sessionStorage.getItem(\"generatedLogin\")) {\r\n      infoText = `Twój wygenerowany login: ${sessionStorage.getItem(\r\n        \"generatedLogin\"\r\n      )}`;\r\n      sessionStorage.removeItem(\"generatedLogin\");\r\n    } else {\r\n      infoText = <br />;\r\n    }\r\n    return (\r\n      <div>\r\n        {this.state.isLoggedIn === \"false\" ? (\r\n          <div className=\"login-container\">\r\n            <h2>Zaloguj się</h2>\r\n            <p id=\"login-info\">{infoText}</p>\r\n            <form onSubmit={this.logIn}>\r\n              <label htmlFor=\"login\">Użytkownik: </label>\r\n              <input\r\n                type=\"text\"\r\n                name=\"login\"\r\n                pattern=\"[PDL]\\d{5}\"\r\n                placeholder=\"np. P12345, D12345, L12345\"\r\n                required\r\n              />\r\n              <label htmlFor=\"password\">Hasło: </label>\r\n              <input type=\"password\" name=\"password\" required />\r\n              <input type=\"submit\" value=\"Zaloguj\" />\r\n            </form>\r\n            <p>Nie masz konta?</p>\r\n            <Link to=\"/register\">\r\n              <button>Zarejestruj się</button>\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            <header>\r\n              {/*<div className=\"radio-buttons\">\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"account\"\r\n                  id=\"Patient\"\r\n                  value=\"patient\"\r\n                  checked={this.state.activeAccount === \"patient\"}\r\n                  onChange={this.changeAccount}\r\n                />{\" \"}\r\n                Pacjent\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"account\"\r\n                  id=\"Doctor\"\r\n                  value=\"doctor\"\r\n                  checked={this.state.activeAccount === \"doctor\"}\r\n                  onChange={this.changeAccount}\r\n                />{\" \"}\r\n                Lekarz\r\n              </label>\r\n              <label>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"account\"\r\n                  id=\"Lab\"\r\n                  value=\"lab\"\r\n                  checked={this.state.activeAccount === \"lab\"}\r\n                  onChange={this.changeAccount}\r\n                />{\" \"}\r\n                Laborant\r\n              </label>\r\n        </div>*/}\r\n              <p className=\"login-info\">\r\n                Zalogowano jako: {this.state.activeUser.name}\r\n              </p>\r\n\r\n              <button className=\"log-out\" onClick={this.logOut}>\r\n                Wyloguj się\r\n              </button>\r\n            </header>\r\n\r\n            {this.state.activeAccount === \"patient\" ? (\r\n              <PatientPage patientID={this.state.patientID} />\r\n            ) : this.state.activeAccount === \"doctor\" ? (\r\n              <DoctorPage />\r\n            ) : (\r\n              <LabTechnicianPage />\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Main;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport Register from \"./Register\";\r\n\r\nimport Main from \"./Main\";\r\n\r\nimport \"./css/App.css\";\r\n\r\nclass App extends Component {\r\n  async componentWillMount() {\r\n    if (!sessionStorage.getItem(\"account\")) {\r\n      console.log(\"no account\");\r\n      const text = \"\";\r\n      await sessionStorage.setItem(\"account\", JSON.stringify(text));\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <Switch>\r\n          <Route exact path=\"/register\" component={Register} />\r\n          <Route exact path=\"/\" component={Main} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./css/index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n//basename - because of /dokumenty_cyfrowe_w_medycynie in url (gh-pages)\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}> \r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}