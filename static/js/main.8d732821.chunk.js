(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},27:function(e,t,a){e.exports=a(53)},32:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),l=a.n(c),o=(a(32),a(1)),i=a.n(o),s=a(2),u=a(4),m=a(5),p=a(7),d=a(6),h=a(8),f=a(13),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={accountType:"patient",generatedLogin:""},a.chooseAccountType=function(e){a.setState({accountType:e.target.value})},a.goBack=function(){a.props.history.push("/")},a.validatePassword=function(){var e=document.getElementById("password"),t=document.getElementById("confirm-password");e.value!==t.value?t.setCustomValidity("Has\u0142a nie s\u0105 jednakowe"):t.setCustomValidity("")},a.registerUser=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"doctor"!==a.state.accountType){e.next=8;break}return e.next=4,fetch("https://medical-documentation.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountType:a.state.accountType,name:t.target.name.value,surname:t.target.surname.value,PWZ:t.target.PWZ.value,specialization:t.target.specialization.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){a.setState({generatedLogin:e.login})});case 4:return e.next=6,sessionStorage.setItem("generatedLogin",a.state.generatedLogin);case 6:e.next=19;break;case 8:if("patient"!==a.state.accountType){e.next=15;break}return e.next=11,fetch("https://medical-documentation.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountType:a.state.accountType,name:t.target.name.value,surname:t.target.surname.value,pesel:t.target.pesel.value,dob:t.target.dob.value,sex:t.target.sex.value,address:t.target.address.value,telephone:t.target.telephone.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){a.setState({generatedLogin:e.login})});case 11:return e.next=13,sessionStorage.setItem("generatedLogin",a.state.generatedLogin);case 13:e.next=19;break;case 15:return e.next=17,fetch("https://medical-documentation.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({accountType:a.state.accountType,name:t.target.name.value,surname:t.target.surname.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){a.setState({generatedLogin:e.login})});case 17:return e.next=19,sessionStorage.setItem("generatedLogin",a.state.generatedLogin);case 19:a.props.history.push("/");case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"register-container"},r.a.createElement("button",{className:"backButton",onClick:this.goBack},"Powr\xf3t do logowania"),r.a.createElement("h2",null,"Zarejestruj si\u0119"),r.a.createElement("form",{onSubmit:this.registerUser},r.a.createElement("span",null,r.a.createElement("label",null,"Typ konta: "),r.a.createElement("select",{name:"accountType",onChange:this.chooseAccountType},r.a.createElement("option",{value:"patient"},"Pacjent"),r.a.createElement("option",{value:"doctor"},"Lekarz"),r.a.createElement("option",{value:"lab"},"Laborant"))),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"name"},"Imi\u0119 "),r.a.createElement("input",{type:"text",name:"name",required:!0,placeholder:" ",pattern:"[A-Za-z]{3,}"})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"surname"},"Nazwisko "),r.a.createElement("input",{type:"text",name:"surname",required:!0,placeholder:" ",pattern:"[A-Za-z]{3,}"})),"patient"===this.state.accountType&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"dob"},"Data urodzenia "),r.a.createElement("input",{type:"date",name:"dob",required:!0})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"surname"},"Adres "),r.a.createElement("input",{type:"text",name:"address",required:!0,placeholder:" "})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"surname"},"Telefon "),r.a.createElement("input",{type:"text",name:"telephone",required:!0,pattern:"[0-9]{9}",placeholder:" "})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"pesel"},"PESEL "),r.a.createElement("input",{type:"text",name:"pesel",id:"pesel",required:!0,pattern:"[0-9]{11}",placeholder:" "})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"surname"},"P\u0142e\u0107 "),r.a.createElement("select",{name:"sex",defaultValue:"",required:!0},r.a.createElement("option",{value:"",disabled:!0},"Wybierz p\u0142e\u0107"),r.a.createElement("option",{value:"K"},"Kobieta"),r.a.createElement("option",{value:"M"},"M\u0119\u017cczyzna")))),"doctor"===this.state.accountType&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",null,r.a.createElement("label",null,"Numer PWZ"),r.a.createElement("input",{type:"text",name:"PWZ",required:!0})),r.a.createElement("span",null,r.a.createElement("label",null,"Specjalizacja"),r.a.createElement("input",{type:"text",name:"specialization",required:!0}))),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"password"},"Has\u0142o "),r.a.createElement("input",{type:"password",required:!0,id:"password"})),r.a.createElement("span",null,r.a.createElement("label",{htmlFor:"password"},"Powt\xf3rz has\u0142o "),r.a.createElement("input",{type:"password",required:!0,id:"confirm-password",onChange:this.validatePassword})),r.a.createElement("input",{type:"submit",value:"Zarejestruj si\u0119"})))}}]),t}(n.Component),v=a(3),g=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={document:{},images:[],documents:[]},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({documents:e})});case 2:return e.next=4,fetch("http://res.cloudinary.com/mickanie/image/list/medical_documentation.json").then(function(e){return e.json()}).then(function(e){return t.setState({images:e.resources.filter(function(e){return e.public_id.includes(t.props.match.params.documentId)})})});case 4:return e.next=6,fetch("http://res.cloudinary.com/mickanie/image/list/medical_documentation.json").then(function(e){return e.json()}).then(function(e){return t.setState({images:e.resources.filter(function(e){return e.public_id.includes(t.props.match.params.documentId)})})});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this;return this.state.documents.length?(this.state.documents.forEach(function(a){a._id===t.props.match.params.documentId&&(e=a)}),console.log(e),r.a.createElement("div",{className:"container document-container"},r.a.createElement(v.c,{to:"/documentation",className:"backButton"},r.a.createElement("button",null,"Powr\xf3t")),r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:"700"}},e.title),!e.title.includes("Badanie krwi")&&r.a.createElement("div",{className:"result-info"},r.a.createElement("p",null,"Data: ",e.testDate),r.a.createElement("p",null,"ID skierowania: ",e.referral),r.a.createElement("p",null,"Lekarz zlecaj\u0105cy: ",e.orderingDoctor),r.a.createElement("p",null,"Lekarz wykonuj\u0105cy: ",e.performingDoctor),r.a.createElement("p",null,"Lekarz opisuj\u0105cy: ",e.describingDoctor),r.a.createElement("p",null,r.a.createElement("br",null),e.content),r.a.createElement("div",null,this.state.images.map(function(e,t){var a="https://res.cloudinary.com/mickanie/image/upload/v".concat(e.version,"/").concat(e.public_id,".jpg");return r.a.createElement("img",{key:t,src:a})}))),e.title.includes("Badanie krwi")&&r.a.createElement("div",{className:"table"},r.a.createElement("div",{className:"result-info"},r.a.createElement("p",null,"Data pobrania: ",e.testDate," "),r.a.createElement("p",null,"Data wydania: ",e.issueDate),r.a.createElement("p",null,"Lekarz zlecaj\u0105cy: ",e.orderingDoctor),r.a.createElement("p",null,"Laborant: ",e.labTechnician)),r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"mobile-out"},"Lp."),r.a.createElement("th",null,"Parametr"),r.a.createElement("th",null,"Warto\u015b\u0107"),r.a.createElement("th",null,"Zakres"),r.a.createElement("th",null,"Jednostka"))),e.results.map(function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",{className:"mobile-out"},a+1),r.a.createElement("td",null,e.results[a].name),r.a.createElement("td",null,e.results[a].value),r.a.createElement("td",null,e.results[a].range),r.a.createElement("td",null,e.results[a].unit)))}))),r.a.createElement("a",{target:"_blank",href:"https://medical-documentation.herokuapp.com/examination-pdf?id="+this.props.match.params.documentId},r.a.createElement("button",null,"Zapisz do PDF"))))):null}}]),t}(n.Component)),b=(a(44),a(22),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],editMode:"",view:"tasks"},a.editMode=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.id,a.state.editMode===n){e.next=6;break}return e.next=4,a.setState({editMode:n});case 4:e.next=9;break;case 6:return a.props.editTask(n),e.next=9,a.setState({editMode:""});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.changeView=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.target.value),a.setState({view:t.target.value});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.toggleActive=function(e){console.log("click"),e.target.parentElement.classList.toggle("active")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container medical-process-container"},r.a.createElement("div",{className:"change-view"},r.a.createElement("input",{type:"radio",name:"view",id:"tasks",value:"tasks",checked:"tasks"===this.state.view,onChange:this.changeView}),r.a.createElement("label",{className:"tasks-label",htmlFor:"tasks"},"Widok zada\u0144"),r.a.createElement("input",{type:"radio",name:"view",id:"process",value:"process",onChange:this.changeView}),r.a.createElement("label",{className:"process-label",htmlFor:"process"},"Widok procesu")),"tasks"===this.state.view&&r.a.createElement("div",{className:"task-view"},"doctor"===this.props.activeAccount&&r.a.createElement("form",{onSubmit:this.props.addTask},r.a.createElement("span",null,r.a.createElement("input",{type:"text",placeholder:"Tytu\u0142",name:"title",required:!0}),r.a.createElement("select",{name:"completed"},r.a.createElement("option",{value:"done"},"Wykonane"),r.a.createElement("option",{value:"todo"},"Do zrobienia")),r.a.createElement("textarea",{placeholder:"Szczeg\xf3\u0142y",name:"details",required:!0})),r.a.createElement("span",null,r.a.createElement("label",null,"Data:"," ",r.a.createElement("input",{type:"datetime-local",name:"date",placeholder:"date"})),r.a.createElement("label",null,"Zadanie poprzedzaj\u0105ce:",r.a.createElement("select",{className:"previous-task",name:"previousTask"},r.a.createElement("option",{value:""},"Brak"),this.props.tasks.map(function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.title)}))),r.a.createElement("input",{type:"submit",value:"Dodaj zadanie"}))),r.a.createElement("div",{className:"content"},r.a.createElement("h3",null,"Do zrobienia"),r.a.createElement("ul",null,this.props.tasks.filter(function(e){return!1===e.completed}).map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("span",{className:"task-header"},r.a.createElement("strong",null,e.state.editMode.includes(t._id)?r.a.createElement("input",{type:"text",name:"title",id:"title",defaultValue:t.title}):t.title),"doctor"===e.props.activeAccount&&r.a.createElement("button",{className:"set-done",id:t._id,onClick:e.props.setCompleted},"\u2713"),r.a.createElement("button",{className:"edit",onClick:e.editMode,id:t._id})),r.a.createElement("div",{className:"task-info"},e.state.editMode===t._id?r.a.createElement("input",{type:"text",name:"details",id:"details",defaultValue:t.details,placeholder:"Szczeg\xf3\u0142y"}):r.a.createElement("p",null,t.details),e.state.editMode===t._id?r.a.createElement("input",{type:"text",name:"date",id:"date",defaultValue:t.date,placeholder:"Data"}):r.a.createElement("p",null,t.date)),e.state.editMode===t._id&&r.a.createElement("label",{className:"previous-task-label"},"Zadanie poprzedzaj\u0105ce:",r.a.createElement("select",{className:"previous-task",id:"previous-task",defaultValue:t.previousTask},r.a.createElement("option",{value:""},"Brak"),e.props.tasks.map(function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.title)}))))})),r.a.createElement("hr",null),r.a.createElement("h3",null,"Wykonane"),r.a.createElement("ul",null,this.props.tasks.filter(function(e){return!0===e.completed}).map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("span",{className:"task-header"},r.a.createElement("strong",null,e.state.editMode===t._id?r.a.createElement("input",{type:"text",name:"title",id:"title",defaultValue:t.title}):t.title),r.a.createElement("button",{className:"edit",onClick:e.editMode,id:t._id})),r.a.createElement("div",{className:"task-info"},e.state.editMode===t._id?r.a.createElement("input",{type:"text",name:"details",id:"details",defaultValue:t.details,placeholder:"Szczeg\xf3\u0142y"}):r.a.createElement("p",null,t.details),e.state.editMode===t._id?r.a.createElement("input",{type:"text",name:"date",id:"date",defaultValue:t.date,placeholder:"Data"}):r.a.createElement("p",null,t.date)),e.state.editMode===t._id&&r.a.createElement("label",{className:"previous-task-label"},"Zadanie poprzedzaj\u0105ce:",r.a.createElement("select",{className:"previous-task",defaultValue:t.previousTask,id:"previous-task"},r.a.createElement("option",{value:""},"Brak"),e.props.tasks.map(function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.title)}))))})))),"process"===this.state.view&&r.a.createElement("div",{className:"process-view"},this.props.tasks.filter(function(e){return""===e.previousTask}).map(function(t,a){var n=t.completed?"rgb(218, 203, 169)":"rgb(206, 206, 193)";return r.a.createElement("div",{className:"process-task-list-item",key:a},r.a.createElement("div",{className:"process-task",style:{background:n},onClick:e.toggleActive}," ",r.a.createElement("h4",null,t.title),r.a.createElement("p",{className:"date-process-task"},t.date),r.a.createElement("p",null,t.details)," "),t.nextTasks.length>0&&r.a.createElement("ul",{className:"next-tasks"},r.a.createElement(y,{task:t,tasks:e.props.tasks,toggleActive:e.toggleActive})))})))}}]),t}(n.Component)),y=function e(t){return console.log(t.tasks),t.task.nextTasks.map(function(a,n){var c=t.tasks.filter(function(e){return e._id===a})[0],l=c.completed?"rgb(218, 203, 169)":"rgb(206, 206, 193)";return r.a.createElement("li",{className:"next-task",key:n},r.a.createElement("div",{className:"process-task  ",style:{background:l},onClick:t.toggleActive}," ",r.a.createElement("h4",null,c.title),r.a.createElement("p",{className:"date-process-task"},c.date),r.a.createElement("p",null,c.details)," "),c.nextTasks.length>0&&r.a.createElement("ul",{className:"next-tasks"},r.a.createElement(e,{task:c,tasks:t.tasks,toggleActive:t.toggleActive})))})},k=(a(45),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={documents:[]},a.compare=function(e,t){var a=parseInt(e.testDate.split(" ")[0].split("-").join("")),n=parseInt(t.testDate.split(" ")[0].split("-").join(""));return a>n?-1:a<n?1:0},a.filterResults=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=parseInt(t.target.fromDate.value.split("-").join(""))||null,r=parseInt(t.target.toDate.value.split("-").join(""))||null,c=t.target.tags.value,e.next=6,fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(e){return a.setState({documents:e})});case 6:console.log(n,r),l=a.state.documents.filter(function(e){return"all"===c||e.documentType===c}).filter(function(e){return!n||!r||parseInt(e.testDate.split(" ")[0].split("-").join(""))>=n&&parseInt(e.testDate.split(" ")[0].split("-").join(""))<=r}),a.setState({documents:l});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(e){return t.setState({documents:e.sort(t.compare)})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(t){return e.setState({documents:t.sort(e.compare)})}),r.a.createElement("div",{className:"container documentation-container"},r.a.createElement("div",{className:"buttons"},"doctor"===this.props.activeAccount&&r.a.createElement(v.c,{to:"documentation/create-new"},r.a.createElement("button",null,"Dodaj wynik badania")),r.a.createElement(v.c,{to:"documentation/report"},r.a.createElement("button",null,"Wygeneruj raport"))),r.a.createElement("form",{className:"filterForm",onSubmit:this.filterResults},r.a.createElement("label",null,"Filtruj po tagu:"," ",r.a.createElement("select",{name:"tags"},r.a.createElement("option",{value:"all"},"Wszystko"),r.a.createElement("option",{value:"Badanie krwi"},"Badanie krwi"),r.a.createElement("option",{value:"Badanie USG"},"Badanie USG"),r.a.createElement("option",{value:"Badanie EKG"},"Badanie EKG"),r.a.createElement("option",{value:"Echokardiografia"},"Echokardiografia"),r.a.createElement("option",{value:"Tomografia komputerowa"},"Tomografia komputerowa"),r.a.createElement("option",{value:"Rezonans magnetyczny"},"Rezonans magnetyczny"),r.a.createElement("option",{value:"Angiografia"},"Angiografia / Koronarografia"))),r.a.createElement("label",{id:"dateFilter"},r.a.createElement("p",null,"Filtruj po dacie: "),r.a.createElement("p",null," ","od",r.a.createElement("input",{type:"date",name:"fromDate"})," do",r.a.createElement("input",{type:"date",name:"toDate"}))),r.a.createElement("input",{type:"submit",value:"Filtruj"})),r.a.createElement("div",{className:"documents content",style:{height:"41vh"}},r.a.createElement("ul",null,this.state.documents.map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement(v.c,{style:{fontWeight:"600",textDecoration:"underline"},to:"/documentation/document".concat(e._id)},e.title))}))))}}]),t}(n.Component)),j=(a(46),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={recommendations:[],activeUser:[]},a.compare=function(e,t){var a=parseInt(e.date.split(" ")[0].split("-").join("")),n=parseInt(t.date.split(" ")[0].split("-").join(""));return a>n?-1:a<n?1:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/recommendations").then(function(e){return e.json()}).then(function(e){return t.setState({recommendations:e.sort(t.compare)})});case 2:fetch("https://medical-documentation.herokuapp.com/active-user").then(function(e){return e.json()}).then(function(e){return t.setState({activeUser:e})});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(s.a)(i.a.mark(function e(t,a){var n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.location.pathname===this.props.location.pathname){e.next=4;break}return console.log("CHANGE"),e.next=4,fetch("https://medical-documentation.herokuapp.com/recommendations").then(function(e){return e.json()}).then(function(e){return n.setState({recommendations:e.sort(n.compare)})});case 4:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return fetch("https://medical-documentation.herokuapp.com/recommendations").then(function(e){return e.json()}).then(function(t){return e.setState({recommendations:t.sort(e.compare)})}),r.a.createElement("div",{className:"container recommendations-container"},"doctor"===this.props.activeAccount&&r.a.createElement(v.c,{to:"/recommendations/create-new"},r.a.createElement("button",null,"Dodaj zalecenie")),r.a.createElement("div",{className:"content"},this.state.recommendations.map(function(t,a){var n=t.doctor===e.state.activeUser.name?"rgb(138, 159, 138)":"grey";return r.a.createElement("div",{className:"recommendation",key:a,style:{background:n}},r.a.createElement("p",null,"Data: ",t.date," "),r.a.createElement("p",null,"Lekarz: ",t.doctor," "),r.a.createElement("p",null,"Tre\u015b\u0107: ",t.content),r.a.createElement("p",{className:"attached-documents"},"Za\u0142\u0105czone dokumenty:"," ",t.attachedDocuments.map(function(e,t){return r.a.createElement("a",{key:t,target:"_blank",style:{margin:"10px",textDecoration:"underline",color:"white"},href:"https://medical-documentation.herokuapp.com/attachment-pdf?id="+e.id},e.title)})))})))}}]),t}(n.Component)),w=(a(47),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={patient:[],tasks:[],editMode:!1},a.editData=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.editMode){e.next=4;break}a.setState({editMode:!0}),e.next=7;break;case 4:return e.next=6,fetch("https://medical-documentation.herokuapp.com/edit-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:document.querySelector("#name").value,sex:document.querySelector("#sex").value,PESEL:document.querySelector("#PESEL").value,telephone:document.querySelector("#telephone").value,address:document.querySelector("#address").value,icd10:document.querySelector("#icd10").value})}).then(function(e){return e.json()}).then(function(e){return a.setState({patient:e})});case 6:a.setState({editMode:!1});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.expandPatientInfo=function(e){console.log("CLick"),document.querySelector(".mobile-out.patient").classList.toggle("active"),e.target.classList.toggle("active")},a.expandTasks=function(e){document.querySelector(".mobile-out.tasks").classList.toggle("active"),e.target.classList.toggle("active")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/patient").then(function(e){400===e.status?alert("Nie ma takiego pacjenta"):e.json().then(function(e){return t.setState({patient:e})})});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.patient,a="".concat(t.name," ").concat(t.surname);return r.a.createElement("div",{className:"side-bar"},r.a.createElement("div",{className:"patient-info"},r.a.createElement("p",{className:"mobile-info"},"Pacjent: ",a),r.a.createElement("h3",{className:"expandable",onClick:this.expandPatientInfo},"Dane osobowe"),r.a.createElement("div",{className:"mobile-out patient"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Imi\u0119 i nazwisko: "),r.a.createElement("td",null,this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:a,id:"name",required:!0}):r.a.createElement("p",null,a))),r.a.createElement("tr",null,r.a.createElement("td",null,"P\u0142e\u0107: "),r.a.createElement("td",null,this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:t.sex,id:"sex",required:!0,pattern:"[MK]"}):r.a.createElement("p",null,t.sex))),r.a.createElement("tr",null,r.a.createElement("td",null,"Wiek: "),r.a.createElement("td",null," ",t.age," ")),r.a.createElement("tr",null,r.a.createElement("td",null,"PESEL: "),r.a.createElement("td",null," ",this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:t.PESEL,id:"PESEL",required:!0,pattern:"[0-9]{11}"}):r.a.createElement("p",null,t.PESEL)," ")),r.a.createElement("tr",null,r.a.createElement("td",null,"Data urodzenia: "),r.a.createElement("td",null," ",t.dateOfBirth," ")),r.a.createElement("tr",null,r.a.createElement("td",null,"Adres: "),r.a.createElement("td",null,this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:t.address,id:"address",required:!0}):r.a.createElement("p",null,t.address))),r.a.createElement("tr",null,r.a.createElement("td",null,"Telefon: "),r.a.createElement("td",null," ",this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:t.telephone,id:"telephone",required:!0,pattern:"[0-9]{9}"}):r.a.createElement("p",null,t.telephone))),r.a.createElement("tr",null,r.a.createElement("td",null,"ICD10: "),r.a.createElement("td",null," ",this.state.editMode?r.a.createElement("input",{type:"text",defaultValue:t.icd10,id:"icd10"}):r.a.createElement("p",null,t.icd10))))),"doctor"===this.props.activeAccount&&r.a.createElement("button",{onClick:this.editData},this.state.editMode?"Zapisz":"Edytuj"))),r.a.createElement("div",{className:"todo-list"},r.a.createElement("h3",{className:"expandable",onClick:this.expandTasks},"Zadania do wykonania"),r.a.createElement("div",{className:"mobile-out tasks"},r.a.createElement("ul",null,this.props.tasks.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("input",{type:"checkbox",checked:t.completed,onChange:e.props.toggleComplete,id:t._id,disabled:"doctor"!==e.props.activeAccount})," ",t.title)})),"doctor"===this.props.activeAccount&&r.a.createElement("form",{onSubmit:this.props.addTask},r.a.createElement("input",{type:"text",placeholder:"Wpisz nowe zadanie",name:"title",required:!0}),r.a.createElement("input",{type:"submit",value:"Dodaj"})))))}}]),t}(n.Component)),S=(a(23),a(48),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={parameters:[],chosenParameter:"",documents:[],filteredResults:[]},a.chooseResultType=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.documents.filter(function(e){return e.title.includes("Badanie krwi")}).filter(function(e){return e.results.some(function(e){return e.name===t.target.value})}),e.next=3,a.setState({chosenParameter:t.target.value,filteredResults:n});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.compare=function(e,t){var a=parseInt(e.testDate.split(" ")[0].split("-").join("")),n=parseInt(t.testDate.split(" ")[0].split("-").join(""));return a>n?-1:a<n?1:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/lab-data").then(function(e){return e.json()}).then(function(t){return e.setState({parameters:t})}),fetch("https://medical-documentation.herokuapp.com/documentation").then(function(e){return e.json()}).then(function(t){return e.setState({documents:t.sort(e.compare)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container "},r.a.createElement(v.c,{to:"/documentation",className:"backButton"},r.a.createElement("button",null,"Powr\xf3t")),r.a.createElement("h2",null,"Raport z bada\u0144 laboratoryjnych"),r.a.createElement("div",{className:"report-content"},r.a.createElement("label",null,"Wybierz parametr do por\xf3wnania",r.a.createElement("select",{name:"parameters",onChange:this.chooseResultType,defaultValue:"default"},r.a.createElement("option",{value:"default",disabled:!0},"Parametr"),this.state.parameters.map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))),this.state.filteredResults.length>0&&r.a.createElement("div",null,r.a.createElement("p",{className:"mobile-info"},"Zakres:"," ",this.state.parameters.find(function(t){return t.name===e.state.chosenParameter}).range," ",this.state.parameters.find(function(t){return t.name===e.state.chosenParameter}).unit),r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Data"),r.a.createElement("th",null,"Warto\u015b\u0107 ",this.state.chosenParameter),r.a.createElement("th",null,"Lekarz zlecaj\u0105cy"),r.a.createElement("th",null,"Laborant"))),r.a.createElement("tbody",null,this.state.filteredResults.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.testDate," "),r.a.createElement("td",null,t.results.find(function(t){return t.name===e.state.chosenParameter}).value),r.a.createElement("td",null,t.orderingDoctor),r.a.createElement("td",null,t.labTechnician))}))),r.a.createElement("button",null,"Zapisz do PDF")),!this.state.filteredResults.length&&this.state.chosenParameter&&r.a.createElement("p",null," Brak danych")))}}]),t}(n.Component)),x=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={patientID:"",tasks:[]},a.editTask=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/edit-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:document.querySelector("#title").value,details:document.querySelector("#details").value,date:document.querySelector("#date").value,id:t})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e.sort(a.compare)})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.toggleComplete=function(e){var t=e.target.id,n="";a.setState({tasks:a.state.tasks.map(function(e,a){return e._id===t&&(e.completed=!e.completed,n=e.completed),e})}),fetch("https://medical-documentation.herokuapp.com/complete-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,completed:n})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e.sort(a.compare)})})},a.compare=function(e,t){var a=parseInt(e.date.split(" ")[0].split("-").join(""))||0,n=parseInt(t.date.split(" ")[0].split("-").join(""))||0;return console.log(a),console.log(n),a>n?-1:a<n?1:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(t){return e.setState({tasks:t.sort(e.compare)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(w,{tasks:this.state.tasks}),r.a.createElement(v.b,null,r.a.createElement("nav",null,r.a.createElement(v.d,{to:"/documentation",activeClassName:"active"},"Dokumentacja"),r.a.createElement(v.d,{to:"/recommendations",activeClassName:"active"},"Zalecenia"),r.a.createElement(v.d,{to:"/medical-process",activeClassName:"active"},"Proces medyczny")),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/documentation",component:k}),r.a.createElement(f.b,{exact:!0,path:"/recommendations",component:j}),r.a.createElement(f.b,{path:"/medical-process",render:function(t){return r.a.createElement(b,Object.assign({},t,{tasks:e.state.tasks,editTask:e.editTask}))}}),r.a.createElement(f.b,{exact:!0,path:"/documentation/report",component:S}),"}",r.a.createElement(f.b,{exact:!0,path:"/documentation/document:documentId",component:g}),r.a.createElement(f.a,{from:"/",to:"/documentation"}))))}}]),t}(n.Component),D=(a(49),function(e){var t="".concat(1===e.getDate().toString().length?"0":"").concat(e.getDate()),a="".concat(1===e.getMonth().toString().length?"0":"").concat(e.getMonth()+1),n=e.getYear()-100;return"20".concat(n,"-").concat(a,"-").concat(t)}),O=D(new Date),N=D(new Date(Date.now()-2592e5)),T=("".concat(N," 07:00"),function(e){var t="".concat(1===e.getDate().toString().length?"0":"").concat(e.getDate()),a="".concat(1===e.getMonth().toString().length?"0":"").concat(e.getMonth()+1),n=e.getYear()-100,r="".concat(1===e.getHours().toString().length?"0":"").concat(e.getHours()),c="".concat(1===e.getMinutes().toString().length?"0":"").concat(e.getMinutes());"20".concat(n,"-").concat(a,"-").concat(t," ").concat(r,":").concat(c)}(new Date),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={documentType:"",referrals:[],files:[]},a.chooseDocumentType=function(e){a.setState({documentType:e.target.value})},a.handleFiles=function(e){for(var t=e.target,n=[],r=0;r<t.length;r++)n.append(t[r]);a.setState({files:n}),console.log(n)},a.uploadFile=function(e){var t="https://api.cloudinary.com/v1_1/".concat("mickanie","/upload"),a=new XMLHttpRequest,n=new FormData;a.open("POST",t,!0),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.onreadystatechange=function(e){if(4==a.readyState&&200==a.status){var t=JSON.parse(a.responseText);console.log(t)}},n.append("upload_preset","default"),n.append("tags","medical_documentation"),n.append("file",e),a.send(n)},a.createDocument=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target.files.files),n=t.target.files.files,r="".concat(a.state.documentType,": ").concat(t.target.region?t.target.region.value:"","  ").concat(t.target.testDate.value.split("T")[0]),e.next=6,fetch("https://medical-documentation.herokuapp.com/new-document",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({documentType:a.state.documentType,title:r,testDate:t.target.testDate.value.split("T").join(" "),referralID:t.target.referral.value,orderingDoctor:t.target.orderingDoctor.value,performingDoctor:t.target.performingDoctor.value,content:t.target.content.value})}).then(function(e){return e.json()}).then(function(e){var t=e._id;console.log(t);for(var r=0;r<n.length;r++){var c=n[r].slice(0,n[r].size,"image/jpg"),l=new File([c],"".concat(t,".jpg"),{type:"image/jpg"});a.uploadFile(l)}});case 6:a.props.history.push("/documentation");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/attached-documents").then(function(e){return e.json()}).then(function(t){return e.setState({referrals:t.filter(function(e){return"skierowanie"===e.type})})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(v.c,{to:"/documentation",className:"backButton"},r.a.createElement("button",null,"Powr\xf3t")),r.a.createElement("h2",{style:{textAlign:"center"}},"Nowy dokument"),r.a.createElement("div",{className:"new-document"},r.a.createElement("label",null,"Typ dokumentu:",r.a.createElement("select",{name:"documentType",onChange:this.chooseDocumentType,defaultValue:"default"},r.a.createElement("option",{value:"default",disabled:!0},"Wybierz typ"),r.a.createElement("option",{value:"Badanie USG"},"Badanie USG"),r.a.createElement("option",{value:"Badanie EKG"},"Badanie EKG"),r.a.createElement("option",{value:"Echokardiografia"},"Echokardiografia"),r.a.createElement("option",{value:"Tomografia komputerowa"},"Tomografia komputerowa"),r.a.createElement("option",{value:"Rezonans magnetyczny"},"Rezonans magnetyczny"),r.a.createElement("option",{value:"Angiografia"},"Angiografia / Koronarografia"))),this.state.documentType&&r.a.createElement("form",{className:"document-form",onSubmit:this.createDocument},("Rezonans magnetyczny"===this.state.documentType||"Tomografia komputerowa"===this.state.documentType)&&r.a.createElement("label",null," ","Badany obszar: ",r.a.createElement("input",{type:"text",name:"region",required:!0})),r.a.createElement("label",null," ","Data badania:"," ",r.a.createElement("input",{type:"datetime-local",name:"testDate",min:N,max:O,defaultValue:O})),r.a.createElement("label",null," ","Skierowanie:"," ",r.a.createElement("select",{className:"referrals",name:"referral",defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Wybierz skierowanie"),this.state.referrals.map(function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.title)}))),r.a.createElement("label",null," ","Lekarz zlecaj\u0105cy:"," ",r.a.createElement("input",{type:"text",name:"orderingDoctor",required:!0,placeholder:"Imi\u0119 i nazwisko lekarza"})),r.a.createElement("label",null," ","Lekarz wykonuj\u0105cy:"," ",r.a.createElement("input",{type:"text",name:"performingDoctor",required:!0,placeholder:"Imi\u0119 i nazwisko lekarza"})),r.a.createElement("label",null," ","Tre\u015b\u0107: ",r.a.createElement("textarea",{required:!0,name:"content"})),r.a.createElement("label",null," ","Za\u0142\u0105czniki:"," ",r.a.createElement("input",{type:"file",multiple:"multiple",name:"files",accept:"image/*"})),r.a.createElement("input",{type:"submit",value:"Dodaj dokument"}))))}}]),t}(n.Component)),z=(a(50),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dataSaved:JSON.parse(sessionStorage.getItem("saved")),data:JSON.parse(sessionStorage.getItem("recommendationData"))||{},attachments:JSON.parse(sessionStorage.getItem("attachments"))||[]},a.toggleSave=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target.parentElement,r=n.date,c=n.content,a.state.dataSaved){e.next=7;break}return e.next=5,a.setState({dataSaved:!0,data:{content:c.value,date:r.value}});case 5:e.next=9;break;case 7:return e.next=9,a.setState({dataSaved:!1,data:{content:"",date:""}});case 9:return e.next=11,sessionStorage.setItem("recommendationData",JSON.stringify(a.state.data));case 11:return e.next=13,sessionStorage.setItem("saved",JSON.stringify(a.state.dataSaved));case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.submitRecommendation=function(){fetch("https://medical-documentation.herokuapp.com/new-recommendation",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({date:document.getElementById("date").value,content:document.getElementById("content").value,attachments:a.state.attachments})}),sessionStorage.removeItem("saved"),sessionStorage.removeItem("recommendationData"),sessionStorage.removeItem("attachments"),a.props.history.push("/recommendations")},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container form-container"},r.a.createElement(v.c,{to:"/recommendations",className:"backButton"},r.a.createElement("button",null,"Powr\xf3t")),r.a.createElement("h2",null,"Nowe zalecenie"),r.a.createElement("form",null,r.a.createElement("label",null,"Data:",r.a.createElement("input",{type:"date",disabled:this.state.dataSaved,name:"date",id:"date",min:N,max:O,defaultValue:this.state.data.date||O})),r.a.createElement("label",null,"Tre\u015b\u0107:"," ",r.a.createElement("textarea",{id:"content",disabled:this.state.dataSaved,name:"content",defaultValue:this.state.data.content||""})),r.a.createElement("input",{type:"submit",value:this.state.dataSaved?"Edytuj":"Zapisz",onClick:this.toggleSave})),this.state.attachments&&r.a.createElement("p",{className:"attachments-info"},"Za\u0142\u0105czniki:",this.state.attachments.map(function(e,t){return r.a.createElement(v.c,{key:t,className:"attachments",to:"/recommendations/attachments/:document"},e.title)})),r.a.createElement("section",{className:"attachments-choice"},"Wygeneruj za\u0142\u0105cznik:"," ",r.a.createElement("div",{className:"attachment-links"},r.a.createElement(v.c,{to:"/recommendations/create-new/generate-prescription"},r.a.createElement("button",{className:"attachment-button"},"Recepta")),r.a.createElement(v.c,{to:"/recommendations/create-new/generate-sickleave"},r.a.createElement("button",{className:"attachment-button"},"Zwolnienie")),r.a.createElement(v.c,{to:"/recommendations/create-new/generate-referral"},r.a.createElement("button",{className:"attachment-button"},"Skierowanie")),r.a.createElement(v.c,{to:"/recommendations/create-new/generate-lab-order"},r.a.createElement("button",{className:"attachment-button"},"Zlecenie badania")))),r.a.createElement("button",{className:"submit-button",onClick:this.submitRecommendation},"Dodaj zalecenie"))}}]),t}(n.Component)),I=a(15),C=(a(51),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={startDate:""},a.submitAttachment=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r,c,l,o,s,u,m,p,d,h,f,E,v,g,b,y,k;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={},r=t.target,c=r.date,l=r.startDate,e.t0=a.props.documentType,e.next="prescription"===e.t0?6:"sickleave"===e.t0?9:"referral"===e.t0?12:"lab-order"===e.t0?15:20;break;case 6:return o=t.target,s=o.medicine,u=o.payment,n={title:"Recepta ".concat(s.value),medicine:s.value,payment:u.value,issueDate:c.value,startDate:l.value,type:"recepta"},e.abrupt("break",21);case 9:return m=t.target,p=m.placeOfWork,d=m.endDate,n={title:"Zwolnienie ".concat(l.value,"-").concat(d.value),issueDate:c.value,placeOfWork:p.value,startDate:l.value,endDate:d.value,type:"zwolnienie"},e.abrupt("break",21);case 12:return h=t.target,f=h.place,E=h.examination,v=h.diagnosis,g=h.aim,n={title:"Skierowanie na ".concat(E.value," ").concat(c.value),issueDate:c.value,place:f.value,examination:E.value,diagnosis:v.value,aim:g.value,type:"skierowanie"},e.abrupt("break",21);case 15:return b=Object(I.a)(t.target.test),y=b.filter(function(e){return!0===e.checked}).map(function(e){return e.value}),console.log(y),n={title:"Zlecenie bada\u0144 laboratoryjnych ".concat(c.value),date:c.value,labTests:y,type:"zlecenie bada\u0144"},e.abrupt("break",21);case 20:return e.abrupt("return");case 21:return e.next=23,fetch("https://medical-documentation.herokuapp.com/attach-document",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){return n.id=e});case 23:console.log(n.id),(k=JSON.parse(sessionStorage.getItem("attachments"))||[]).push(n),sessionStorage.setItem("attachments",JSON.stringify(k)),a.props.history.push("/recommendations/create-new");case 28:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setStartDate=function(e){a.setState({startDate:e.target.value})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.documentType;return r.a.createElement("div",{className:"container"},r.a.createElement(v.c,{to:"/recommendations/create-new",className:"backButton"},r.a.createElement("button",null,"Powr\xf3t")),"prescription"===e&&r.a.createElement("div",null,r.a.createElement("h2",null,"Nowa recepta"),r.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},r.a.createElement("label",null,"Data:",r.a.createElement("input",{type:"date",name:"date",min:N,max:O,defaultValue:O})),r.a.createElement("label",null,"Informacje o leku:"," ",r.a.createElement("input",{type:"text",placeholder:"Nazwa, ilo\u015b\u0107, dawkowanie",name:"medicine",required:!0})),r.a.createElement("label",null,"Odp\u0142atno\u015b\u0107: ",r.a.createElement("input",{type:"text",name:"payment",required:!0,placeholder:" "})),r.a.createElement("label",null,"Data od dnia: ",r.a.createElement("input",{type:"date",name:"startDate"})),r.a.createElement("input",{type:"submit",value:"Dodaj"}))),"sickleave"===e&&r.a.createElement("div",null,r.a.createElement("h2",null,"Nowe zwolnienie lekarskie"),r.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},r.a.createElement("label",null,"Data:",r.a.createElement("input",{type:"date",name:"date",min:N,max:O,defaultValue:O})),r.a.createElement("label",null,"Miejsce pracy: ",r.a.createElement("input",{type:"text",name:"placeOfWork",required:!0,placeholder:" "})),r.a.createElement("label",null,"od:"," ",r.a.createElement("input",{type:"date",name:"startDate",min:N,required:!0,id:"startDate",onChange:this.setStartDate})),r.a.createElement("label",null,"do:"," ",r.a.createElement("input",{type:"date",name:"endDate",required:!0,min:this.state.startDate})),r.a.createElement("input",{type:"submit",value:"Dodaj"}))),"referral"===e&&r.a.createElement("div",null,r.a.createElement("h2",null,"Nowe skierowanie"),r.a.createElement("form",{className:"attachment-form",onSubmit:this.submitAttachment},r.a.createElement("label",null,"Data:",r.a.createElement("input",{type:"date",name:"date",min:N,max:O,defaultValue:O})),r.a.createElement("label",null,"Skierowanie do:"," ",r.a.createElement("input",{type:"text",name:"place",placeholder:"poradni specjalistycznej, pracowni diagnostycznej",required:!0})),r.a.createElement("label",null,"Badanie:"," ",r.a.createElement("input",{type:"text",name:"examination",placeholder:"konsultacja, badanie USG",required:!0})),r.a.createElement("label",null,"Rozpoznanie: ",r.a.createElement("input",{type:"text",name:"diagnosis",required:!0,placeholder:" "})),r.a.createElement("label",null,"Cel: ",r.a.createElement("input",{type:"text",name:"aim",required:!0,placeholder:" "})),r.a.createElement("input",{type:"submit",value:"Dodaj"}))),"lab-order"===e&&r.a.createElement("div",null,r.a.createElement("h2",null,"Nowe zlecenie na badanie"),r.a.createElement("form",{className:"lab-order-form",onSubmit:this.submitAttachment},r.a.createElement("label",{className:"date-label"},"Data:",r.a.createElement("input",{type:"date",name:"date",min:N,max:O,defaultValue:O})),r.a.createElement("div",{className:"tests"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Morfologia"}),"Morfologia"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"LDL"}),"LDL"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"HDL"}),"HDL"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"TC"}),"TC"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Glukoza"}),"Glukoza"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"TG"}),"Tr\xf3jglicerydy"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Kwas moczowy"}),"Keas moczowy"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"TP"}),"TP"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"TBIL"}),"TBIL"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Magnez"}),"Magnez"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"S\xf3d"}),"S\xf3d"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Potas"}),"Potas"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"\u017belazo"}),"\u017belazo"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"Wap\u0144"}),"Wap\u0144"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"ALAT"}),"ALAT"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"ASPAT"}),"ASPAT"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"TSH"}),"TSH"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"FT3"}),"FT3"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"FT4"}),"FT4"),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",name:"test",value:"OB"}),"OB")),r.a.createElement("input",{type:"submit",value:"Dodaj"}))))}}]),t}(n.Component)),L=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={patientID:"",tasks:[],patients:[]},a.addTask=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.persist(),t.target.title.value=t.target.title.value.trim(),0!==t.target.title.value.length){e.next=5;break}return e.abrupt("return");case 5:return n="done"===t.target.completed.value,e.next=8,fetch("https://medical-documentation.herokuapp.com/new-task",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.target.title.value,date:t.target.date.value.split("T").join(" "),completed:n,details:t.target.details.value,previousTask:t.target.previousTask.value})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e.sort(a.compare)})});case 8:t.target.title.value="",t.target.details.value="",t.target.date.value="";case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.addTaskFromSideBar=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log(t.target),t.persist(),t.target.title.value=t.target.title.value.trim(),0!==t.target.title.value.length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,fetch("https://medical-documentation.herokuapp.com/new-task",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t.target.title.value,date:"",completed:!1,details:"",previousTask:""})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e.sort(a.compare)})});case 8:t.target.title.value="";case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.editTask=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/edit-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:document.querySelector("#title").value,details:document.querySelector("#details").value,date:document.querySelector("#date").value,previousTaskId:document.querySelector("#previous-task").value,id:t})}).then(function(e){return e.json()}).then(function(e){return a.setState({tasks:e.sort(a.compare)})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.setCompleted=function(e){var t=e.target.id;a.setState({tasks:a.state.tasks.map(function(e,a){return e._id===t&&(e.completed=!0),e})}),fetch("https://medical-documentation.herokuapp.com/complete-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,completed:!0})})},a.toggleComplete=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.id,r="",a.setState({tasks:a.state.tasks.map(function(e,t){return e._id===n&&(e.completed=!e.completed,r=e.completed),e})}),e.next=5,fetch("https://medical-documentation.herokuapp.com/complete-task",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:n,completed:r})});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.searchPatient=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.state.patientID){e.next=10;break}return t.preventDefault(),n=t.target.patientID.value,e.next=6,fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:n})}).then(function(e){400===e.status?alert("Nie ma takiego pacjenta"):a.setState({patientID:n})});case 6:return e.next=8,fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(e){a.setState({tasks:e.sort(a.compare)})});case 8:e.next=12;break;case 10:a.setState({patientID:""}),fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:""})});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.compare=function(e,t){var a=parseInt(e.date.split(" ")[0].split("-").join(""))||0,n=parseInt(t.date.split(" ")[0].split("-").join(""))||0;return a>n?-1:a<n?1:0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://medical-documentation.herokuapp.com/patients").then(function(e){return e.json()}).then(function(e){console.log(e),t.setState({patients:e.map(function(e){return e.id})})});case 2:return e.next=4,fetch("https://medical-documentation.herokuapp.com/medical-process").then(function(e){return e.json()}).then(function(e){return t.setState({tasks:e.sort(t.compare)})});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.patientID;return r.a.createElement("div",null,r.a.createElement("form",{className:"ID-form",onSubmit:this.searchPatient},t?r.a.createElement("p",{className:"id-info"},t):r.a.createElement("select",{name:"patientID",defaultValue:""},r.a.createElement("option",{value:"",disabled:!0},"Wybierz pacjenta"),this.state.patients.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("input",{type:"submit",value:this.state.patientID?"Zmie\u0144 pacienta":"Znajd\u017a pacjenta"})),this.state.patientID&&r.a.createElement("div",null,r.a.createElement(w,{activeAccount:"doctor",patient:this.state.patientID,tasks:this.state.tasks,addTask:this.addTaskFromSideBar,toggleComplete:this.toggleComplete}),r.a.createElement(v.b,null,r.a.createElement("nav",null,r.a.createElement(v.d,{to:"/documentation",activeClassName:"active"},"Dokumentacja"),r.a.createElement(v.d,{to:"/recommendations",activeClassName:"active"},"Zalecenia"),r.a.createElement(v.d,{to:"/medical-process",activeClassName:"active"},"Proces medyczny")),r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/recommendations/create-new/generate-prescription",render:function(e){return r.a.createElement(C,Object.assign({},e,{documentType:"prescription"}))}}),r.a.createElement(f.b,{exact:!0,path:"/recommendations/create-new/generate-sickleave",render:function(e){return r.a.createElement(C,Object.assign({},e,{documentType:"sickleave"}))}}),r.a.createElement(f.b,{exact:!0,path:"/recommendations/create-new/generate-referral",render:function(e){return r.a.createElement(C,Object.assign({},e,{documentType:"referral"}))}}),r.a.createElement(f.b,{exact:!0,path:"/recommendations/create-new/generate-lab-order",render:function(e){return r.a.createElement(C,Object.assign({},e,{documentType:"lab-order"}))}}),r.a.createElement(f.b,{exact:!0,path:"/documentation/document:documentId",component:g}),r.a.createElement(f.b,{exact:!0,path:"/recommendations/create-new",component:z}),r.a.createElement(f.b,{exact:!0,path:"/documentation/create-new",component:T}),r.a.createElement(f.b,{exact:!0,path:"/documentation/report",component:S}),"} />",r.a.createElement(f.b,{path:"/documentation",render:function(e){return r.a.createElement(k,Object.assign({},e,{activeAccount:"doctor"}))}}),r.a.createElement(f.b,{path:"/recommendations",render:function(e){return r.a.createElement(j,Object.assign({},e,{activeAccount:"doctor"}))}}),r.a.createElement(f.b,{path:"/medical-process",render:function(t){return r.a.createElement(b,Object.assign({},t,{activeAccount:"doctor",tasks:e.state.tasks,addTask:e.addTask,setCompleted:e.setCompleted,editTask:e.editTask}))}}),r.a.createElement(f.a,{from:"/",to:"/documentation"}))),r.a.createElement("div",null)))}}]),t}(n.Component),A=(a(52),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={resultType:"",results:[],parameters:[],labOrders:[],patientID:""},a.chooseResultType=function(e){console.log(e.target.value),a.setState({resultType:e.target.value})},a.addParameter=function(e){e.preventDefault();var t=document.querySelector("#parameter").value,n=document.querySelector("#result").value,r=a.state.parameters.find(function(e){return e.name===t}).range,c=a.state.parameters.find(function(e){return e.name===t}).unit;if(/^[0-9.,]{1,7}$/.test(n)){var l={name:t,value:n,type:a.state.resultType,range:r,unit:c};a.setState({results:[].concat(Object(I.a)(a.state.results),[l])}),document.querySelector("#result").value=""}},a.submitResult=function(e){e.preventDefault();var t=e.target.collectionDate.value.split("T"),n="Badanie krwi ".concat(t[0]),r=O;fetch("https://medical-documentation.herokuapp.com/lab-result",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({labPatientID:e.target.patientID.value,labOrder:e.target.labOrder.value,orderingDoctor:e.target.orderingDoctor.value,title:n,testDate:t.join(" "),issueDate:r,results:a.state.results})}),a.setState({resultType:"",results:[]}),window.location.reload()},a.choosePatient=function(){var e=Object(s.a)(i.a.mark(function e(t){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.target.value).match(/[0-9]{5}/)){e.next=8;break}return e.next=4,fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:n})}).then(function(e){400===e.status?alert("Nie ma takiego pacjenta"):e.json().then(function(e){return a.setState({patientID:e})})});case 4:return e.next=6,fetch("https://medical-documentation.herokuapp.com/attached-documents").then(function(e){return e.json()}).then(function(e){return a.setState({labOrders:e.filter(function(e){return"zlecenie bada\u0144"===e.type})})});case 6:e.next=11;break;case 8:return e.next=10,fetch("https://medical-documentation.herokuapp.com/get-patient-data",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({patientID:""})});case 10:a.setState({patientID:""});case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://medical-documentation.herokuapp.com/lab-data").then(function(e){return e.json()}).then(function(t){return e.setState({parameters:t})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container lab-container"},r.a.createElement("h2",null,"Dodaj wynik badania krwi"),r.a.createElement("form",{className:"form",onSubmit:this.submitResult},r.a.createElement("label",{htmlFor:"patientID",className:"mainLabel"},"ID pacjenta"," ",r.a.createElement("input",{name:"patientID",type:"text",required:!0,pattern:"[0-9]{5}",placeholder:" ",onChange:this.choosePatient})),r.a.createElement("label",{className:"mainLabel"},"Zlecenie:"," ",r.a.createElement("select",{className:"lab-orders",name:"labOrder",defaultValue:"",disabled:!this.state.patientID},r.a.createElement("option",{value:"",disabled:!0},"Wybierz zlecenie"),this.state.labOrders.map(function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.title)}))),r.a.createElement("label",{htmlFor:"orderingDoctor",className:"mainLabel"},"Lekarz zlecaj\u0105cy"," ",r.a.createElement("input",{name:"orderingDoctor",type:"text",required:!0,placeholder:" ",disabled:!this.state.patientID})),r.a.createElement("label",{htmlFor:"collectionDate",className:"mainLabel"},"Data pobrania"," ",r.a.createElement("input",{name:"collectionDate",type:"datetime-local",disabled:!this.state.patientID})),r.a.createElement("label",{className:"mainLabel"},"Typ badania",r.a.createElement("select",{disabled:!this.state.patientID,name:"result-type",onChange:this.chooseResultType,defaultValue:"default"},r.a.createElement("option",{value:"default",disabled:!0},"Wybierz typ badania"),r.a.createElement("option",{value:"Morfologia"},"Morfologia krwi"),r.a.createElement("option",{value:"Biochemia"},"Biochemia krwi"),r.a.createElement("option",{value:"Immunochemia"},"Immunochemia"),r.a.createElement("option",{value:"OB"},"OB"))),this.state.resultType&&r.a.createElement("div",{className:"result-display"},r.a.createElement("div",{className:"inner-form"},r.a.createElement("label",null,"Wybierz parametr","Morfologia"===this.state.resultType&&r.a.createElement("select",{name:"parameter",id:"parameter"},this.state.parameters.filter(function(e){return"Morfologia"===e.testType}).map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)})),"Biochemia"===this.state.resultType&&r.a.createElement("select",{name:"parameter",id:"parameter"},this.state.parameters.filter(function(e){return"Biochemia"===e.testType}).map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)})),"Immunochemia"===this.state.resultType&&r.a.createElement("select",{name:"parameter",id:"parameter"},this.state.parameters.filter(function(e){return"Immunochemia"===e.testType}).map(function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)})),"OB"===this.state.resultType&&r.a.createElement("select",{name:"parameter",id:"parameter"},r.a.createElement("option",{value:"OB"},"OB"))),r.a.createElement("label",null,"Warto\u015b\u0107",r.a.createElement("input",{type:"text",name:"result",id:"result",pattern:"[0-9.,]{1,7}"})),r.a.createElement("input",{type:"submit",value:"Dodaj parametr",onClick:this.addParameter})),this.state.results.length>0&&r.a.createElement("div",{className:"table"},r.a.createElement("table",{border:"1"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"mobile-out"},"Lp."),r.a.createElement("th",null,"Parametr"),r.a.createElement("th",null,"Warto\u015b\u0107"),r.a.createElement("th",null,"Zakres"),r.a.createElement("th",null,"Jednostka"))),this.state.results.map(function(t,a){return r.a.createElement("tbody",{key:a},r.a.createElement("tr",null,r.a.createElement("td",{className:"mobile-out"},a+1),r.a.createElement("td",null,e.state.results[a].name),r.a.createElement("td",null,e.state.results[a].value),r.a.createElement("td",null,e.state.results[a].range),r.a.createElement("td",null,e.state.results[a].unit)))})),r.a.createElement("input",{type:"submit",value:"Zapisz i prze\u015blij"})))))}}]),t}(n.Component)),q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={activeAccount:JSON.parse(sessionStorage.getItem("account"))?JSON.parse(sessionStorage.getItem("account")):"",isLoggedIn:JSON.parse(sessionStorage.getItem("isLoggedIn"))||"false",activeUser:JSON.parse(sessionStorage.getItem("user"))||[]},a.changeAccount=function(e){a.setState({activeAccount:e.target.value})},a.logIn=function(){var e=Object(s.a)(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://medical-documentation.herokuapp.com/login",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({login:t.target.login.value,password:t.target.password.value})}).then(function(e){return e.json()}).then(function(e){console.log(e),"FAIL"===e?document.querySelector("#login-info").innerHTML="Niepoprawny login i has\u0142o":a.setState({activeAccount:e.accountType,isLoggedIn:"true",activeUser:e})});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.logOut=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({activeAccount:"",isLoggedIn:"false"}),a.props.history.push("/");case 2:case"end":return e.stop()}},e)})),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){sessionStorage.setItem("isLoggedIn",JSON.stringify(this.state.isLoggedIn)),sessionStorage.setItem("account",JSON.stringify(this.state.activeAccount)),sessionStorage.setItem("user",JSON.stringify(this.state.activeUser))}},{key:"render",value:function(){var e;return sessionStorage.getItem("generatedLogin")?(e="Tw\xf3j wygenerowany login: ".concat(sessionStorage.getItem("generatedLogin")),sessionStorage.removeItem("generatedLogin")):e=r.a.createElement("br",null),r.a.createElement("div",null,"false"===this.state.isLoggedIn?r.a.createElement("div",{className:"login-container"},r.a.createElement("h2",null,"Zaloguj si\u0119"),r.a.createElement("p",{id:"login-info"},e),r.a.createElement("form",{onSubmit:this.logIn},r.a.createElement("label",{htmlFor:"login"},"U\u017cytkownik: "),r.a.createElement("input",{type:"text",name:"login",pattern:"[PDL]\\d{5}",placeholder:"np. P12345, D12345, L12345",required:!0}),r.a.createElement("label",{htmlFor:"password"},"Has\u0142o: "),r.a.createElement("input",{type:"password",name:"password",required:!0}),r.a.createElement("input",{type:"submit",value:"Zaloguj"})),r.a.createElement("p",null,"Nie masz konta?"),r.a.createElement(v.c,{to:"/register"},r.a.createElement("button",null,"Zarejestruj si\u0119"))):r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("p",{className:"login-info"},"Zalogowano jako: ",this.state.activeUser.name),r.a.createElement("button",{className:"log-out",onClick:this.logOut},"Wyloguj si\u0119")),"patient"===this.state.activeAccount?r.a.createElement(x,null):"doctor"===this.state.activeAccount?r.a.createElement(L,null):r.a.createElement(A,null)))}}]),t}(n.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentWillMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.getItem("account")){e.next=5;break}return console.log("no account"),"",e.next=5,sessionStorage.setItem("account",JSON.stringify(""));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/register",component:E}),r.a.createElement(f.b,{exact:!0,path:"/",component:q})))}}]),t}(n.Component);l.a.render(r.a.createElement(v.a,{basename:"/dokumenty_cyfrowe_w_medycynie"},r.a.createElement(M,null)),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.8d732821.chunk.js.map